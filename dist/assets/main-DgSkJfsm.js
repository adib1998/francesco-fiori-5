var LN=Object.defineProperty;var qh=e=>{throw TypeError(e)};var zN=(e,t,r)=>t in e?LN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Le=(e,t,r)=>zN(e,typeof t!="symbol"?t+"":t,r),cd=(e,t,r)=>t.has(e)||qh("Cannot "+r);var k=(e,t,r)=>(cd(e,t,"read from private field"),r?r.call(e):t.get(e)),se=(e,t,r)=>t.has(e)?qh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Q=(e,t,r,n)=>(cd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ge=(e,t,r)=>(cd(e,t,"access private method"),r);var jl=(e,t,r,n)=>({set _(s){Q(e,t,s,r)},get _(){return k(e,t,n)}});import{j as a,P as Te,c as ui,a as _x,u as st,B as $N,b as co,d as nu,e as ve,f as Ka,R as BN,g as _p,h as pr,i as UN,D as Fp,k as qN,S as HN,l as Fx,m as Mx,n as Lx,o as zx,F as $x,p as su,O as Bx,q as VN,C as Ux,r as WN,T as qx,s as Hx,t as GN,L as Vx,v as Wx,w as Gx,x as KN,y as QN}from"./ui-jdjAswKa.js";import{b as Go,r as S,a as K,v as YN,d as Mp}from"./vendor-B6D-3294.js";import{L as Hh,u as ZN,a as Kx,b as Qx,B as XN,R as JN,c as on}from"./router-szytHFn9.js";import{c as ej,_ as mr}from"./supabase-CjXV2u68.js";import{loadStripe as tj}from"./stripe-Z1fX3C2C.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Yx,Vh=Go;Yx=Vh.createRoot,Vh.hydrateRoot;const rj=1,nj=1e6;let ud=0;function sj(){return ud=(ud+1)%Number.MAX_SAFE_INTEGER,ud.toString()}const dd=new Map,Wh=e=>{if(dd.has(e))return;const t=setTimeout(()=>{dd.delete(e),Yi({type:"REMOVE_TOAST",toastId:e})},nj);dd.set(e,t)},aj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,rj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Wh(r):e.toasts.forEach(n=>{Wh(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Yl=[];let Zl={toasts:[]};function Yi(e){Zl=aj(Zl,e),Yl.forEach(t=>{t(Zl)})}function Ui({...e}){const t=sj(),r=s=>Yi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Yi({type:"DISMISS_TOAST",toastId:t});return Yi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Ae(){const[e,t]=S.useState(Zl);return S.useEffect(()=>(Yl.push(t),()=>{const r=Yl.indexOf(t);r>-1&&Yl.splice(r,1)}),[e]),{...e,toast:Ui,dismiss:r=>Yi({type:"DISMISS_TOAST",toastId:r})}}var Zx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ij="VisuallyHidden",au=S.forwardRef((e,t)=>a.jsx(Te.span,{...e,ref:t,style:{...Zx,...e.style}}));au.displayName=ij;var oj=au,Lp="ToastProvider",[zp,lj,cj]=_x("Toast"),[Xx,Y5]=ui("Toast",[cj]),[uj,iu]=Xx(Lp),Jx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=S.useState(null),[u,f]=S.useState(0),d=S.useRef(!1),p=S.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lp}\`. Expected non-empty \`string\`.`),a.jsx(zp.Provider,{scope:t,children:a.jsx(uj,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>f(m=>m+1),[]),onToastRemove:S.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};Jx.displayName=Lp;var ey="ToastViewport",dj=["F8"],rf="toast.viewportPause",nf="toast.viewportResume",ty=S.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=dj,label:s="Notifications ({hotkey})",...i}=e,o=iu(ey,r),l=lj(r),c=S.useRef(null),u=S.useRef(null),f=S.useRef(null),d=S.useRef(null),p=st(t,d,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=o.toastCount>0;S.useEffect(()=>{const b=g=>{var y;n.length!==0&&n.every(w=>g[w]||g.code===w)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),S.useEffect(()=>{const b=c.current,g=d.current;if(h&&b&&g){const v=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(rf);g.dispatchEvent(j),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(nf);g.dispatchEvent(j),o.isClosePausedRef.current=!1}},w=j=>{!b.contains(j.relatedTarget)&&y()},N=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",v),b.addEventListener("focusout",w),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[h,o.isClosePausedRef]);const x=S.useCallback(({tabbingDirection:b})=>{const v=l().map(y=>{const w=y.ref.current,N=[w,...jj(w)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return S.useEffect(()=>{const b=d.current;if(b){const g=v=>{var N,j,E;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const C=document.activeElement,I=v.shiftKey;if(v.target===b&&I){(N=u.current)==null||N.focus();return}const P=x({tabbingDirection:I?"backwards":"forwards"}),R=P.findIndex(A=>A===C);fd(P.slice(R+1))?v.preventDefault():I?(j=u.current)==null||j.focus():(E=f.current)==null||E.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[l,x]),a.jsxs($N,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&a.jsx(sf,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});fd(b)}}),a.jsx(zp.Slot,{scope:r,children:a.jsx(Te.ol,{tabIndex:-1,...i,ref:p})}),h&&a.jsx(sf,{ref:f,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});fd(b)}})]})});ty.displayName=ey;var ry="ToastFocusProxy",sf=S.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=iu(ry,r);return a.jsx(au,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});sf.displayName=ry;var Ko="Toast",fj="toast.swipeStart",pj="toast.swipeMove",mj="toast.swipeCancel",hj="toast.swipeEnd",ny=S.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=co({prop:n,defaultProp:s??!0,onChange:i,caller:Ko});return a.jsx(nu,{present:r||l,children:a.jsx(xj,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ka(e.onPause),onResume:Ka(e.onResume),onSwipeStart:ve(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ve(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});ny.displayName=Ko;var[gj,vj]=Xx(Ko,{onClose(){}}),xj=S.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:m,...h}=e,x=iu(Ko,r),[b,g]=S.useState(null),v=st(t,A=>g(A)),y=S.useRef(null),w=S.useRef(null),N=s||x.duration,j=S.useRef(0),E=S.useRef(N),C=S.useRef(0),{onToastAdd:I,onToastRemove:D}=x,O=Ka(()=>{var M;(b==null?void 0:b.contains(document.activeElement))&&((M=x.viewport)==null||M.focus()),o()}),P=S.useCallback(A=>{!A||A===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(O,A))},[O]);S.useEffect(()=>{const A=x.viewport;if(A){const M=()=>{P(E.current),u==null||u()},L=()=>{const F=new Date().getTime()-j.current;E.current=E.current-F,window.clearTimeout(C.current),c==null||c()};return A.addEventListener(rf,L),A.addEventListener(nf,M),()=>{A.removeEventListener(rf,L),A.removeEventListener(nf,M)}}},[x.viewport,N,c,u,P]),S.useEffect(()=>{i&&!x.isClosePausedRef.current&&P(N)},[i,N,x.isClosePausedRef,P]),S.useEffect(()=>(I(),()=>D()),[I,D]);const R=S.useMemo(()=>b?uy(b):null,[b]);return x.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(yj,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),a.jsx(gj,{scope:r,onClose:O,children:Go.createPortal(a.jsx(zp.ItemSlot,{scope:r,children:a.jsx(BN,{asChild:!0,onEscapeKeyDown:ve(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...h,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ve(e.onPointerDown,A=>{A.button===0&&(y.current={x:A.clientX,y:A.clientY})}),onPointerMove:ve(e.onPointerMove,A=>{if(!y.current)return;const M=A.clientX-y.current.x,L=A.clientY-y.current.y,F=!!w.current,T=["left","right"].includes(x.swipeDirection),_=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=T?_(0,M):0,W=T?0:_(0,L),q=A.pointerType==="touch"?10:2,J={x:B,y:W},Y={originalEvent:A,delta:J};F?(w.current=J,Cl(pj,d,Y,{discrete:!1})):Gh(J,x.swipeDirection,q)?(w.current=J,Cl(fj,f,Y,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(M)>q||Math.abs(L)>q)&&(y.current=null)}),onPointerUp:ve(e.onPointerUp,A=>{const M=w.current,L=A.target;if(L.hasPointerCapture(A.pointerId)&&L.releasePointerCapture(A.pointerId),w.current=null,y.current=null,M){const F=A.currentTarget,T={originalEvent:A,delta:M};Gh(M,x.swipeDirection,x.swipeThreshold)?Cl(hj,m,T,{discrete:!0}):Cl(mj,p,T,{discrete:!0}),F.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),yj=e=>{const{__scopeToast:t,children:r,...n}=e,s=iu(Ko,t),[i,o]=S.useState(!1),[l,c]=S.useState(!1);return Sj(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(_p,{asChild:!0,children:a.jsx(au,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},bj="ToastTitle",sy=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Te.div,{...n,ref:t})});sy.displayName=bj;var wj="ToastDescription",ay=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Te.div,{...n,ref:t})});ay.displayName=wj;var iy="ToastAction",oy=S.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(cy,{altText:r,asChild:!0,children:a.jsx($p,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iy}\`. Expected non-empty \`string\`.`),null)});oy.displayName=iy;var ly="ToastClose",$p=S.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=vj(ly,r);return a.jsx(cy,{asChild:!0,children:a.jsx(Te.button,{type:"button",...n,ref:t,onClick:ve(e.onClick,s.onClose)})})});$p.displayName=ly;var cy=S.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function uy(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Nj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...uy(n))}}),t}function Cl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?UN(s,i):s.dispatchEvent(i)}var Gh=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function Sj(e=()=>{}){const t=Ka(e);pr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Nj(e){return e.nodeType===e.ELEMENT_NODE}function jj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Cj=Jx,dy=ty,fy=ny,py=sy,my=ay,hy=oy,gy=$p;function vy(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=vy(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xy(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=vy(e))&&(n&&(n+=" "),n+=t);return n}const Kh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qh=xy,ou=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qh(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const p=Kh(f)||Kh(d);return s[u][p]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,p]=f;return p===void 0||(u[d]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:p,...m}=f;return Object.entries(m).every(h=>{let[x,b]=h;return Array.isArray(b)?b.includes({...i,...l}[x]):{...i,...l}[x]===b})?[...u,d,p]:u},[]);return Qh(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ej={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>S.createElement("svg",{ref:f,...Ej,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Pj(e)}`,l].join(" "),...u},[...t.map(([d,p])=>S.createElement(d,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ae("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ae("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ae("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=ae("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ae("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ae("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ae("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vp="-",zj=e=>{const t=Bj(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Vp);return l[0]===""&&l.length!==1&&l.shift(),Ry(l,t)||$j(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Ry=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Ry(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Vp);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Yh=/^\[(.+)\]$/,$j=e=>{if(Yh.test(e)){const t=Yh.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Bj=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return qj(Object.entries(e.classGroups),r).forEach(([i,o])=>{cf(o,n,i,t)}),n},cf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Zh(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Uj(s)){cf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{cf(o,Zh(t,i),r,n)})})},Zh=(e,t)=>{let r=e;return t.split(Vp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Uj=e=>e.isThemeGetter,qj=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,Hj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Oy="!",Vj=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let b=0;b<l.length;b++){let g=l[b];if(u===0){if(g===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(f,b)),f=b+i;continue}if(g==="/"){d=b;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(f),m=p.startsWith(Oy),h=m?p.substring(1):p,x=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},Wj=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Gj=e=>({cache:Hj(e.cacheSize),parseClassName:Vj(e),...zj(e)}),Kj=/\s+/,Qj=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Kj);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let h=!!m,x=n(h?p.substring(0,m):p);if(!x){if(!h){l=u+(l.length>0?" "+l:l);continue}if(x=n(p),!x){l=u+(l.length>0?" "+l:l);continue}h=!1}const b=Wj(f).join(":"),g=d?b+Oy:b,v=g+x;if(i.includes(v))continue;i.push(v);const y=s(x,h);for(let w=0;w<y.length;++w){const N=y[w];i.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function Yj(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_y(t))&&(n&&(n+=" "),n+=r);return n}const _y=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_y(e[n]))&&(r&&(r+=" "),r+=t);return r};function Zj(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=Gj(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Qj(c,r);return s(c,f),f}return function(){return i(Yj.apply(null,arguments))}}const $e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Fy=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xj=/^\d+\/\d+$/,Jj=new Set(["px","full","screen"]),e2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,n2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ln=e=>Pa(e)||Jj.has(e)||Xj.test(e),Tn=e=>mi(e,"length",f2),Pa=e=>!!e&&!Number.isNaN(Number(e)),pd=e=>mi(e,"number",Pa),Ii=e=>!!e&&Number.isInteger(Number(e)),a2=e=>e.endsWith("%")&&Pa(e.slice(0,-1)),he=e=>Fy.test(e),An=e=>e2.test(e),i2=new Set(["length","size","percentage"]),o2=e=>mi(e,i2,My),l2=e=>mi(e,"position",My),c2=new Set(["image","url"]),u2=e=>mi(e,c2,m2),d2=e=>mi(e,"",p2),Di=()=>!0,mi=(e,t,r)=>{const n=Fy.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},f2=e=>t2.test(e)&&!r2.test(e),My=()=>!1,p2=e=>n2.test(e),m2=e=>s2.test(e),h2=()=>{const e=$e("colors"),t=$e("spacing"),r=$e("blur"),n=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),u=$e("grayscale"),f=$e("hueRotate"),d=$e("invert"),p=$e("gap"),m=$e("gradientColorStops"),h=$e("gradientColorStopPositions"),x=$e("inset"),b=$e("margin"),g=$e("opacity"),v=$e("padding"),y=$e("saturate"),w=$e("scale"),N=$e("sepia"),j=$e("skew"),E=$e("space"),C=$e("translate"),I=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",he,t],P=()=>[he,t],R=()=>["",ln,Tn],A=()=>["auto",Pa,he],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",he],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Pa,he];return{cacheSize:500,separator:":",theme:{colors:[Di],spacing:[ln,Tn],blur:["none","",An,he],brightness:W(),borderColor:[e],borderRadius:["none","","full",An,he],borderSpacing:P(),borderWidth:R(),contrast:W(),grayscale:_(),hueRotate:W(),invert:_(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[a2,Tn],inset:O(),margin:O(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:_(),skew:W(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[An]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),he]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,he]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ii,he]}],"grid-cols":[{"grid-cols":[Di]}],"col-start-end":[{col:["auto",{span:["full",Ii,he]},he]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Di]}],"row-start-end":[{row:["auto",{span:[Ii,he]},he]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[An]},An]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",An,Tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pd]}],"font-family":[{font:[Di]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Pa,pd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ln,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ln,Tn]}],"underline-offset":[{"underline-offset":["auto",ln,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),l2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[ln,he]}],"outline-w":[{outline:[ln,Tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ln,Tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",An,d2]}],"shadow-color":[{shadow:[Di]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",An,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ii,he]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,Tn,pd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},g2=Zj(h2);function me(...e){return g2(xy(e))}const v2=Cj,Ly=S.forwardRef(({className:e,...t},r)=>a.jsx(dy,{ref:r,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ly.displayName=dy.displayName;const x2=ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),zy=S.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(fy,{ref:n,className:me(x2({variant:t}),e),...r}));zy.displayName=fy.displayName;const y2=S.forwardRef(({className:e,...t},r)=>a.jsx(hy,{ref:r,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));y2.displayName=hy.displayName;const $y=S.forwardRef(({className:e,...t},r)=>a.jsx(gy,{ref:r,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(tn,{className:"h-4 w-4"})}));$y.displayName=gy.displayName;const By=S.forwardRef(({className:e,...t},r)=>a.jsx(py,{ref:r,className:me("text-sm font-semibold",e),...t}));By.displayName=py.displayName;const Uy=S.forwardRef(({className:e,...t},r)=>a.jsx(my,{ref:r,className:me("text-sm opacity-90",e),...t}));Uy.displayName=my.displayName;function b2(){const{toasts:e}=Ae();return a.jsxs(v2,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(zy,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(By,{children:r}),n&&a.jsx(Uy,{children:n})]}),s,a.jsx($y,{})]},t)}),a.jsx(Ly,{})]})}const w2=S.createContext(void 0),S2={setTheme:e=>{},themes:[]},N2=()=>{var e;return(e=S.useContext(w2))!==null&&e!==void 0?e:S2};var j2=e=>{switch(e){case"success":return P2;case"info":return I2;case"warning":return k2;case"error":return D2;default:return null}},C2=Array(12).fill(0),E2=({visible:e,className:t})=>K.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},K.createElement("div",{className:"sonner-spinner"},C2.map((r,n)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),P2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),k2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),I2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),D2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T2=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),A2=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},uf=1,R2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:uf++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],K.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(_2(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||uf++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zt=new R2,O2=(e,t)=>{let r=(t==null?void 0:t.id)||uf++;return zt.addToast({title:e,...t,id:r}),r},_2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",F2=O2,M2=()=>zt.toasts,L2=()=>zt.getActiveToasts();Object.assign(F2,{success:zt.success,info:zt.info,warning:zt.warning,error:zt.error,custom:zt.custom,message:zt.message,promise:zt.promise,dismiss:zt.dismiss,loading:zt.loading},{getHistory:M2,getToasts:L2});function z2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}z2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function El(e){return e.label!==void 0}var $2=3,B2="32px",U2="16px",Xh=4e3,q2=356,H2=14,V2=20,W2=200;function jr(...e){return e.filter(Boolean).join(" ")}function G2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var K2=e=>{var t,r,n,s,i,o,l,c,u,f,d;let{invert:p,toast:m,unstyled:h,interacting:x,setHeights:b,visibleToasts:g,heights:v,index:y,toasts:w,expanded:N,removeToast:j,defaultRichColors:E,closeButton:C,style:I,cancelButtonStyle:D,actionButtonStyle:O,className:P="",descriptionClassName:R="",duration:A,position:M,gap:L,loadingIcon:F,expandByDefault:T,classNames:_,icons:B,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:q}=e,[J,Y]=K.useState(null),[fe,Se]=K.useState(null),[U,ie]=K.useState(!1),[be,re]=K.useState(!1),[X,V]=K.useState(!1),[le,xe]=K.useState(!1),[Fe,Ve]=K.useState(!1),[Je,Ct]=K.useState(0),[et,Ot]=K.useState(0),vr=K.useRef(m.duration||A||Xh),ua=K.useRef(null),xr=K.useRef(null),yl=y===0,bl=y+1<=g,_t=m.type,an=m.dismissible!==!1,ad=m.className||"",Ei=m.descriptionClassName||"",yr=K.useMemo(()=>v.findIndex(de=>de.toastId===m.id)||0,[v,m.id]),Pi=K.useMemo(()=>{var de;return(de=m.closeButton)!=null?de:C},[m.closeButton,C]),da=K.useMemo(()=>m.duration||A||Xh,[m.duration,A]),En=K.useRef(0),Pn=K.useRef(0),wl=K.useRef(0),kn=K.useRef(null),[id,od]=M.split("-"),ki=K.useMemo(()=>v.reduce((de,Ie,Me)=>Me>=yr?de:de+Ie.height,0),[v,yr]),Sl=A2(),Nl=m.invert||p,fa=_t==="loading";Pn.current=K.useMemo(()=>yr*L+ki,[yr,ki]),K.useEffect(()=>{vr.current=da},[da]),K.useEffect(()=>{ie(!0)},[]),K.useEffect(()=>{let de=xr.current;if(de){let Ie=de.getBoundingClientRect().height;return Ot(Ie),b(Me=>[{toastId:m.id,height:Ie,position:m.position},...Me]),()=>b(Me=>Me.filter(wr=>wr.toastId!==m.id))}},[b,m.id]),K.useLayoutEffect(()=>{if(!U)return;let de=xr.current,Ie=de.style.height;de.style.height="auto";let Me=de.getBoundingClientRect().height;de.style.height=Ie,Ot(Me),b(wr=>wr.find(Sr=>Sr.toastId===m.id)?wr.map(Sr=>Sr.toastId===m.id?{...Sr,height:Me}:Sr):[{toastId:m.id,height:Me,position:m.position},...wr])},[U,m.title,m.description,b,m.id]);let br=K.useCallback(()=>{re(!0),Ct(Pn.current),b(de=>de.filter(Ie=>Ie.toastId!==m.id)),setTimeout(()=>{j(m)},W2)},[m,j,b,Pn]);K.useEffect(()=>{if(m.promise&&_t==="loading"||m.duration===1/0||m.type==="loading")return;let de;return N||x||q&&Sl?(()=>{if(wl.current<En.current){let Ie=new Date().getTime()-En.current;vr.current=vr.current-Ie}wl.current=new Date().getTime()})():vr.current!==1/0&&(En.current=new Date().getTime(),de=setTimeout(()=>{var Ie;(Ie=m.onAutoClose)==null||Ie.call(m,m),br()},vr.current)),()=>clearTimeout(de)},[N,x,m,_t,q,Sl,br]),K.useEffect(()=>{m.delete&&br()},[br,m.delete]);function ld(){var de,Ie,Me;return B!=null&&B.loading?K.createElement("div",{className:jr(_==null?void 0:_.loader,(de=m==null?void 0:m.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":_t==="loading"},B.loading):F?K.createElement("div",{className:jr(_==null?void 0:_.loader,(Ie=m==null?void 0:m.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":_t==="loading"},F):K.createElement(E2,{className:jr(_==null?void 0:_.loader,(Me=m==null?void 0:m.classNames)==null?void 0:Me.loader),visible:_t==="loading"})}return K.createElement("li",{tabIndex:0,ref:xr,className:jr(P,ad,_==null?void 0:_.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[_t],(r=m==null?void 0:m.classNames)==null?void 0:r[_t]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:E,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":U,"data-promise":!!m.promise,"data-swiped":Fe,"data-removed":be,"data-visible":bl,"data-y-position":id,"data-x-position":od,"data-index":y,"data-front":yl,"data-swiping":X,"data-dismissible":an,"data-type":_t,"data-invert":Nl,"data-swipe-out":le,"data-swipe-direction":fe,"data-expanded":!!(N||T&&U),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${be?Je:Pn.current}px`,"--initial-height":T?"auto":`${et}px`,...I,...m.style},onDragEnd:()=>{V(!1),Y(null),kn.current=null},onPointerDown:de=>{fa||!an||(ua.current=new Date,Ct(Pn.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(V(!0),kn.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Ie,Me,wr;if(le||!an)return;kn.current=null;let Sr=Number(((de=xr.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((Ie=xr.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Cs=new Date().getTime()-((Me=ua.current)==null?void 0:Me.getTime()),Nr=J==="x"?Sr:In,Dn=Math.abs(Nr)/Cs;if(Math.abs(Nr)>=V2||Dn>.11){Ct(Pn.current),(wr=m.onDismiss)==null||wr.call(m,m),Se(J==="x"?Sr>0?"right":"left":In>0?"down":"up"),br(),xe(!0),Ve(!1);return}V(!1),Y(null)},onPointerMove:de=>{var Ie,Me,wr,Sr;if(!kn.current||!an||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;let In=de.clientY-kn.current.y,Cs=de.clientX-kn.current.x,Nr=(Me=e.swipeDirections)!=null?Me:G2(M);!J&&(Math.abs(Cs)>1||Math.abs(In)>1)&&Y(Math.abs(Cs)>Math.abs(In)?"x":"y");let Dn={x:0,y:0};J==="y"?(Nr.includes("top")||Nr.includes("bottom"))&&(Nr.includes("top")&&In<0||Nr.includes("bottom")&&In>0)&&(Dn.y=In):J==="x"&&(Nr.includes("left")||Nr.includes("right"))&&(Nr.includes("left")&&Cs<0||Nr.includes("right")&&Cs>0)&&(Dn.x=Cs),(Math.abs(Dn.x)>0||Math.abs(Dn.y)>0)&&Ve(!0),(wr=xr.current)==null||wr.style.setProperty("--swipe-amount-x",`${Dn.x}px`),(Sr=xr.current)==null||Sr.style.setProperty("--swipe-amount-y",`${Dn.y}px`)}},Pi&&!m.jsx?K.createElement("button",{"aria-label":W,"data-disabled":fa,"data-close-button":!0,onClick:fa||!an?()=>{}:()=>{var de;br(),(de=m.onDismiss)==null||de.call(m,m)},className:jr(_==null?void 0:_.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:T2):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:K.createElement(K.Fragment,null,_t||m.icon||m.promise?K.createElement("div",{"data-icon":"",className:jr(_==null?void 0:_.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ld():null,m.type!=="loading"?m.icon||(B==null?void 0:B[_t])||j2(_t):null):null,K.createElement("div",{"data-content":"",className:jr(_==null?void 0:_.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:jr(_==null?void 0:_.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?K.createElement("div",{"data-description":"",className:jr(R,Ei,_==null?void 0:_.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&El(m.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||D,onClick:de=>{var Ie,Me;El(m.cancel)&&an&&((Me=(Ie=m.cancel).onClick)==null||Me.call(Ie,de),br())},className:jr(_==null?void 0:_.cancelButton,(f=m==null?void 0:m.classNames)==null?void 0:f.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&El(m.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:de=>{var Ie,Me;El(m.action)&&((Me=(Ie=m.action).onClick)==null||Me.call(Ie,de),!de.defaultPrevented&&br())},className:jr(_==null?void 0:_.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function Jh(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Q2(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?U2:B2;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var Y2=S.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:p,style:m,visibleToasts:h=$2,toastOptions:x,dir:b=Jh(),gap:g=H2,loadingIcon:v,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[j,E]=K.useState([]),C=K.useMemo(()=>Array.from(new Set([n].concat(j.filter(q=>q.position).map(q=>q.position)))),[j,n]),[I,D]=K.useState([]),[O,P]=K.useState(!1),[R,A]=K.useState(!1),[M,L]=K.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=K.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=K.useRef(null),B=K.useRef(!1),W=K.useCallback(q=>{E(J=>{var Y;return(Y=J.find(fe=>fe.id===q.id))!=null&&Y.delete||zt.dismiss(q.id),J.filter(({id:fe})=>fe!==q.id)})},[]);return K.useEffect(()=>zt.subscribe(q=>{if(q.dismiss){E(J=>J.map(Y=>Y.id===q.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{YN.flushSync(()=>{E(J=>{let Y=J.findIndex(fe=>fe.id===q.id);return Y!==-1?[...J.slice(0,Y),{...J[Y],...q},...J.slice(Y+1)]:[q,...J]})})})}),[]),K.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{L(J?"dark":"light")})}catch{q.addListener(({matches:Y})=>{try{L(Y?"dark":"light")}catch(fe){console.error(fe)}})}},[f]),K.useEffect(()=>{j.length<=1&&P(!1)},[j]),K.useEffect(()=>{let q=J=>{var Y,fe;s.every(Se=>J[Se]||J.code===Se)&&(P(!0),(Y=F.current)==null||Y.focus()),J.code==="Escape"&&(document.activeElement===F.current||(fe=F.current)!=null&&fe.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[s]),K.useEffect(()=>{if(F.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,B.current=!1)}},[F.current]),K.createElement("section",{ref:t,"aria-label":`${w} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((q,J)=>{var Y;let[fe,Se]=q.split("-");return j.length?K.createElement("ol",{key:q,dir:b==="auto"?Jh():b,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":fe,"data-lifted":O&&j.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((Y=I[0])==null?void 0:Y.height)||0}px`,"--width":`${q2}px`,"--gap":`${g}px`,...m,...Q2(c,u)},onBlur:U=>{B.current&&!U.currentTarget.contains(U.relatedTarget)&&(B.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||B.current||(B.current=!0,_.current=U.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},j.filter(U=>!U.position&&J===0||U.position===q).map((U,ie)=>{var be,re;return K.createElement(K2,{key:U.id,icons:y,index:ie,toast:U,defaultRichColors:d,duration:(be=x==null?void 0:x.duration)!=null?be:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:h,closeButton:(re=x==null?void 0:x.closeButton)!=null?re:o,interacting:R,position:q,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:W,toasts:j.filter(X=>X.position==U.position),heights:I.filter(X=>X.position==U.position),setHeights:D,expandByDefault:i,gap:g,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Z2=({...e})=>{const{theme:t="system"}=N2();return a.jsx(Y2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},X2=["top","right","bottom","left"],fs=Math.min,Kt=Math.max,hc=Math.round,Pl=Math.floor,Yr=e=>({x:e,y:e}),J2={left:"right",right:"left",bottom:"top",top:"bottom"},eC={start:"end",end:"start"};function df(e,t,r){return Kt(e,fs(t,r))}function yn(e,t){return typeof e=="function"?e(t):e}function bn(e){return e.split("-")[0]}function hi(e){return e.split("-")[1]}function Wp(e){return e==="x"?"y":"x"}function Gp(e){return e==="y"?"height":"width"}function Qr(e){return["top","bottom"].includes(bn(e))?"y":"x"}function Kp(e){return Wp(Qr(e))}function tC(e,t,r){r===void 0&&(r=!1);const n=hi(e),s=Kp(e),i=Gp(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=gc(o)),[o,gc(o)]}function rC(e){const t=gc(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>eC[t])}function nC(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function sC(e,t,r,n){const s=hi(e);let i=nC(bn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(ff)))),i}function gc(e){return e.replace(/left|right|bottom|top/g,t=>J2[t])}function aC(e){return{top:0,right:0,bottom:0,left:0,...e}}function qy(e){return typeof e!="number"?aC(e):{top:e,right:e,bottom:e,left:e}}function vc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function eg(e,t,r){let{reference:n,floating:s}=e;const i=Qr(t),o=Kp(t),l=Gp(o),c=bn(t),u=i==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:f,y:n.y-s.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:d};break;case"left":m={x:n.x-s.width,y:d};break;default:m={x:n.x,y:n.y}}switch(hi(t)){case"start":m[o]-=p*(r&&u?-1:1);break;case"end":m[o]+=p*(r&&u?-1:1);break}return m}const iC=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=eg(u,n,c),p=n,m={},h=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:v,y,data:w,reset:N}=await g({x:f,y:d,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});f=v??f,d=y??d,m={...m,[b]:{...m[b],...w}},N&&h<=50&&(h++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:d}=eg(u,p,c)),x=-1)}return{x:f,y:d,placement:p,strategy:s,middlewareData:m}};async function po(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=yn(t,e),h=qy(m),b=l[p?d==="floating"?"reference":"floating":d],g=vc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),v=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},N=vc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-N.top+h.top)/w.y,bottom:(N.bottom-g.bottom+h.bottom)/w.y,left:(g.left-N.left+h.left)/w.x,right:(N.right-g.right+h.right)/w.x}}const oC=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=yn(e,t)||{};if(u==null)return{};const d=qy(f),p={x:r,y:n},m=Kp(s),h=Gp(m),x=await o.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=i.reference[h]+i.reference[m]-p[m]-i.floating[h],N=p[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=j?j[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(j)))&&(E=l.floating[y]||i.floating[h]);const C=w/2-N/2,I=E/2-x[h]/2-1,D=fs(d[g],I),O=fs(d[v],I),P=D,R=E-x[h]-O,A=E/2-x[h]/2+C,M=df(P,A,R),L=!c.arrow&&hi(s)!=null&&A!==M&&i.reference[h]/2-(A<P?D:O)-x[h]/2<0,F=L?A<P?A-P:A-R:0;return{[m]:p[m]+F,data:{[m]:M,centerOffset:A-M-F,...L&&{alignmentOffset:F}},reset:L}}}),lC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:x=!0,...b}=yn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=bn(s),v=Qr(l),y=bn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(y||!x?[gc(l)]:rC(l)),j=h!=="none";!p&&j&&N.push(...sC(l,x,h,w));const E=[l,...N],C=await po(t,b),I=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&I.push(C[g]),d){const A=tC(s,o,w);I.push(C[A[0]],C[A[1]])}if(D=[...D,{placement:s,overflows:I}],!I.every(A=>A<=0)){var O,P;const A=(((O=i.flip)==null?void 0:O.index)||0)+1,M=E[A];if(M&&(!(d==="alignment"?v!==Qr(M):!1)||D.every(T=>T.overflows[0]>0&&Qr(T.placement)===v)))return{data:{index:A,overflows:D},reset:{placement:M}};let L=(P=D.filter(F=>F.overflows[0]<=0).sort((F,T)=>F.overflows[1]-T.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(m){case"bestFit":{var R;const F=(R=D.filter(T=>{if(j){const _=Qr(T.placement);return _===v||_==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(_=>_>0).reduce((_,B)=>_+B,0)]).sort((T,_)=>T[1]-_[1])[0])==null?void 0:R[0];F&&(L=F);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function tg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rg(e){return X2.some(t=>e[t]>=0)}const cC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=yn(e,t);switch(n){case"referenceHidden":{const i=await po(t,{...s,elementContext:"reference"}),o=tg(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rg(o)}}}case"escaped":{const i=await po(t,{...s,altBoundary:!0}),o=tg(i,r.floating);return{data:{escapedOffsets:o,escaped:rg(o)}}}default:return{}}}}};async function uC(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=bn(r),l=hi(r),c=Qr(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,d=yn(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof h=="number"&&(m=l==="end"?h*-1:h),c?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const dC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await uC(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},fC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=yn(e,t),u={x:r,y:n},f=await po(t,c),d=Qr(bn(s)),p=Wp(d);let m=u[p],h=u[d];if(i){const b=p==="y"?"top":"left",g=p==="y"?"bottom":"right",v=m+f[b],y=m-f[g];m=df(v,m,y)}if(o){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=h+f[b],y=h-f[g];h=df(v,h,y)}const x=l.fn({...t,[p]:m,[d]:h});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[p]:i,[d]:o}}}}}},pC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yn(e,t),f={x:r,y:n},d=Qr(s),p=Wp(d);let m=f[p],h=f[d];const x=yn(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const y=p==="y"?"height":"width",w=i.reference[p]-i.floating[y]+b.mainAxis,N=i.reference[p]+i.reference[y]-b.mainAxis;m<w?m=w:m>N&&(m=N)}if(u){var g,v;const y=p==="y"?"width":"height",w=["top","left"].includes(bn(s)),N=i.reference[d]-i.floating[y]+(w&&((g=o.offset)==null?void 0:g[d])||0)+(w?0:b.crossAxis),j=i.reference[d]+i.reference[y]+(w?0:((v=o.offset)==null?void 0:v[d])||0)-(w?b.crossAxis:0);h<N?h=N:h>j&&(h=j)}return{[p]:m,[d]:h}}}},mC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=yn(e,t),f=await po(t,u),d=bn(s),p=hi(s),m=Qr(s)==="y",{width:h,height:x}=i.floating;let b,g;d==="top"||d==="bottom"?(b=d,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,b=p==="end"?"top":"bottom");const v=x-f.top-f.bottom,y=h-f.left-f.right,w=fs(x-f[b],v),N=fs(h-f[g],y),j=!t.middlewareData.shift;let E=w,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=v),j&&!p){const D=Kt(f.left,0),O=Kt(f.right,0),P=Kt(f.top,0),R=Kt(f.bottom,0);m?C=h-2*(D!==0||O!==0?D+O:Kt(f.left,f.right)):E=x-2*(P!==0||R!==0?P+R:Kt(f.top,f.bottom))}await c({...t,availableWidth:C,availableHeight:E});const I=await o.getDimensions(l.floating);return h!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function cu(){return typeof window<"u"}function gi(e){return Hy(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sn(e){var t;return(t=(Hy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hy(e){return cu()?e instanceof Node||e instanceof Zt(e).Node:!1}function zr(e){return cu()?e instanceof Element||e instanceof Zt(e).Element:!1}function rn(e){return cu()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function ng(e){return!cu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}function Yo(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function hC(e){return["table","td","th"].includes(gi(e))}function uu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qp(e){const t=Yp(),r=zr(e)?$r(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function gC(e){let t=ps(e);for(;rn(t)&&!Za(t);){if(Qp(t))return t;if(uu(t))return null;t=ps(t)}return null}function Yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Za(e){return["html","body","#document"].includes(gi(e))}function $r(e){return Zt(e).getComputedStyle(e)}function du(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ps(e){if(gi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ng(e)&&e.host||sn(e);return ng(t)?t.host:t}function Vy(e){const t=ps(e);return Za(t)?e.ownerDocument?e.ownerDocument.body:e.body:rn(t)&&Yo(t)?t:Vy(t)}function mo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Vy(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Zt(s);if(i){const l=pf(o);return t.concat(o,o.visualViewport||[],Yo(s)?s:[],l&&r?mo(l):[])}return t.concat(s,mo(s,[],r))}function pf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wy(e){const t=$r(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=rn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=hc(r)!==i||hc(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Zp(e){return zr(e)?e:e.contextElement}function ka(e){const t=Zp(e);if(!rn(t))return Yr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Wy(t);let o=(i?hc(r.width):r.width)/n,l=(i?hc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vC=Yr(0);function Gy(e){const t=Zt(e);return!Yp()||!t.visualViewport?vC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xC(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(e)?!1:t}function Ks(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Zp(e);let o=Yr(1);t&&(n?zr(n)&&(o=ka(n)):o=ka(e));const l=xC(i,r,n)?Gy(i):Yr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const p=Zt(i),m=n&&zr(n)?Zt(n):n;let h=p,x=pf(h);for(;x&&n&&m!==h;){const b=ka(x),g=x.getBoundingClientRect(),v=$r(x),y=g.left+(x.clientLeft+parseFloat(v.paddingLeft))*b.x,w=g.top+(x.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=y,u+=w,h=Zt(x),x=pf(h)}}return vc({width:f,height:d,x:c,y:u})}function Xp(e,t){const r=du(e).scrollLeft;return t?t.left+r:Ks(sn(e)).left+r}function Ky(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Xp(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function yC(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=sn(n),l=t?uu(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Yr(1);const f=Yr(0),d=rn(n);if((d||!d&&!i)&&((gi(n)!=="body"||Yo(o))&&(c=du(n)),rn(n))){const m=Ks(n);u=ka(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const p=o&&!d&&!i?Ky(o,c,!0):Yr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-c.scrollTop*u.y+f.y+p.y}}function bC(e){return Array.from(e.getClientRects())}function wC(e){const t=sn(e),r=du(e),n=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Xp(e);const l=-r.scrollTop;return $r(n).direction==="rtl"&&(o+=Kt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function SC(e,t){const r=Zt(e),n=sn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Yp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function NC(e,t){const r=Ks(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=rn(e)?ka(e):Yr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function sg(e,t,r){let n;if(t==="viewport")n=SC(e,r);else if(t==="document")n=wC(sn(e));else if(zr(t))n=NC(t,r);else{const s=Gy(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vc(n)}function Qy(e,t){const r=ps(e);return r===t||!zr(r)||Za(r)?!1:$r(r).position==="fixed"||Qy(r,t)}function jC(e,t){const r=t.get(e);if(r)return r;let n=mo(e,[],!1).filter(l=>zr(l)&&gi(l)!=="body"),s=null;const i=$r(e).position==="fixed";let o=i?ps(e):e;for(;zr(o)&&!Za(o);){const l=$r(o),c=Qp(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yo(o)&&!c&&Qy(e,o))?n=n.filter(f=>f!==o):s=l,o=ps(o)}return t.set(e,n),n}function CC(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?uu(t)?[]:jC(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=sg(t,f,s);return u.top=Kt(d.top,u.top),u.right=fs(d.right,u.right),u.bottom=fs(d.bottom,u.bottom),u.left=Kt(d.left,u.left),u},sg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EC(e){const{width:t,height:r}=Wy(e);return{width:t,height:r}}function PC(e,t,r){const n=rn(t),s=sn(t),i=r==="fixed",o=Ks(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Yr(0);function u(){c.x=Xp(s)}if(n||!n&&!i)if((gi(t)!=="body"||Yo(s))&&(l=du(t)),n){const m=Ks(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?Ky(s,l):Yr(0),d=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:d,y:p,width:o.width,height:o.height}}function md(e){return $r(e).position==="static"}function ag(e,t){if(!rn(e)||$r(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sn(e)===r&&(r=r.ownerDocument.body),r}function Yy(e,t){const r=Zt(e);if(uu(e))return r;if(!rn(e)){let s=ps(e);for(;s&&!Za(s);){if(zr(s)&&!md(s))return s;s=ps(s)}return r}let n=ag(e,t);for(;n&&hC(n)&&md(n);)n=ag(n,t);return n&&Za(n)&&md(n)&&!Qp(n)?r:n||gC(e)||r}const kC=async function(e){const t=this.getOffsetParent||Yy,r=this.getDimensions,n=await r(e.floating);return{reference:PC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IC(e){return $r(e).direction==="rtl"}const DC={convertOffsetParentRelativeRectToViewportRelativeRect:yC,getDocumentElement:sn,getClippingRect:CC,getOffsetParent:Yy,getElementRects:kC,getClientRects:bC,getDimensions:EC,getScale:ka,isElement:zr,isRTL:IC};function Zy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function TC(e,t){let r=null,n;const s=sn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:p,height:m}=u;if(l||t(),!p||!m)return;const h=Pl(d),x=Pl(s.clientWidth-(f+p)),b=Pl(s.clientHeight-(d+m)),g=Pl(f),y={rootMargin:-h+"px "+-x+"px "+-b+"px "+-g+"px",threshold:Kt(0,fs(1,c))||1};let w=!0;function N(j){const E=j[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Zy(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return o(!0),i}function AC(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Zp(e),f=s||i?[...u?mo(u):[],...mo(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const d=u&&l?TC(u,r):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let h,x=c?Ks(e):null;c&&b();function b(){const g=Ks(e);x&&!Zy(x,g)&&r(),x=g,h=requestAnimationFrame(b)}return r(),()=>{var g;f.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),d==null||d(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(h)}}const RC=dC,OC=fC,_C=lC,FC=mC,MC=cC,ig=oC,LC=pC,zC=(e,t,r)=>{const n=new Map,s={platform:DC,...r},i={...s.platform,_c:n};return iC(e,t,{...s,platform:i})};var $C=typeof document<"u",BC=function(){},Xl=$C?S.useLayoutEffect:BC;function xc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!xc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Xy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function og(e,t){const r=Xy(e);return Math.round(t*r)/r}function hd(e){const t=S.useRef(e);return Xl(()=>{t.current=e}),t}function UC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=S.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=S.useState(n);xc(p,n)||m(n);const[h,x]=S.useState(null),[b,g]=S.useState(null),v=S.useCallback(T=>{T!==j.current&&(j.current=T,x(T))},[]),y=S.useCallback(T=>{T!==E.current&&(E.current=T,g(T))},[]),w=i||h,N=o||b,j=S.useRef(null),E=S.useRef(null),C=S.useRef(f),I=c!=null,D=hd(c),O=hd(s),P=hd(u),R=S.useCallback(()=>{if(!j.current||!E.current)return;const T={placement:t,strategy:r,middleware:p};O.current&&(T.platform=O.current),zC(j.current,E.current,T).then(_=>{const B={..._,isPositioned:P.current!==!1};A.current&&!xc(C.current,B)&&(C.current=B,Go.flushSync(()=>{d(B)}))})},[p,t,r,O,P]);Xl(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[u]);const A=S.useRef(!1);Xl(()=>(A.current=!0,()=>{A.current=!1}),[]),Xl(()=>{if(w&&(j.current=w),N&&(E.current=N),w&&N){if(D.current)return D.current(w,N,R);R()}},[w,N,R,D,I]);const M=S.useMemo(()=>({reference:j,floating:E,setReference:v,setFloating:y}),[v,y]),L=S.useMemo(()=>({reference:w,floating:N}),[w,N]),F=S.useMemo(()=>{const T={position:r,left:0,top:0};if(!L.floating)return T;const _=og(L.floating,f.x),B=og(L.floating,f.y);return l?{...T,transform:"translate("+_+"px, "+B+"px)",...Xy(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:B}},[r,l,L.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:R,refs:M,elements:L,floatingStyles:F}),[f,R,M,L,F])}const qC=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ig({element:n.current,padding:s}).fn(r):{}:n?ig({element:n,padding:s}).fn(r):{}}}},HC=(e,t)=>({...RC(e),options:[e,t]}),VC=(e,t)=>({...OC(e),options:[e,t]}),WC=(e,t)=>({...LC(e),options:[e,t]}),GC=(e,t)=>({..._C(e),options:[e,t]}),KC=(e,t)=>({...FC(e),options:[e,t]}),QC=(e,t)=>({...MC(e),options:[e,t]}),YC=(e,t)=>({...qC(e),options:[e,t]});var ZC="Arrow",Jy=S.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Te.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jy.displayName=ZC;var XC=Jy;function e0(e){const[t,r]=S.useState(void 0);return pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Jp="Popper",[t0,vi]=ui(Jp),[JC,r0]=t0(Jp),n0=e=>{const{__scopePopper:t,children:r}=e,[n,s]=S.useState(null);return a.jsx(JC,{scope:t,anchor:n,onAnchorChange:s,children:r})};n0.displayName=Jp;var s0="PopperAnchor",a0=S.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=r0(s0,r),o=S.useRef(null),l=st(t,o);return S.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Te.div,{...s,ref:l})});a0.displayName=s0;var em="PopperContent",[eE,tE]=t0(em),i0=S.forwardRef((e,t)=>{var U,ie,be,re,X,V;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:h,...x}=e,b=r0(em,r),[g,v]=S.useState(null),y=st(t,le=>v(le)),[w,N]=S.useState(null),j=e0(w),E=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,I=n+(i!=="center"?"-"+i:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(u)?u:[u],P=O.length>0,R={padding:D,boundary:O.filter(nE),altBoundary:P},{refs:A,floatingStyles:M,placement:L,isPositioned:F,middlewareData:T}=UC({strategy:"fixed",placement:I,whileElementsMounted:(...le)=>AC(...le,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[HC({mainAxis:s+C,alignmentAxis:o}),c&&VC({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?WC():void 0,...R}),c&&GC({...R}),KC({...R,apply:({elements:le,rects:xe,availableWidth:Fe,availableHeight:Ve})=>{const{width:Je,height:Ct}=xe.reference,et=le.floating.style;et.setProperty("--radix-popper-available-width",`${Fe}px`),et.setProperty("--radix-popper-available-height",`${Ve}px`),et.setProperty("--radix-popper-anchor-width",`${Je}px`),et.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),w&&YC({element:w,padding:l}),sE({arrowWidth:E,arrowHeight:C}),p&&QC({strategy:"referenceHidden",...R})]}),[_,B]=c0(L),W=Ka(h);pr(()=>{F&&(W==null||W())},[F,W]);const q=(U=T.arrow)==null?void 0:U.x,J=(ie=T.arrow)==null?void 0:ie.y,Y=((be=T.arrow)==null?void 0:be.centerOffset)!==0,[fe,Se]=S.useState();return pr(()=>{g&&Se(window.getComputedStyle(g).zIndex)},[g]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:F?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(re=T.transformOrigin)==null?void 0:re.x,(X=T.transformOrigin)==null?void 0:X.y].join(" "),...((V=T.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(eE,{scope:r,placedSide:_,onArrowChange:N,arrowX:q,arrowY:J,shouldHideArrow:Y,children:a.jsx(Te.div,{"data-side":_,"data-align":B,...x,ref:y,style:{...x.style,animation:F?void 0:"none"}})})})});i0.displayName=em;var o0="PopperArrow",rE={top:"bottom",right:"left",bottom:"top",left:"right"},l0=S.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=tE(o0,n),o=rE[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(XC,{...s,ref:r,style:{...s.style,display:"block"}})})});l0.displayName=o0;function nE(e){return e!==null}var sE=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=c0(r),d={start:"0%",center:"50%",end:"100%"}[f],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let h="",x="";return u==="bottom"?(h=o?d:`${p}px`,x=`${-c}px`):u==="top"?(h=o?d:`${p}px`,x=`${n.floating.height+c}px`):u==="right"?(h=`${-c}px`,x=o?d:`${m}px`):u==="left"&&(h=`${n.floating.width+c}px`,x=o?d:`${m}px`),{data:{x:h,y:x}}}});function c0(e){const[t,r="center"]=e.split("-");return[t,r]}var u0=n0,fu=a0,tm=i0,rm=l0,[pu,Z5]=ui("Tooltip",[vi]),nm=vi(),d0="TooltipProvider",aE=700,lg="tooltip.open",[iE,f0]=pu(d0),p0=e=>{const{__scopeTooltip:t,delayDuration:r=aE,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(iE,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};p0.displayName=d0;var m0="Tooltip",[X5,mu]=pu(m0),mf="TooltipTrigger",oE=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=mu(mf,r),i=f0(mf,r),o=nm(r),l=S.useRef(null),c=st(t,l,s.onTriggerChange),u=S.useRef(!1),f=S.useRef(!1),d=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),a.jsx(fu,{asChild:!0,...o,children:a.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ve(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ve(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ve(e.onBlur,s.onClose),onClick:ve(e.onClick,s.onClose)})})});oE.displayName=mf;var lE="TooltipPortal",[J5,cE]=pu(lE,{forceMount:void 0}),Xa="TooltipContent",h0=S.forwardRef((e,t)=>{const r=cE(Xa,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=mu(Xa,e.__scopeTooltip);return a.jsx(nu,{present:n||o.open,children:o.disableHoverableContent?a.jsx(g0,{side:s,...i,ref:t}):a.jsx(uE,{side:s,...i,ref:t})})}),uE=S.forwardRef((e,t)=>{const r=mu(Xa,e.__scopeTooltip),n=f0(Xa,e.__scopeTooltip),s=S.useRef(null),i=st(t,s),[o,l]=S.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,p=S.useCallback(()=>{l(null),d(!1)},[d]),m=S.useCallback((h,x)=>{const b=h.currentTarget,g={x:h.clientX,y:h.clientY},v=hE(g,b.getBoundingClientRect()),y=gE(g,v),w=vE(x.getBoundingClientRect()),N=yE([...y,...w]);l(N),d(!0)},[d]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&f){const h=b=>m(b,f),x=b=>m(b,c);return c.addEventListener("pointerleave",h),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",h),f.removeEventListener("pointerleave",x)}}},[c,f,m,p]),S.useEffect(()=>{if(o){const h=x=>{const b=x.target,g={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),y=!xE(g,o);v?p():y&&(p(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[c,f,o,u,p]),a.jsx(g0,{...e,ref:i})}),[dE,fE]=pu(m0,{isInside:!1}),pE=qN("TooltipContent"),g0=S.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=mu(Xa,r),u=nm(r),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(lg,f),()=>document.removeEventListener(lg,f)),[f]),S.useEffect(()=>{if(c.trigger){const d=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),a.jsx(Fp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:a.jsxs(tm,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(pE,{children:n}),a.jsx(dE,{scope:r,isInside:!0,children:a.jsx(oj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});h0.displayName=Xa;var v0="TooltipArrow",mE=S.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nm(r);return fE(v0,r).isInside?null:a.jsx(rm,{...s,...n,ref:t})});mE.displayName=v0;function hE(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gE(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vE(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function xE(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,d=c.x,p=c.y;f>n!=p>n&&r<(d-u)*(n-f)/(p-f)+u&&(s=!s)}return s}function yE(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bE(t)}function bE(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wE=p0,x0=h0;const SE=wE,NE=S.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(x0,{ref:n,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));NE.displayName=x0.displayName;var xi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qs=typeof window>"u"||"Deno"in globalThis;function Dt(){}function jE(e,t){return typeof e=="function"?e(t):e}function hf(e){return typeof e=="number"&&e>=0&&e!==1/0}function y0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jn(e,t){return typeof e=="function"?e(t):e}function Ar(e,t){return typeof e=="function"?e(t):e}function cg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==sm(o,t.options))return!1}else if(!ho(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function ug(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ys(t.options.mutationKey)!==Ys(i))return!1}else if(!ho(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function sm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ys)(e)}function Ys(e){return JSON.stringify(e,(t,r)=>gf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ho(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ho(e[r],t[r])):!1}function b0(e,t){if(e===t)return e;const r=dg(e)&&dg(t);if(r||gf(e)&&gf(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const d=r?f:i[f];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=b0(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function yc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function dg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gf(e){if(!fg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!fg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fg(e){return Object.prototype.toString.call(e)==="[object Object]"}function CE(e){return new Promise(t=>{setTimeout(t,e)})}function vf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?b0(e,t):t}function EE(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function PE(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var am=Symbol();function w0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===am?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function S0(e,t){return typeof e=="function"?e(...t):!!e}var _s,zn,_a,Cx,kE=(Cx=class extends xi{constructor(){super();se(this,_s);se(this,zn);se(this,_a);Q(this,_a,t=>{if(!Qs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,zn)||this.setEventListener(k(this,_a))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,zn))==null||t.call(this),Q(this,zn,void 0))}setEventListener(t){var r;Q(this,_a,t),(r=k(this,zn))==null||r.call(this),Q(this,zn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,_s)!==t&&(Q(this,_s,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof k(this,_s)=="boolean"?k(this,_s):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_s=new WeakMap,zn=new WeakMap,_a=new WeakMap,Cx),im=new kE,Fa,$n,Ma,Ex,IE=(Ex=class extends xi{constructor(){super();se(this,Fa,!0);se(this,$n);se(this,Ma);Q(this,Ma,t=>{if(!Qs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,$n)||this.setEventListener(k(this,Ma))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,$n))==null||t.call(this),Q(this,$n,void 0))}setEventListener(t){var r;Q(this,Ma,t),(r=k(this,$n))==null||r.call(this),Q(this,$n,t(this.setOnline.bind(this)))}setOnline(t){k(this,Fa)!==t&&(Q(this,Fa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,Fa)}},Fa=new WeakMap,$n=new WeakMap,Ma=new WeakMap,Ex),bc=new IE;function xf(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function DE(e){return Math.min(1e3*2**e,3e4)}function N0(e){return(e??"online")==="online"?bc.isOnline():!0}var j0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gd(e){return e instanceof j0}function C0(e){let t=!1,r=0,n=!1,s;const i=xf(),o=x=>{var b;n||(p(new j0(x)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>im.isFocused()&&(e.networkMode==="always"||bc.isOnline())&&e.canRun(),f=()=>N0(e.networkMode)&&e.canRun(),d=x=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,x),s==null||s(),i.resolve(x))},p=x=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,x),s==null||s(),i.reject(x))},m=()=>new Promise(x=>{var b;s=g=>{(n||u())&&x(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;s=void 0,n||(x=e.onContinue)==null||x.call(e)}),h=()=>{if(n)return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(d).catch(g=>{var j;if(n)return;const v=e.retry??(Qs?0:3),y=e.retryDelay??DE,w=typeof y=="function"?y(r,g):y,N=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!N){p(g);return}r++,(j=e.onFail)==null||j.call(e,r,g),CE(w).then(()=>u()?void 0:m()).then(()=>{t?p(g):h()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?h():m().then(h),i)}}var TE=e=>setTimeout(e,0);function AE(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=TE;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var it=AE(),Fs,Px,E0=(Px=class{constructor(){se(this,Fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hf(this.gcTime)&&Q(this,Fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qs?1/0:5*60*1e3))}clearGcTimeout(){k(this,Fs)&&(clearTimeout(k(this,Fs)),Q(this,Fs,void 0))}},Fs=new WeakMap,Px),La,za,ir,Ms,St,qo,Ls,Ir,cn,kx,RE=(kx=class extends E0{constructor(t){super();se(this,Ir);se(this,La);se(this,za);se(this,ir);se(this,Ms);se(this,St);se(this,qo);se(this,Ls);Q(this,Ls,!1),Q(this,qo,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,Ms,t.client),Q(this,ir,k(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,La,OE(this.options)),this.state=t.state??k(this,La),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,St))==null?void 0:t.promise}setOptions(t){this.options={...k(this,qo),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,ir).remove(this)}setData(t,r){const n=vf(this.state.data,t,this.options);return ge(this,Ir,cn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ge(this,Ir,cn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=k(this,St))==null?void 0:n.promise;return(s=k(this,St))==null||s.cancel(t),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,La))}isActive(){return this.observers.some(t=>Ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===am||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!y0(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,St))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=k(this,St))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,ir).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(k(this,St)&&(k(this,Ls)?k(this,St).cancel({revert:!0}):k(this,St).cancelRetry()),this.scheduleGc()),k(this,ir).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ge(this,Ir,cn).call(this,{type:"invalidate"})}fetch(t,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,St))return k(this,St).continueRetry(),k(this,St).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Q(this,Ls,!0),n.signal)})},i=()=>{const p=w0(this.options,r),h=(()=>{const x={client:k(this,Ms),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return Q(this,Ls,!1),this.options.persister?this.options.persister(p,h,this):p(h)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:k(this,Ms),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),Q(this,za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ge(this,Ir,cn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=p=>{var m,h,x,b;gd(p)&&p.silent||ge(this,Ir,cn).call(this,{type:"error",error:p}),gd(p)||((h=(m=k(this,ir).config).onError)==null||h.call(m,p,this),(b=(x=k(this,ir).config).onSettled)==null||b.call(x,this.state.data,p,this)),this.scheduleGc()};return Q(this,St,C0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var m,h,x,b;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){c(g);return}(h=(m=k(this,ir).config).onSuccess)==null||h.call(m,p,this),(b=(x=k(this,ir).config).onSettled)==null||b.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,m)=>{ge(this,Ir,cn).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ge(this,Ir,cn).call(this,{type:"pause"})},onContinue:()=>{ge(this,Ir,cn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,St).start()}},La=new WeakMap,za=new WeakMap,ir=new WeakMap,Ms=new WeakMap,St=new WeakMap,qo=new WeakMap,Ls=new WeakMap,Ir=new WeakSet,cn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...P0(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gd(s)&&s.revert&&k(this,za)?{...k(this,za),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),it.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,ir).notify({query:this,type:"updated",action:t})})},kx);function P0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:N0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vr,Ix,_E=(Ix=class extends xi{constructor(t={}){super();se(this,Vr);this.config=t,Q(this,Vr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??sm(s,r);let o=this.get(i);return o||(o=new RE({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){k(this,Vr).has(t.queryHash)||(k(this,Vr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=k(this,Vr).get(t.queryHash);r&&(t.destroy(),r===t&&k(this,Vr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Vr).get(t)}getAll(){return[...k(this,Vr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>cg(t,n)):r}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vr=new WeakMap,Ix),Wr,Pt,zs,Gr,On,Dx,FE=(Dx=class extends E0{constructor(t){super();se(this,Gr);se(this,Wr);se(this,Pt);se(this,zs);this.mutationId=t.mutationId,Q(this,Pt,t.mutationCache),Q(this,Wr,[]),this.state=t.state||k0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Wr).includes(t)||(k(this,Wr).push(t),this.clearGcTimeout(),k(this,Pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Wr,k(this,Wr).filter(r=>r!==t)),this.scheduleGc(),k(this,Pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Wr).length||(this.state.status==="pending"?this.scheduleGc():k(this,Pt).remove(this))}continue(){var t;return((t=k(this,zs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,f,d,p,m,h,x,b,g,v,y,w,N,j,E,C;const r=()=>{ge(this,Gr,On).call(this,{type:"continue"})};Q(this,zs,C0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,D)=>{ge(this,Gr,On).call(this,{type:"failed",failureCount:I,error:D})},onPause:()=>{ge(this,Gr,On).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Pt).canRun(this)}));const n=this.state.status==="pending",s=!k(this,zs).canStart();try{if(n)r();else{ge(this,Gr,On).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=k(this,Pt).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&ge(this,Gr,On).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const I=await k(this,zs).start();return await((f=(u=k(this,Pt).config).onSuccess)==null?void 0:f.call(u,I,t,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,I,t,this.state.context)),await((h=(m=k(this,Pt).config).onSettled)==null?void 0:h.call(m,I,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,I,null,t,this.state.context)),ge(this,Gr,On).call(this,{type:"success",data:I}),I}catch(I){try{throw await((v=(g=k(this,Pt).config).onError)==null?void 0:v.call(g,I,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,I,t,this.state.context)),await((j=(N=k(this,Pt).config).onSettled)==null?void 0:j.call(N,void 0,I,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,I,t,this.state.context)),I}finally{ge(this,Gr,On).call(this,{type:"error",error:I})}}finally{k(this,Pt).runNext(this)}}},Wr=new WeakMap,Pt=new WeakMap,zs=new WeakMap,Gr=new WeakSet,On=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),it.batch(()=>{k(this,Wr).forEach(n=>{n.onMutationUpdate(t)}),k(this,Pt).notify({mutation:this,type:"updated",action:t})})},Dx);function k0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,Dr,Ho,Tx,ME=(Tx=class extends xi{constructor(t={}){super();se(this,fn);se(this,Dr);se(this,Ho);this.config=t,Q(this,fn,new Set),Q(this,Dr,new Map),Q(this,Ho,0)}build(t,r,n){const s=new FE({mutationCache:this,mutationId:++jl(this,Ho)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){k(this,fn).add(t);const r=kl(t);if(typeof r=="string"){const n=k(this,Dr).get(r);n?n.push(t):k(this,Dr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,fn).delete(t)){const r=kl(t);if(typeof r=="string"){const n=k(this,Dr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&k(this,Dr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=kl(t);if(typeof r=="string"){const n=k(this,Dr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=kl(t);if(typeof r=="string"){const s=(n=k(this,Dr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{k(this,fn).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,fn).clear(),k(this,Dr).clear()})}getAll(){return Array.from(k(this,fn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ug(r,n))}findAll(t={}){return this.getAll().filter(r=>ug(t,r))}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return it.batch(()=>Promise.all(t.map(r=>r.continue().catch(Dt))))}},fn=new WeakMap,Dr=new WeakMap,Ho=new WeakMap,Tx);function kl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function pg(e){return{onFetch:(t,r)=>{var f,d,p,m,h;const n=t.options,s=(p=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=w0(t.options,t.fetchOptions),v=async(y,w,N)=>{if(x)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return b(O),O})(),C=await g(E),{maxPages:I}=t.options,D=N?PE:EE;return{pages:D(y.pages,C,I),pageParams:D(y.pageParams,w,I)}};if(s&&i.length){const y=s==="backward",w=y?LE:mg,N={pages:i,pageParams:o},j=w(n,N);l=await v(N,j,y)}else{const y=e??i.length;do{const w=c===0?o[0]??n.initialPageParam:mg(n,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function mg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LE(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ze,Bn,Un,$a,Ba,qn,Ua,qa,Ax,zE=(Ax=class{constructor(e={}){se(this,Ze);se(this,Bn);se(this,Un);se(this,$a);se(this,Ba);se(this,qn);se(this,Ua);se(this,qa);Q(this,Ze,e.queryCache||new _E),Q(this,Bn,e.mutationCache||new ME),Q(this,Un,e.defaultOptions||{}),Q(this,$a,new Map),Q(this,Ba,new Map),Q(this,qn,0)}mount(){jl(this,qn)._++,k(this,qn)===1&&(Q(this,Ua,im.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Ze).onFocus())})),Q(this,qa,bc.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Ze).onOnline())})))}unmount(){var e,t;jl(this,qn)._--,k(this,qn)===0&&((e=k(this,Ua))==null||e.call(this),Q(this,Ua,void 0),(t=k(this,qa))==null||t.call(this),Q(this,qa,void 0))}isFetching(e){return k(this,Ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Bn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,Ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=k(this,Ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Jn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return k(this,Ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=k(this,Ze).get(n.queryHash),i=s==null?void 0:s.state.data,o=jE(t,i);if(o!==void 0)return k(this,Ze).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return it.batch(()=>k(this,Ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=k(this,Ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=k(this,Ze);it.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=k(this,Ze);return it.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=it.batch(()=>k(this,Ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return it.batch(()=>(k(this,Ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=it.batch(()=>k(this,Ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=k(this,Ze).build(this,t);return r.isStaleByTime(Jn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=pg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=pg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bc.isOnline()?k(this,Bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Ze)}getMutationCache(){return k(this,Bn)}getDefaultOptions(){return k(this,Un)}setDefaultOptions(e){Q(this,Un,e)}setQueryDefaults(e,t){k(this,$a).set(Ys(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,$a).values()],r={};return t.forEach(n=>{ho(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){k(this,Ba).set(Ys(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,Ba).values()],r={};return t.forEach(n=>{ho(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Un).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===am&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Un).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,Ze).clear(),k(this,Bn).clear()}},Ze=new WeakMap,Bn=new WeakMap,Un=new WeakMap,$a=new WeakMap,Ba=new WeakMap,qn=new WeakMap,Ua=new WeakMap,qa=new WeakMap,Ax),Mt,Ce,Vo,kt,$s,Ha,Hn,Vn,Wo,Va,Wa,Bs,Us,Wn,Ga,De,qi,yf,bf,wf,Sf,Nf,jf,Cf,I0,Rx,$E=(Rx=class extends xi{constructor(t,r){super();se(this,De);se(this,Mt);se(this,Ce);se(this,Vo);se(this,kt);se(this,$s);se(this,Ha);se(this,Hn);se(this,Vn);se(this,Wo);se(this,Va);se(this,Wa);se(this,Bs);se(this,Us);se(this,Wn);se(this,Ga,new Set);this.options=r,Q(this,Mt,t),Q(this,Vn,null),Q(this,Hn,xf()),this.options.experimental_prefetchInRender||k(this,Hn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Ce).addObserver(this),hg(k(this,Ce),this.options)?ge(this,De,qi).call(this):this.updateResult(),ge(this,De,Sf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ef(k(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ef(k(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ge(this,De,Nf).call(this),ge(this,De,jf).call(this),k(this,Ce).removeObserver(this)}setOptions(t){const r=this.options,n=k(this,Ce);if(this.options=k(this,Mt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,k(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ge(this,De,Cf).call(this),k(this,Ce).setOptions(this.options),r._defaulted&&!yc(this.options,r)&&k(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Ce),observer:this});const s=this.hasListeners();s&&gg(k(this,Ce),n,this.options,r)&&ge(this,De,qi).call(this),this.updateResult(),s&&(k(this,Ce)!==n||Ar(this.options.enabled,k(this,Ce))!==Ar(r.enabled,k(this,Ce))||Jn(this.options.staleTime,k(this,Ce))!==Jn(r.staleTime,k(this,Ce)))&&ge(this,De,yf).call(this);const i=ge(this,De,bf).call(this);s&&(k(this,Ce)!==n||Ar(this.options.enabled,k(this,Ce))!==Ar(r.enabled,k(this,Ce))||i!==k(this,Wn))&&ge(this,De,wf).call(this,i)}getOptimisticResult(t){const r=k(this,Mt).getQueryCache().build(k(this,Mt),t),n=this.createResult(r,t);return UE(this,n)&&(Q(this,kt,n),Q(this,Ha,this.options),Q(this,$s,k(this,Ce).state)),n}getCurrentResult(){return k(this,kt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){k(this,Ga).add(t)}getCurrentQuery(){return k(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=k(this,Mt).defaultQueryOptions(t),n=k(this,Mt).getQueryCache().build(k(this,Mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ge(this,De,qi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,kt)))}createResult(t,r){var I;const n=k(this,Ce),s=this.options,i=k(this,kt),o=k(this,$s),l=k(this,Ha),u=t!==n?t.state:k(this,Vo),{state:f}=t;let d={...f},p=!1,m;if(r._optimisticResults){const D=this.hasListeners(),O=!D&&hg(t,r),P=D&&gg(t,n,r,s);(O||P)&&(d={...d,...P0(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:x,status:b}=d;m=d.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&b==="pending"){let D;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(D=i.data,g=!0):D=typeof r.placeholderData=="function"?r.placeholderData((I=k(this,Wa))==null?void 0:I.state.data,k(this,Wa)):r.placeholderData,D!==void 0&&(b="success",m=vf(i==null?void 0:i.data,D,r),p=!0)}if(r.select&&m!==void 0&&!g)if(i&&m===(o==null?void 0:o.data)&&r.select===k(this,Wo))m=k(this,Va);else try{Q(this,Wo,r.select),m=r.select(m),m=vf(i==null?void 0:i.data,m,r),Q(this,Va,m),Q(this,Vn,null)}catch(D){Q(this,Vn,D)}k(this,Vn)&&(h=k(this,Vn),m=k(this,Va),x=Date.now(),b="error");const v=d.fetchStatus==="fetching",y=b==="pending",w=b==="error",N=y&&v,j=m!==void 0,C={status:b,fetchStatus:d.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&j,isStale:om(t,r),refetch:this.refetch,promise:k(this,Hn)};if(this.options.experimental_prefetchInRender){const D=R=>{C.status==="error"?R.reject(C.error):C.data!==void 0&&R.resolve(C.data)},O=()=>{const R=Q(this,Hn,C.promise=xf());D(R)},P=k(this,Hn);switch(P.status){case"pending":t.queryHash===n.queryHash&&D(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&O();break}}return C}updateResult(){const t=k(this,kt),r=this.createResult(k(this,Ce),this.options);if(Q(this,$s,k(this,Ce).state),Q(this,Ha,this.options),k(this,$s).data!==void 0&&Q(this,Wa,k(this,Ce)),yc(r,t))return;Q(this,kt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!k(this,Ga).size)return!0;const o=new Set(i??k(this,Ga));return this.options.throwOnError&&o.add("error"),Object.keys(k(this,kt)).some(l=>{const c=l;return k(this,kt)[c]!==t[c]&&o.has(c)})};ge(this,De,I0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ge(this,De,Sf).call(this)}},Mt=new WeakMap,Ce=new WeakMap,Vo=new WeakMap,kt=new WeakMap,$s=new WeakMap,Ha=new WeakMap,Hn=new WeakMap,Vn=new WeakMap,Wo=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Bs=new WeakMap,Us=new WeakMap,Wn=new WeakMap,Ga=new WeakMap,De=new WeakSet,qi=function(t){ge(this,De,Cf).call(this);let r=k(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Dt)),r},yf=function(){ge(this,De,Nf).call(this);const t=Jn(this.options.staleTime,k(this,Ce));if(Qs||k(this,kt).isStale||!hf(t))return;const n=y0(k(this,kt).dataUpdatedAt,t)+1;Q(this,Bs,setTimeout(()=>{k(this,kt).isStale||this.updateResult()},n))},bf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Ce)):this.options.refetchInterval)??!1},wf=function(t){ge(this,De,jf).call(this),Q(this,Wn,t),!(Qs||Ar(this.options.enabled,k(this,Ce))===!1||!hf(k(this,Wn))||k(this,Wn)===0)&&Q(this,Us,setInterval(()=>{(this.options.refetchIntervalInBackground||im.isFocused())&&ge(this,De,qi).call(this)},k(this,Wn)))},Sf=function(){ge(this,De,yf).call(this),ge(this,De,wf).call(this,ge(this,De,bf).call(this))},Nf=function(){k(this,Bs)&&(clearTimeout(k(this,Bs)),Q(this,Bs,void 0))},jf=function(){k(this,Us)&&(clearInterval(k(this,Us)),Q(this,Us,void 0))},Cf=function(){const t=k(this,Mt).getQueryCache().build(k(this,Mt),this.options);if(t===k(this,Ce))return;const r=k(this,Ce);Q(this,Ce,t),Q(this,Vo,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},I0=function(t){it.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(k(this,kt))}),k(this,Mt).getQueryCache().notify({query:k(this,Ce),type:"observerResultsUpdated"})})},Rx);function BE(e,t){return Ar(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hg(e,t){return BE(e,t)||e.state.data!==void 0&&Ef(e,t,t.refetchOnMount)}function Ef(e,t,r){if(Ar(t.enabled,e)!==!1&&Jn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&om(e,t)}return!1}function gg(e,t,r,n){return(e!==t||Ar(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&om(e,r)}function om(e,t){return Ar(t.enabled,e)!==!1&&e.isStaleByTime(Jn(t.staleTime,e))}function UE(e,t){return!yc(e.getCurrentResult(),t)}var Gn,Kn,Lt,pn,xn,Jl,Pf,Ox,qE=(Ox=class extends xi{constructor(r,n){super();se(this,xn);se(this,Gn);se(this,Kn);se(this,Lt);se(this,pn);Q(this,Gn,r),this.setOptions(n),this.bindMethods(),ge(this,xn,Jl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,Gn).defaultMutationOptions(r),yc(this.options,n)||k(this,Gn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Lt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ys(n.mutationKey)!==Ys(this.options.mutationKey)?this.reset():((s=k(this,Lt))==null?void 0:s.state.status)==="pending"&&k(this,Lt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Lt))==null||r.removeObserver(this)}onMutationUpdate(r){ge(this,xn,Jl).call(this),ge(this,xn,Pf).call(this,r)}getCurrentResult(){return k(this,Kn)}reset(){var r;(r=k(this,Lt))==null||r.removeObserver(this),Q(this,Lt,void 0),ge(this,xn,Jl).call(this),ge(this,xn,Pf).call(this)}mutate(r,n){var s;return Q(this,pn,n),(s=k(this,Lt))==null||s.removeObserver(this),Q(this,Lt,k(this,Gn).getMutationCache().build(k(this,Gn),this.options)),k(this,Lt).addObserver(this),k(this,Lt).execute(r)}},Gn=new WeakMap,Kn=new WeakMap,Lt=new WeakMap,pn=new WeakMap,xn=new WeakSet,Jl=function(){var n;const r=((n=k(this,Lt))==null?void 0:n.state)??k0();Q(this,Kn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pf=function(r){it.batch(()=>{var n,s,i,o,l,c,u,f;if(k(this,pn)&&this.hasListeners()){const d=k(this,Kn).variables,p=k(this,Kn).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,pn)).onSuccess)==null||s.call(n,r.data,d,p),(o=(i=k(this,pn)).onSettled)==null||o.call(i,r.data,null,d,p)):(r==null?void 0:r.type)==="error"&&((c=(l=k(this,pn)).onError)==null||c.call(l,r.error,d,p),(f=(u=k(this,pn)).onSettled)==null||f.call(u,void 0,r.error,d,p))}this.listeners.forEach(d=>{d(k(this,Kn))})})},Ox),D0=S.createContext(void 0),lm=e=>{const t=S.useContext(D0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HE=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(D0.Provider,{value:e,children:t})),T0=S.createContext(!1),VE=()=>S.useContext(T0);T0.Provider;function WE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var GE=S.createContext(WE()),KE=()=>S.useContext(GE),QE=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YE=e=>{S.useEffect(()=>{e.clearReset()},[e])},ZE=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||S0(r,[e.error,n])),XE=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},JE=(e,t)=>e.isLoading&&e.isFetching&&!t,eP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tP(e,t,r){var d,p,m,h,x;const n=VE(),s=KE(),i=lm(),o=i.defaultQueryOptions(e);(p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||p.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",XE(o),QE(o,s),YE(s);const l=!i.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(b=>{const g=f?c.subscribe(it.batchCalls(b)):Dt;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),eP(o,u))throw vg(o,c,s);if(ZE({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((h=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,u),o.experimental_prefetchInRender&&!Qs&&JE(u,n)){const b=l?vg(o,c,s):(x=i.getQueryCache().get(o.queryHash))==null?void 0:x.promise;b==null||b.catch(Dt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function go(e,t){return tP(e,$E)}function vd(e,t){const r=lm(),[n]=S.useState(()=>new qE(r,e));S.useEffect(()=>{n.setOptions(e)},[n,e]);const s=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(it.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=S.useCallback((o,l)=>{n.mutate(o,l).catch(Dt)},[n]);if(s.error&&S0(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const xg={it:{home:"Home",specialties:"Categorie",about:"Chi Siamo",menu:"Prodotti",gallery:"Galleria",reviews:"Recensioni",contact:"Contatti",discover:"Scopri",ourSpecialties:"Le Nostre Categorie",reservations:"Ordini",contactUs:"Contattaci",makeReservation:"Fai un Ordine",yourName:"Il Tuo Nome",phoneNumber:"Numero di Telefono",date:"Data",time:"Ora",numberOfGuests:"Quantit",specialRequests:"Richieste Speciali",requestReservation:"Invia Ordine",processingRequest:"Elaborazione...",findUs:"Trovaci",address:"Indirizzo",phone:"Telefono",email:"Email",hours:"Orari",ourMenu:"I Nostri Prodotti",menuDescription:"Esplora la nostra variet di composizioni floreali e servizi",downloadMenu:"Scarica Catalogo",menuUnavailable:"Il catalogo PDF non  ancora disponibile",menuComingSoon:"Il nostro catalogo completo sar presto disponibile",freshFlowers:"Fiori freschi per ogni occasione",indoorOutdoorPlants:"Piante da interno ed esterno per decorare con la natura",highQualityFakeFlowers:"Fiori finti di alta qualit, ideali per decorazioni durature",tailorMadeServices:"Servizi floreali su misura per cerimonie, eventi e ambienti",yearsExperience:"Anni di Esperienza",happyCustomers:"Clienti Felici",flowerVarieties:"Variet di Fiori"},en:{home:"Home",specialties:"Categories",about:"About",menu:"Products",gallery:"Gallery",reviews:"Reviews",contact:"Contact",discover:"Discover",ourSpecialties:"Our Categories",reservations:"Orders",contactUs:"Contact Us",makeReservation:"Place an Order",yourName:"Your Name",phoneNumber:"Phone Number",date:"Date",time:"Time",numberOfGuests:"Quantity",specialRequests:"Special Requests",requestReservation:"Submit Order",processingRequest:"Processing...",findUs:"Find Us",address:"Address",phone:"Phone",email:"Email",hours:"Hours",ourMenu:"Our Products",menuDescription:"Explore our diverse selection of floral arrangements and services",downloadMenu:"Download Catalog",menuUnavailable:"Product catalog PDF is not available yet",menuComingSoon:"Our complete catalog will be available soon"},fr:{home:"Accueil",specialties:"Catgories",about:" Propos",menu:"Produits",gallery:"Galerie",reviews:"Avis",contact:"Contact",discover:"Dcouvrir",ourSpecialties:"Nos Catgories",reservations:"Commandes",contactUs:"Nous Contacter",makeReservation:"Passer Commande",yourName:"Votre Nom",phoneNumber:"Numro de Tlphone",date:"Date",time:"Heure",numberOfGuests:"Quantit",specialRequests:"Demandes Spciales",requestReservation:"Envoyer Commande",processingRequest:"Traitement...",findUs:"Nous Trouver",address:"Adresse",phone:"Tlphone",email:"Email",hours:"Horaires",ourMenu:"Nos Produits",menuDescription:"Explorez notre slection varie d'arrangements floraux et services",downloadMenu:"Tlcharger Catalogue",menuUnavailable:"Le catalogue PDF n'est pas encore disponible",menuComingSoon:"Notre catalogue complet sera bientt disponible"},ar:{home:"",specialties:"",about:" ",menu:"",gallery:"",reviews:"",contact:" ",discover:"",ourSpecialties:"",reservations:"",contactUs:" ",makeReservation:" ",yourName:"",phoneNumber:" ",date:"",time:"",numberOfGuests:"",specialRequests:" ",requestReservation:" ",processingRequest:" ...",findUs:"",address:"",phone:"",email:" ",hours:" ",ourMenu:"",menuDescription:"      ",downloadMenu:" ",menuUnavailable:"  PDF   ",menuComingSoon:"    "},fa:{home:"",specialties:"",about:" ",menu:"",gallery:"",reviews:"",contact:"  ",discover:" ",ourSpecialties:" ",reservations:"",contactUs:"   ",makeReservation:" ",yourName:" ",phoneNumber:" ",date:"",time:"",numberOfGuests:"",specialRequests:"  ",requestReservation:" ",processingRequest:"  ...",findUs:"   ",address:"",phone:"",email:"",hours:" ",ourMenu:" ",menuDescription:"          ",downloadMenu:" ",menuUnavailable:"  PDF    ",menuComingSoon:"        "}},A0=S.createContext(void 0),rP=({children:e})=>{const[t,r]=S.useState("it");S.useEffect(()=>{const o=localStorage.getItem("flowerShopSettings");if(o)try{const l=JSON.parse(o);l.defaultLanguage&&r(l.defaultLanguage)}catch{console.error("Failed to parse settings for language")}else{const l={totalSeats:50,reservationDuration:120,openingTime:"08:00",closingTime:"19:00",languages:["it","en","fr","ar","fa"],defaultLanguage:"it"};localStorage.setItem("flowerShopSettings",JSON.stringify(l))}document.documentElement.lang=t,t==="ar"||t==="fa"?document.documentElement.dir="rtl":document.documentElement.dir="ltr"},[t]);const i={language:t,setLanguage:o=>{r(o);const l=localStorage.getItem("flowerShopSettings");if(l)try{const c=JSON.parse(l);c.defaultLanguage=o,localStorage.setItem("flowerShopSettings",JSON.stringify(c))}catch{console.error("Failed to update language setting")}},t:o=>xg[t][o]||xg.en[o]||o};return a.jsx(A0.Provider,{value:i,children:e})},R0=()=>{const e=S.useContext(A0);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},nP=ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=S.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?HN:"button";return a.jsx(o,{className:me(nP({variant:t,size:r,className:e})),ref:i,...s})});$.displayName="Button";let $t=class extends S.Component{constructor(){super(...arguments);Le(this,"state",{hasError:!1});Le(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error(`ErrorBoundary caught an error in ${this.props.componentName||"component"}:`,r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-red-50 border border-red-200 rounded-lg m-4",children:[a.jsx(af,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:["Something went wrong in ",this.props.componentName||"this component"]}),a.jsx("p",{className:"text-red-600 text-center mb-4 max-w-md",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),this.state.error&&a.jsxs("details",{className:"mb-4 max-w-2xl",children:[a.jsx("summary",{className:"cursor-pointer text-red-700 font-medium",children:"Show Error Details"}),a.jsx("pre",{className:"mt-2 p-3 bg-red-100 rounded text-xs text-red-800 overflow-auto max-h-40",children:this.state.error.stack})]}),a.jsxs($,{onClick:this.handleRetry,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[a.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):this.props.children}};const ce=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ce.displayName="Card";const Ne=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const je=S.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const cm=S.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...t}));cm.displayName="CardDescription";const ue=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:me("p-6 pt-0",e),...t}));ue.displayName="CardContent";const O0=S.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...t}));O0.displayName="CardFooter";const sP="https://despodpgvkszyexvcbft.supabase.co",aP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRlc3BvZHBndmtzenlleHZjYmZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNTcyMTAsImV4cCI6MjA2MzkzMzIxMH0.zyjFQA-Kr317M5l_6qjV_a-6ED2iU4wraRuYaa0iGEg",z=ej(sP,aP),Zs=Object.freeze(Object.defineProperty({__proto__:null,supabase:z},Symbol.toStringTag,{value:"Module"})),iP=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState([]),[s,i]=S.useState(!1),o=async()=>{i(!0),n([]);const c=[];c.push({name:"Environment Variables",status:"loading",message:"Checking environment configuration..."}),n([...c]);try{c[0]={name:"Environment Variables",status:"error",message:"Missing environment variables",details:"Supabase URL: , Anon Key: "}}catch(u){c[0]={name:"Environment Variables",status:"error",message:"Error checking environment variables",details:u instanceof Error?u.message:"Unknown error"}}n([...c]),c.push({name:"Supabase Connection",status:"loading",message:"Testing database connection..."}),n([...c]);try{const{error:u}=await z.from("settings").select("key").limit(1);c[1]={name:"Supabase Connection",status:u?"error":"success",message:u?"Database connection failed":"Database connection successful",details:u?u.message:"Connected to Supabase successfully"}}catch(u){c[1]={name:"Supabase Connection",status:"error",message:"Database connection error",details:u instanceof Error?u.message:"Unknown connection error"}}n([...c]),c.push({name:"Settings Table",status:"loading",message:"Checking settings table..."}),n([...c]);try{const{data:u,error:f}=await z.from("settings").select("*").limit(5);c[2]={name:"Settings Table",status:f?"error":"success",message:f?"Settings table access failed":`Settings table accessible (${(u==null?void 0:u.length)||0} records)`,details:f?f.message:`Found ${(u==null?void 0:u.length)||0} settings records`}}catch(u){c[2]={name:"Settings Table",status:"error",message:"Settings table error",details:u instanceof Error?u.message:"Unknown table error"}}n([...c]),c.push({name:"Logo Settings",status:"loading",message:"Checking logo configuration..."}),n([...c]);try{const f=!!localStorage.getItem("logoSettings");c[3]={name:"Logo Settings",status:f?"success":"error",message:f?"Logo settings found":"Logo settings missing",details:f?"Logo configuration available in localStorage":"No logo settings found"}}catch(u){c[3]={name:"Logo Settings",status:"error",message:"Logo settings error",details:u instanceof Error?u.message:"Unknown logo error"}}n([...c]),i(!1)},l=c=>{switch(c){case"loading":return a.jsx(ye,{className:"h-4 w-4 animate-spin text-blue-500"});case"success":return a.jsx(gt,{className:"h-4 w-4 text-green-500"});case"error":return a.jsx(yy,{className:"h-4 w-4 text-red-500"})}};return e?a.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-96",children:a.jsxs(ce,{className:"bg-white/95 backdrop-blur-sm shadow-lg",children:[a.jsx(Ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"text-sm",children:"System Diagnostics"}),a.jsx($,{onClick:()=>t(!1),variant:"ghost",size:"sm",children:a.jsx(mc,{className:"h-4 w-4"})})]})}),a.jsxs(ue,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($,{onClick:o,disabled:s,className:"w-full",size:"sm",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Tests..."]}):"Run Diagnostics"}),a.jsx($,{onClick:()=>{window.stripeConfigCache&&delete window.stripeConfigCache,localStorage.removeItem("stripeConfig"),window.location.reload()},variant:"outline",className:"w-full",size:"sm",children:"Clear Cache & Reload"})]}),r.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map((c,u)=>a.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-gray-50 rounded text-xs",children:[l(c.status),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.name}),a.jsx("div",{className:"text-gray-600",children:c.message}),c.details&&a.jsx("div",{className:"text-gray-500 mt-1",children:c.details})]})]},u))})]})]})}):a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsxs($,{onClick:()=>t(!0),variant:"outline",size:"sm",className:"bg-white/90 backdrop-blur-sm",children:[a.jsx(uo,{className:"h-4 w-4 mr-2"}),"Diagnostics"]})})},oP=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(!1);return S.useEffect(()=>{const i=setTimeout(async()=>{if(!(e||r)){n(!0);try{console.log(" [BackgroundInitializer] Starting initialization...");const{settingsService:o}=await mr(async()=>{const{settingsService:p}=await Promise.resolve().then(()=>pb);return{settingsService:p}},void 0),{initializeDatabase:l}=await mr(async()=>{const{initializeDatabase:p}=await Promise.resolve().then(()=>wk);return{initializeDatabase:p}},void 0),c=l(),u=new Promise((p,m)=>{setTimeout(()=>m(new Error("Database initialization timeout")),15e3)});try{await Promise.race([c,u])||console.warn(" [BackgroundInitializer] Database initialization returned false, but continuing...")}catch(p){console.warn(" [BackgroundInitializer] Database initialization failed, but continuing:",p)}const f=o.initialize(),d=new Promise((p,m)=>{setTimeout(()=>m(new Error("Settings initialization timeout")),1e4)});try{await Promise.race([f,d]),console.log(" [BackgroundInitializer] Settings initialized successfully")}catch(p){console.warn(" [BackgroundInitializer] Settings initialization failed, but continuing:",p)}console.log(" [BackgroundInitializer] Initialization completed"),t(!0)}catch(o){console.error(" [BackgroundInitializer] Initialization failed:",o),t(!0)}finally{n(!1)}}},100);return()=>clearTimeout(i)},[e,r]),null};var hu="Popover",[_0,r_]=ui(hu,[vi]),Zo=vi(),[lP,xs]=_0(hu),F0=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Zo(t),c=S.useRef(null),[u,f]=S.useState(!1),[d,p]=co({prop:n,defaultProp:s??!1,onChange:i,caller:hu});return a.jsx(u0,{...l,children:a.jsx(lP,{scope:t,contentId:su(),triggerRef:c,open:d,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>f(!0),[]),onCustomAnchorRemove:S.useCallback(()=>f(!1),[]),modal:o,children:r})})};F0.displayName=hu;var M0="PopoverAnchor",cP=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=xs(M0,r),i=Zo(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return S.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(fu,{...i,...n,ref:t})});cP.displayName=M0;var L0="PopoverTrigger",z0=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=xs(L0,r),i=Zo(r),o=st(t,s.triggerRef),l=a.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":H0(s.open),...n,ref:o,onClick:ve(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(fu,{asChild:!0,...i,children:l})});z0.displayName=L0;var um="PopoverPortal",[uP,dP]=_0(um,{forceMount:void 0}),$0=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=xs(um,t);return a.jsx(uP,{scope:t,forceMount:r,children:a.jsx(nu,{present:r||i.open,children:a.jsx(_p,{asChild:!0,container:s,children:n})})})};$0.displayName=um;var Ja="PopoverContent",B0=S.forwardRef((e,t)=>{const r=dP(Ja,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=xs(Ja,e.__scopePopover);return a.jsx(nu,{present:n||i.open,children:i.modal?a.jsx(pP,{...s,ref:t}):a.jsx(mP,{...s,ref:t})})});B0.displayName=Ja;var fP=Lx("PopoverContent.RemoveScroll"),pP=S.forwardRef((e,t)=>{const r=xs(Ja,e.__scopePopover),n=S.useRef(null),s=st(t,n),i=S.useRef(!1);return S.useEffect(()=>{const o=n.current;if(o)return Fx(o)},[]),a.jsx(Mx,{as:fP,allowPinchZoom:!0,children:a.jsx(U0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),mP=S.forwardRef((e,t)=>{const r=xs(Ja,e.__scopePopover),n=S.useRef(!1),s=S.useRef(!1);return a.jsx(U0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),U0=S.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,p=xs(Ja,r),m=Zo(r);return zx(),a.jsx($x,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Fp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:a.jsx(tm,{"data-state":H0(p.open),role:"dialog",id:p.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),q0="PopoverClose",hP=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=xs(q0,r);return a.jsx(Te.button,{type:"button",...n,ref:t,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});hP.displayName=q0;var gP="PopoverArrow",vP=S.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Zo(r);return a.jsx(rm,{...s,...n,ref:t})});vP.displayName=gP;function H0(e){return e?"open":"closed"}var xP=F0,yP=z0,bP=$0,V0=B0;const W0=xP,G0=yP,dm=S.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(bP,{children:a.jsx(V0,{ref:s,align:t,sideOffset:r,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));dm.displayName=V0.displayName;const wP=()=>{const[e,t]=S.useState("it"),[r,n]=S.useState(!1),s=i=>{t(i)};return a.jsxs(W0,{open:r,onOpenChange:n,children:[a.jsx(G0,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"sm",className:"bg-white/90 border-gray-300 text-gray-700 hover:bg-gray-50 px-3 flex gap-2 shadow-sm",children:[a.jsx(Tj,{size:14,className:"text-gray-600"}),a.jsx("span",{className:"font-medium",children:e.toUpperCase()})]})}),a.jsx(dm,{className:"w-40 p-0 bg-white border border-gray-200 shadow-lg",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx($,{variant:e==="it"?"default":"ghost",onClick:()=>{s("it"),n(!1)},className:`rounded-none justify-start text-sm ${e==="it"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:" Italiano"}),a.jsx($,{variant:e==="en"?"default":"ghost",onClick:()=>{s("en"),n(!1)},className:`rounded-none justify-start text-sm ${e==="en"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:" English"}),a.jsx($,{variant:e==="fr"?"default":"ghost",onClick:()=>{s("fr"),n(!1)},className:`rounded-none justify-start text-sm ${e==="fr"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:" Franais"}),a.jsx($,{variant:e==="ar"?"default":"ghost",onClick:()=>{s("ar"),n(!1)},className:`rounded-none justify-start text-sm ${e==="ar"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:" "}),a.jsx($,{variant:e==="fa"?"default":"ghost",onClick:()=>{s("fa"),n(!1)},className:`rounded-none justify-start text-sm ${e==="fa"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:" "})]})})]})},Xo=()=>{const e={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},[t,r]=S.useState(!1),[n,s]=S.useState(!1),i=o=>({home:"Home",specialties:"Categorie",menu:"Prodotti",gallery:"Galleria",about:"Chi Siamo",makeReservation:"Fai un Ordine"})[o]||o;return a.jsx("header",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-md shadow-sm border-b border-peach-100 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-8 animate-fade-in-left",children:[a.jsxs("div",{className:"flex items-center space-x-3 logo-container hover-scale",children:[!t&&!n&&a.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-peach-100 to-coral-100 rounded animate-pulse flex items-center justify-center",children:a.jsx(Ts,{className:"text-peach-400 animate-bounce",size:20})}),!n&&a.jsx("img",{src:e.logoUrl,alt:e.altText,className:`h-12 w-auto logo-smooth-load animate-scale-in hover-glow transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onLoad:o=>{console.log(" [Header] Logo loaded successfully"),o.currentTarget.classList.add("loaded"),r(!0)},onError:o=>{console.error(" [Header] Logo failed to load:",e.logoUrl),s(!0)}}),n&&a.jsx("div",{className:"h-12 flex items-center px-3 bg-gradient-to-r from-peach-500 to-coral-500 text-white rounded-lg font-bold text-sm",children:"Francesco Fiori"})]}),a.jsxs("nav",{className:"hidden md:flex space-x-8",children:[a.jsxs("a",{href:"/",className:"text-gray-700 hover:text-peach-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-1 hover-scale",children:[i("home"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-peach-500 to-coral-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#categories",className:"text-gray-700 hover:text-coral-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-2 hover-scale",children:[i("specialties"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-coral-500 to-peach-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs(Hh,{to:"/menu",className:"text-gray-700 hover:text-emerald-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-3 hover-scale",children:[i("menu"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-emerald-600 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#gallery",className:"text-gray-700 hover:text-amber-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-4 hover-scale",children:[i("gallery"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-amber-500 to-amber-600 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#about",className:"text-gray-700 hover:text-peach-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-5 hover-scale",children:[i("about"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-peach-500 to-coral-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 animate-fade-in-right",children:[a.jsx("div",{className:"animate-scale-in animate-stagger-1",children:a.jsx(wP,{})}),a.jsxs(Hh,{to:"/order",className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-peach-500 to-coral-500 text-white rounded-full hover:from-peach-600 hover:to-coral-600 transition-all duration-300 shadow-md hover:shadow-lg font-medium hover-lift animate-pulse-glow animate-scale-in animate-stagger-2",children:[a.jsx(ds,{size:16,className:"animate-wiggle"}),i("makeReservation")]}),a.jsxs("button",{className:"relative p-3 text-gray-700 hover:text-peach-600 transition-colors bg-gradient-to-br from-peach-50 to-amber-50 hover:from-peach-100 hover:to-amber-100 rounded-full group shadow-md hover:shadow-lg hover-lift animate-bounce-gentle animate-scale-in animate-stagger-3",children:[a.jsx(Gs,{size:20,className:"group-hover:animate-wiggle"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-coral-500 to-peach-500 text-white text-xs rounded-full flex items-center justify-center font-inter font-semibold shadow-md animate-heartbeat",children:"0"}),a.jsx(Ts,{className:"absolute -bottom-1 -right-1 text-amber-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-bounce animate-float",size:12})]})]})]})})})},SP=()=>{const[e,t]=S.useState({heading:"Francesco Fiori & Piante",subheading:"Creazioni floreali uniche per ogni occasione speciale",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),[r,n]=S.useState({logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"}),[s,i]=S.useState(!1),[o,l]=S.useState(!1),[c,u]=S.useState(!0);return S.useEffect(()=>{const d=setTimeout(async()=>{try{const{settingsService:p}=await mr(async()=>{const{settingsService:N}=await Promise.resolve().then(()=>pb);return{settingsService:N}},void 0),m=p.initialize(),h=new Promise((N,j)=>{setTimeout(()=>j(new Error("Settings init timeout")),5e3)});await Promise.race([m,h]);const x=p.getSetting("heroContent",e),b=new Promise((N,j)=>{setTimeout(()=>j(new Error("Hero content timeout")),3e3)}),g=await Promise.race([x,b]);t(g);const v=p.getSetting("logoSettings",r),y=new Promise((N,j)=>{setTimeout(()=>j(new Error("Logo settings timeout")),3e3)}),w=await Promise.race([v,y]);n(w),console.log(" [Hero] Content loaded successfully")}catch(p){console.warn(" [Hero] Failed to load content, using defaults:",p)}finally{u(!1)}},500);return()=>clearTimeout(d)},[]),a.jsx("section",{className:"relative min-h-screen bg-gradient-to-br from-peach-50 via-white to-amber-50 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4 pt-32 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[a.jsx("div",{className:"text-center lg:text-left space-y-8 animate-fade-in-left",children:a.jsx("div",{className:"flex justify-center lg:justify-start mb-8",children:a.jsxs("div",{className:"relative",children:[!o&&a.jsx("div",{className:"h-96 md:h-[480px] w-96 bg-gradient-to-br from-peach-100 to-coral-100 rounded-3xl animate-pulse flex items-center justify-center",children:a.jsx(Ts,{className:"text-peach-300 animate-float",size:64})}),r.logoUrl&&a.jsx("img",{src:r.logoUrl,alt:r.altText,className:`h-96 md:h-[480px] w-auto object-contain drop-shadow-2xl transition-all duration-700 hover-scale animate-scale-in ${o?"opacity-100":"opacity-0"}`,onLoad:()=>{console.log(" [Hero] Large logo loaded successfully"),l(!0)},onError:f=>{console.error(" [Hero] Large logo failed to load:",r.logoUrl),l(!0)}}),a.jsxs("div",{className:"hidden text-center",children:[a.jsx(Ts,{className:"h-24 w-24 text-peach-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 font-playfair",children:"Francesco Fiori & Piante"})]})]})})}),a.jsx("div",{className:"relative animate-fade-in-right animate-stagger-1",children:a.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl bg-gradient-to-br from-white via-peach-50 to-amber-50 p-8 hover-lift",children:[!s&&a.jsx("div",{className:"absolute inset-8 rounded-2xl bg-gradient-to-br from-peach-100 to-coral-100 animate-pulse flex items-center justify-center",children:a.jsx(Ts,{className:"text-peach-300 animate-float",size:64})}),a.jsx("img",{src:e.backgroundImage,alt:"Beautiful flower arrangement",className:`w-full h-96 md:h-[500px] object-cover rounded-2xl transition-opacity duration-700 hover-scale ${s?"opacity-100":"opacity-0"}`,onLoad:()=>{i(!0)},onError:f=>{console.error(` Hero image failed to load: ${f.currentTarget.src}`);const d="https://images.unsplash.com/photo-1486718448742-163732cd1544?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80";f.currentTarget.src!==d?f.currentTarget.src=d:i(!1)}}),a.jsx("div",{className:"absolute inset-8 rounded-2xl bg-gradient-to-t from-black/20 via-transparent to-transparent"})]})})]}),a.jsxs("div",{className:"text-center space-y-8 animate-fade-in-up animate-stagger-2 mt-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-playfair font-bold text-gray-800 leading-tight animate-scale-in",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-peach-500 via-coral-500 to-peach-600 animate-shimmer",children:e.heading})}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-600 font-inter font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-up animate-stagger-1",children:e.subheading})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center pt-4 animate-fade-in-up animate-stagger-2",children:[a.jsx("button",{className:"group bg-gradient-to-r from-peach-500 via-coral-500 to-peach-600 text-white px-10 py-4 rounded-full font-semibold font-inter hover:from-peach-600 hover:via-coral-600 hover:to-peach-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl hover-lift animate-pulse-glow",children:a.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Shop Flowers"}),a.jsx(Ts,{className:"group-hover:animate-bloom",size:18})]})}),a.jsx("button",{className:"group bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-10 py-4 rounded-full font-semibold font-inter hover:from-emerald-600 hover:to-emerald-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl hover-lift animate-bounce-gentle",children:a.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Browse Plants"}),a.jsx(Ts,{className:"group-hover:animate-bloom",size:18})]})})]})]})]})})};function NP(e){return Object.prototype.toString.call(e)==="[object Object]"}function yg(e){return NP(e)||Array.isArray(e)}function jP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function fm(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!yg(l)||!yg(c)?l===c:fm(l,c)})}function bg(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function CP(e,t){if(e.length!==t.length)return!1;const r=bg(e),n=bg(t);return r.every((s,i)=>{const o=n[i];return fm(s,o)})}function pm(e){return typeof e=="number"}function kf(e){return typeof e=="string"}function gu(e){return typeof e=="boolean"}function wg(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ke(e){return Math.abs(e)}function mm(e){return Math.sign(e)}function Zi(e,t){return Ke(e-t)}function EP(e,t){if(e===0||t===0||Ke(e)<=Ke(t))return 0;const r=Zi(Ke(e),Ke(t));return Ke(r/e)}function PP(e){return Math.round(e*100)/100}function vo(e){return xo(e).map(Number)}function Fr(e){return e[Jo(e)]}function Jo(e){return Math.max(0,e.length-1)}function hm(e,t){return t===Jo(e)}function Sg(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function xo(e){return Object.keys(e)}function K0(e,t){return[e,t].reduce((r,n)=>(xo(n).forEach(s=>{const i=r[s],o=n[s],l=wg(i)&&wg(o);r[s]=l?K0(i,o):o}),r),{})}function If(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function kP(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return kf(e)?r[e](c):e(t,c,u)}return{measure:o}}function yo(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function IP(e,t,r,n){const s=yo(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&h()})}function f(){m(),s.clear()}function d(b){if(!c)return;o||(o=b,r(),r());const g=b-o;for(o=b,l+=g;l>=i;)r(),l-=i;const v=l/i;n(v),c&&(c=t.requestAnimationFrame(d))}function p(){c||(c=t.requestAnimationFrame(d))}function m(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function h(){o=null,l=0}return{init:u,destroy:f,start:p,stop:m,update:r,render:n}}function DP(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=f(),c=d();function u(h){const{height:x,width:b}=h;return n?x:b}function f(){return n?"top":r?"right":"left"}function d(){return n?"bottom":r?"left":"right"}function p(h){return h*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:p}}function Xs(e=0,t=0){const r=Ke(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function Q0(e,t,r){const{constrain:n}=Xs(0,e),s=e+1;let i=o(t);function o(p){return r?Ke((s+p)%s):n(p)}function l(){return i}function c(p){return i=o(p),d}function u(p){return f().set(l()+p)}function f(){return Q0(e,l(),r)}const d={get:l,set:c,add:u,clone:f};return d}function TP(e,t,r,n,s,i,o,l,c,u,f,d,p,m,h,x,b,g,v){const{cross:y,direction:w}=e,N=["INPUT","SELECT","TEXTAREA"],j={passive:!1},E=yo(),C=yo(),I=Xs(50,225).constrain(m.measure(20)),D={mouse:300,touch:400},O={mouse:500,touch:600},P=h?43:25;let R=!1,A=0,M=0,L=!1,F=!1,T=!1,_=!1;function B(V){if(!v)return;function le(Fe){(gu(v)||v(V,Fe))&&Se(Fe)}const xe=t;E.add(xe,"dragstart",Fe=>Fe.preventDefault(),j).add(xe,"touchmove",()=>{},j).add(xe,"touchend",()=>{}).add(xe,"touchstart",le).add(xe,"mousedown",le).add(xe,"touchcancel",ie).add(xe,"contextmenu",ie).add(xe,"click",be,!0)}function W(){E.clear(),C.clear()}function q(){const V=_?r:t;C.add(V,"touchmove",U,j).add(V,"touchend",ie).add(V,"mousemove",U,j).add(V,"mouseup",ie)}function J(V){const le=V.nodeName||"";return N.includes(le)}function Y(){return(h?O:D)[_?"mouse":"touch"]}function fe(V,le){const xe=d.add(mm(V)*-1),Fe=f.byDistance(V,!h).distance;return h||Ke(V)<I?Fe:b&&le?Fe*.5:f.byIndex(xe.get(),0).distance}function Se(V){const le=If(V,n);_=le,T=h&&le&&!V.buttons&&R,R=Zi(s.get(),o.get())>=2,!(le&&V.button!==0)&&(J(V.target)||(L=!0,i.pointerDown(V),u.useFriction(0).useDuration(0),s.set(o),q(),A=i.readPoint(V),M=i.readPoint(V,y),p.emit("pointerDown")))}function U(V){if(!If(V,n)&&V.touches.length>=2)return ie(V);const xe=i.readPoint(V),Fe=i.readPoint(V,y),Ve=Zi(xe,A),Je=Zi(Fe,M);if(!F&&!_&&(!V.cancelable||(F=Ve>Je,!F)))return ie(V);const Ct=i.pointerMove(V);Ve>x&&(T=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(w(Ct)),V.preventDefault()}function ie(V){const xe=f.byDistance(0,!1).index!==d.get(),Fe=i.pointerUp(V)*Y(),Ve=fe(w(Fe),xe),Je=EP(Fe,Ve),Ct=P-10*Je,et=g+Je/50;F=!1,L=!1,C.clear(),u.useDuration(Ct).useFriction(et),c.distance(Ve,!h),_=!1,p.emit("pointerUp")}function be(V){T&&(V.stopPropagation(),V.preventDefault(),T=!1)}function re(){return L}return{init:B,destroy:W,pointerDown:re}}function AP(e,t){let n,s;function i(d){return d.timeStamp}function o(d,p){const h=`client${(p||e.scroll)==="x"?"X":"Y"}`;return(If(d,t)?d:d.touches[0])[h]}function l(d){return n=d,s=d,o(d)}function c(d){const p=o(d)-o(s),m=i(d)-i(n)>170;return s=d,m&&(n=d),p}function u(d){if(!n||!s)return 0;const p=o(s)-o(n),m=i(d)-i(n),h=i(d)-i(s)>170,x=p/m;return m&&!h&&Ke(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function RP(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function OP(e){function t(n){return e*(n/100)}return{measure:t}}function _P(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,f=[],d=!1;function p(b){return s.measureSize(o.measure(b))}function m(b){if(!i)return;u=p(e),f=n.map(p);function g(v){for(const y of v){if(d)return;const w=y.target===e,N=n.indexOf(y.target),j=w?u:f[N],E=p(w?e:n[N]);if(Ke(E-j)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(v=>{(gu(i)||i(b,v))&&g(v)}),r.requestAnimationFrame(()=>{l.forEach(v=>c.observe(v))})}function h(){d=!0,c&&c.disconnect()}return{init:m,destroy:h}}function FP(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,f=e.get(),d=0;function p(){const j=n.get()-e.get(),E=!c;let C=0;return E?(o=0,r.set(n),e.set(n),C=j):(r.set(e),o+=j/c,o*=u,f+=o,e.add(o),C=f-d),l=mm(C),d=f,N}function m(){const j=n.get()-t.get();return Ke(j)<.001}function h(){return c}function x(){return l}function b(){return o}function g(){return y(s)}function v(){return w(i)}function y(j){return c=j,N}function w(j){return u=j,N}const N={direction:x,duration:h,velocity:b,seek:p,settled:m,useBaseFriction:v,useBaseDuration:g,useFriction:w,useDuration:y};return N}function MP(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=Xs(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function f(m){if(!u())return;const h=e.reachedMin(t.get())?"min":"max",x=Ke(e[h]-t.get()),b=r.get()-t.get(),g=l.constrain(x/o);r.subtract(b*g),!m&&Ke(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function d(m){c=!m}return{shouldConstrain:u,constrain:f,toggleActive:d}}function LP(e,t,r,n,s){const i=Xs(-t+e,0),o=d(),l=f(),c=p();function u(h,x){return Zi(h,x)<=1}function f(){const h=o[0],x=Fr(o),b=o.lastIndexOf(h),g=o.indexOf(x)+1;return Xs(b,g)}function d(){return r.map((h,x)=>{const{min:b,max:g}=i,v=i.constrain(h),y=!x,w=hm(r,x);return y?g:w||u(b,v)?b:u(g,v)?g:v}).map(h=>parseFloat(h.toFixed(3)))}function p(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:h,max:x}=l;return o.slice(h,x)}return{snapsContained:c,scrollContainLimit:l}}function zP(e,t,r){const n=t[0],s=r?n-e:Fr(t);return{limit:Xs(s,n)}}function $P(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=Xs(i,o);function u(p){return p===1?c(r.get()):p===-1?l(r.get()):!1}function f(p){if(!u(p))return;const m=e*(p*-1);n.forEach(h=>h.add(m))}return{loop:f}}function BP(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function UP(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=d().map(t.measure),u=p(),f=m();function d(){return l(n).map(x=>Fr(x)[o]-x[0][i]).map(Ke)}function p(){return n.map(x=>r[i]-x[i]).map(x=>-Ke(x))}function m(){return l(u).map(x=>x[0]).map((x,b)=>x+c[b])}return{snaps:u,snapsAligned:f}}function qP(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=f();function f(){const p=o(i),m=!e||t==="keepSnaps";return r.length===1?[i]:m?p:p.slice(l,c).map((h,x,b)=>{const g=!x,v=hm(b,x);if(g){const y=Fr(b[0])+1;return Sg(y)}if(v){const y=Jo(i)-Fr(b)[0]+1;return Sg(y,Fr(b)[0])}return h})}return{slideRegistry:u}}function HP(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(h){return h.concat().sort((x,b)=>Ke(x)-Ke(b))[0]}function u(h){const x=e?o(h):l(h),b=t.map((v,y)=>({diff:f(v-x,0),index:y})).sort((v,y)=>Ke(v.diff)-Ke(y.diff)),{index:g}=b[0];return{index:g,distance:x}}function f(h,x){const b=[h,h+r,h-r];if(!e)return h;if(!x)return c(b);const g=b.filter(v=>mm(v)===x);return g.length?c(g):Fr(b)-r}function d(h,x){const b=t[h]-s.get(),g=f(b,x);return{index:h,distance:g}}function p(h,x){const b=s.get()+h,{index:g,distance:v}=u(b),y=!e&&i(b);if(!x||y)return{index:g,distance:h};const w=t[g]-v,N=h+f(w,0);return{index:g,distance:N}}return{byDistance:p,byIndex:d,shortcut:f}}function VP(e,t,r,n,s,i,o){function l(d){const p=d.distance,m=d.index!==t.get();i.add(p),p&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(r.set(t.get()),t.set(d.index),o.emit("select"))}function c(d,p){const m=s.byDistance(d,p);l(m)}function u(d,p){const m=t.clone().set(d),h=s.byIndex(m.get(),p);l(h)}return{distance:c,index:u}}function WP(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function f(m){if(!l)return;function h(x){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const v=r.findIndex(y=>y.includes(x));pm(v)&&(s.useDuration(0),n.index(v,0),o.emit("slideFocus"))}i.add(document,"keydown",d,!1),t.forEach((x,b)=>{i.add(x,"focus",g=>{(gu(l)||l(m,g))&&h(b)},c)})}function d(m){m.code==="Tab"&&(u=new Date().getTime())}return{init:f}}function Hi(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return pm(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function Y0(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function l(p){return`translate3d(0px,${p}px,0px)`}function c(p){if(i)return;const m=PP(e.direction(p));m!==s&&(n.transform=r(m),s=m)}function u(p){i=!p}function f(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:c,toggleActive:u}}function GP(e,t,r,n,s,i,o,l,c){const f=vo(s),d=vo(s).reverse(),p=g().concat(v());function m(E,C){return E.reduce((I,D)=>I-s[D],C)}function h(E,C){return E.reduce((I,D)=>m(I,C)>0?I.concat([D]):I,[])}function x(E){return i.map((C,I)=>({start:C-n[I]+.5+E,end:C+t-.5+E}))}function b(E,C,I){const D=x(C);return E.map(O=>{const P=I?0:-r,R=I?r:0,A=I?"end":"start",M=D[O][A];return{index:O,loopPoint:M,slideLocation:Hi(-1),translate:Y0(e,c[O]),target:()=>l.get()>M?P:R}})}function g(){const E=o[0],C=h(d,E);return b(C,r,!1)}function v(){const E=t-o[0]-1,C=h(f,E);return b(C,-r,!0)}function y(){return p.every(({index:E})=>{const C=f.filter(I=>I!==E);return m(C,t)<=.1})}function w(){p.forEach(E=>{const{target:C,translate:I,slideLocation:D}=E,O=C();O!==D.get()&&(I.to(O),D.set(O))})}function N(){p.forEach(E=>E.translate.clear())}return{canLoop:y,clear:N,loop:w,loopPoints:p}}function KP(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(f){for(const d of f)if(d.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(f=>{s||(gu(r)||r(c,f))&&u(f)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function QP(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(h=>{c||(h.forEach(x=>{const b=t.indexOf(x.target);s[b]=x}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(h=>l.observe(h))}function f(){l&&l.disconnect(),c=!0}function d(h){return xo(s).reduce((x,b)=>{const g=parseInt(b),{isIntersecting:v}=s[g];return(h&&v||!h&&!v)&&x.push(g),x},[])}function p(h=!0){if(h&&i)return i;if(!h&&o)return o;const x=d(h);return h&&(i=x),h||(o=x),x}return{init:u,destroy:f,get:p}}function YP(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,f=h(),d=x(),p=r.map(o),m=b();function h(){if(!u)return 0;const v=r[0];return Ke(t[l]-v[l])}function x(){if(!u)return 0;const v=i.getComputedStyle(Fr(n));return parseFloat(v.getPropertyValue(`margin-${c}`))}function b(){return r.map((v,y,w)=>{const N=!y,j=hm(w,y);return N?p[y]+f:j?p[y]+d:w[y+1][l]-v[l]}).map(Ke)}return{slideSizes:p,slideSizesWithGaps:m,startGap:f,endGap:d}}function ZP(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:f,direction:d}=e,p=pm(r);function m(g,v){return vo(g).filter(y=>y%v===0).map(y=>g.slice(y,y+v))}function h(g){return g.length?vo(g).reduce((v,y,w)=>{const N=Fr(v)||0,j=N===0,E=y===Jo(g),C=s[u]-i[N][u],I=s[u]-i[y][f],D=!n&&j?d(o):0,O=!n&&E?d(l):0,P=Ke(I-O-(C+D));return w&&P>t+c&&v.push(y),E&&v.push(g.length),v},[]).map((v,y,w)=>{const N=Math.max(w[y-1]||0);return g.slice(N,v)}):[]}function x(g){return p?m(g,r):h(g)}return{groupSlides:x}}function XP(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:f,loop:d,duration:p,dragFree:m,dragThreshold:h,inViewThreshold:x,slidesToScroll:b,skipSnaps:g,containScroll:v,watchResize:y,watchSlides:w,watchDrag:N,watchFocus:j}=i,E=2,C=RP(),I=C.measure(t),D=r.map(C.measure),O=DP(c,u),P=O.measureSize(I),R=OP(P),A=kP(l,P),M=!d&&!!v,L=d||!!v,{slideSizes:F,slideSizesWithGaps:T,startGap:_,endGap:B}=YP(O,I,D,r,L,s),W=ZP(O,P,b,d,I,D,_,B,E),{snaps:q,snapsAligned:J}=UP(O,A,I,D,W),Y=-Fr(q)+Fr(T),{snapsContained:fe,scrollContainLimit:Se}=LP(P,Y,J,v,E),U=M?fe:J,{limit:ie}=zP(Y,U,d),be=Q0(Jo(U),f,d),re=be.clone(),X=vo(r),V=({dragHandler:yr,scrollBody:Pi,scrollBounds:da,options:{loop:En}})=>{En||da.constrain(yr.pointerDown()),Pi.seek()},le=({scrollBody:yr,translate:Pi,location:da,offsetLocation:En,previousLocation:Pn,scrollLooper:wl,slideLooper:kn,dragHandler:id,animation:od,eventHandler:ki,scrollBounds:Sl,options:{loop:Nl}},fa)=>{const br=yr.settled(),ld=!Sl.shouldConstrain(),de=Nl?br:br&&ld,Ie=de&&!id.pointerDown();Ie&&od.stop();const Me=da.get()*fa+Pn.get()*(1-fa);En.set(Me),Nl&&(wl.loop(yr.direction()),kn.loop()),Pi.to(En.get()),Ie&&ki.emit("settle"),de||ki.emit("scroll")},xe=IP(n,s,()=>V(Ei),yr=>le(Ei,yr)),Fe=.68,Ve=U[be.get()],Je=Hi(Ve),Ct=Hi(Ve),et=Hi(Ve),Ot=Hi(Ve),vr=FP(Je,et,Ct,Ot,p,Fe),ua=HP(d,U,Y,ie,Ot),xr=VP(xe,be,re,vr,ua,Ot,o),yl=BP(ie),bl=yo(),_t=QP(t,r,o,x),{slideRegistry:an}=qP(M,v,U,Se,W,X),ad=WP(e,r,an,xr,vr,bl,o,j),Ei={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:I,slideRects:D,animation:xe,axis:O,dragHandler:TP(O,e,n,s,Ot,AP(O,s),Je,xe,xr,vr,ua,be,o,R,m,h,g,Fe,N),eventStore:bl,percentOfView:R,index:be,indexPrevious:re,limit:ie,location:Je,offsetLocation:et,previousLocation:Ct,options:i,resizeHandler:_P(t,o,s,r,O,y,C),scrollBody:vr,scrollBounds:MP(ie,et,Ot,vr,R),scrollLooper:$P(Y,ie,et,[Je,et,Ct,Ot]),scrollProgress:yl,scrollSnapList:U.map(yl.get),scrollSnaps:U,scrollTarget:ua,scrollTo:xr,slideLooper:GP(O,P,Y,F,T,q,U,et,r),slideFocus:ad,slidesHandler:KP(t,o,w),slidesInView:_t,slideIndexes:X,slideRegistry:an,slidesToScroll:W,target:Ot,translate:Y0(O,t)};return Ei}function JP(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(f=>f(t,u)),c}function i(u,f){return e[u]=n(u).concat([f]),c}function o(u,f){return e[u]=n(u).filter(d=>d!==f),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const ek={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function tk(e){function t(i,o){return K0(i,o||{})}function r(i){const o=i.breakpoints||{},l=xo(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>xo(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function rk(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function wc(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=tk(s),o=rk(i),l=yo(),c=JP(),{mergeOptions:u,optionsAtMedia:f,optionsMediaQueries:d}=i,{on:p,off:m,emit:h}=c,x=O;let b=!1,g,v=u(ek,wc.globalOptions),y=u(v),w=[],N,j,E;function C(){const{container:X,slides:V}=y;j=(kf(X)?e.querySelector(X):X)||e.children[0];const xe=kf(V)?j.querySelectorAll(V):V;E=[].slice.call(xe||j.children)}function I(X){const V=XP(e,j,E,n,s,X,c);if(X.loop&&!V.slideLooper.canLoop()){const le=Object.assign({},X,{loop:!1});return I(le)}return V}function D(X,V){b||(v=u(v,X),y=f(v),w=V||w,C(),g=I(y),d([v,...w.map(({options:le})=>le)]).forEach(le=>l.add(le,"change",O)),y.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(re),g.eventHandler.init(re),g.resizeHandler.init(re),g.slidesHandler.init(re),g.options.loop&&g.slideLooper.loop(),j.offsetParent&&E.length&&g.dragHandler.init(re),N=o.init(re,w)))}function O(X,V){const le=W();P(),D(u({startIndex:le},X),V),c.emit("reInit")}function P(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),l.clear()}function R(){b||(b=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function A(X,V,le){!y.active||b||(g.scrollBody.useBaseFriction().useDuration(V===!0?0:y.duration),g.scrollTo.index(X,le||0))}function M(X){const V=g.index.add(1).get();A(V,X,-1)}function L(X){const V=g.index.add(-1).get();A(V,X,1)}function F(){return g.index.add(1).get()!==W()}function T(){return g.index.add(-1).get()!==W()}function _(){return g.scrollSnapList}function B(){return g.scrollProgress.get(g.offsetLocation.get())}function W(){return g.index.get()}function q(){return g.indexPrevious.get()}function J(){return g.slidesInView.get()}function Y(){return g.slidesInView.get(!1)}function fe(){return N}function Se(){return g}function U(){return e}function ie(){return j}function be(){return E}const re={canScrollNext:F,canScrollPrev:T,containerNode:ie,internalEngine:Se,destroy:R,off:m,on:p,emit:h,plugins:fe,previousScrollSnap:q,reInit:x,rootNode:U,scrollNext:M,scrollPrev:L,scrollProgress:B,scrollSnapList:_,scrollTo:A,selectedScrollSnap:W,slideNodes:be,slidesInView:J,slidesNotInView:Y};return D(t,r),setTimeout(()=>c.emit("init"),0),re}wc.globalOptions=void 0;function gm(e={},t=[]){const r=S.useRef(e),n=S.useRef(t),[s,i]=S.useState(),[o,l]=S.useState(),c=S.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return S.useEffect(()=>{fm(r.current,e)||(r.current=e,c())},[e,c]),S.useEffect(()=>{CP(n.current,t)||(n.current=t,c())},[t,c]),S.useEffect(()=>{if(jP()&&o){wc.globalOptions=gm.globalOptions;const u=wc(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}gm.globalOptions=void 0;const Z0=S.createContext(null);function vu(){const e=S.useContext(Z0);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const X0=S.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=gm({...t,axis:e==="horizontal"?"x":"y"},n),[f,d]=S.useState(!1),[p,m]=S.useState(!1),h=S.useCallback(v=>{v&&(d(v.canScrollPrev()),m(v.canScrollNext()))},[]),x=S.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=S.useCallback(()=>{u==null||u.scrollNext()},[u]),g=S.useCallback(v=>{v.key==="ArrowLeft"?(v.preventDefault(),x()):v.key==="ArrowRight"&&(v.preventDefault(),b())},[x,b]);return S.useEffect(()=>{!u||!r||r(u)},[u,r]),S.useEffect(()=>{if(u)return h(u),u.on("reInit",h),u.on("select",h),()=>{u==null||u.off("select",h)}},[u,h]),a.jsx(Z0.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:f,canScrollNext:p},children:a.jsx("div",{ref:l,onKeyDownCapture:g,className:me("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});X0.displayName="Carousel";const J0=S.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=vu();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:me("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});J0.displayName="CarouselContent";const eb=S.forwardRef(({className:e,...t},r)=>{const{orientation:n}=vu();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:me("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});eb.displayName="CarouselItem";const tb=S.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=vu();return a.jsxs($,{ref:s,variant:t,size:r,className:me("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(by,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});tb.displayName="CarouselPrevious";const rb=S.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=vu();return a.jsxs($,{ref:s,variant:t,size:r,className:me("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(kj,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});rb.displayName="CarouselNext";const nk=ou("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ot({className:e,variant:t,...r}){return a.jsx("div",{className:me(nk({variant:t}),e),...r})}const sk=({category:e})=>a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50/30 rounded-2xl p-8 shadow-lg border border-peach-100/50",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.icon,a.jsx("h3",{className:"text-2xl font-bold text-gray-800 font-playfair",children:e.title})]}),a.jsx("div",{className:"mb-6",children:a.jsxs(X0,{className:"w-full max-w-xs mx-auto",children:[a.jsx(J0,{children:e.images.map((t,r)=>a.jsx(eb,{children:a.jsxs("div",{className:"aspect-square overflow-hidden rounded-xl relative",children:[a.jsx("img",{src:t,alt:`${e.title} ${r+1}`,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"}),e.labels&&e.labels.length>0&&a.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:e.labels.map((n,s)=>a.jsxs(ot,{variant:"outline",className:"bg-white/90 text-blue-700 border-blue-200 text-xs backdrop-blur-sm",children:[a.jsx(di,{className:"w-3 h-3 mr-1"}),n]},s))})]})},r))}),a.jsx(tb,{className:"bg-white/80 hover:bg-white border-peach-200"}),a.jsx(rb,{className:"bg-white/80 hover:bg-white border-peach-200"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700 font-inter leading-relaxed",children:e.explanation}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3 font-playfair",children:"Caratteristiche:"}),a.jsx("ul",{className:"space-y-2",children:e.features.map((t,r)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600 font-inter",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-peach-400 to-coral-500 rounded-full"}),t]},r))})]})]})]}),ak=()=>{const[e,t]=S.useState([]),[r,n]=S.useState({}),[s,i]=S.useState(!0);S.useEffect(()=>{o(),l()},[]);const o=async()=>{try{const{data:u,error:f}=await z.from("category_pictures").select("*").eq("is_active",!0).order("position");!f&&u&&t(u)}catch(u){console.log("Could not load category pictures:",u)}},l=async()=>{try{console.log("[Categories] Loading category galleries from database...");const u=["matrimoni","fiori_piante","fiori_finti","funerali"],f={};for(const d of u){const{data:p,error:m}=await z.from("content_sections").select("content_value").eq("section_key",`category_${d}_images`).single();if(!m&&(p!=null&&p.content_value))try{const h=JSON.parse(p.content_value);console.log(`[Categories] Loaded ${d} gallery:`,h);let x=[],b=[];Array.isArray(h)&&(h.length>0&&typeof h[0]=="string"?(x=h.filter(g=>g&&g.trim()),b=[]):(x=h.filter(g=>g&&g.url&&g.url.trim()).map(g=>g.url.trim()),b=h.filter(g=>g&&g.url&&g.url.trim()).map(g=>g.label||""))),f[d]={images:x,labels:b}}catch(h){console.error(`[Categories] Error parsing ${d} gallery:`,h)}else console.log(`[Categories] No gallery data found for ${d}`)}n(f),console.log("[Categories] All category galleries loaded:",f)}catch(u){console.error("[Categories] Error loading category galleries:",u)}finally{i(!1)}},c=()=>{var f,d,p,m,h,x,b,g;const u={fiori_piante:["https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],fiori_finti:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],matrimoni:["https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],funerali:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]};return[{title:"Fiori & Piante",description:"Fiori freschi e piante di qualit premium",images:((f=r.fiori_piante)==null?void 0:f.images)||u.fiori_piante,explanation:"Da Francesco Fiori & Piante, troverai un'ampia scelta di fiori freschi di stagione e piante ornamentali per ogni ambiente. Che tu stia cercando una pianta verde per il tuo salotto o un mazzo colorato per sorprendere una persona cara, siamo qui per consigliarti con passione e competenza.",features:["Fiori freschi tagliati quotidianamente","Piante da interno e esterno","Composizioni personalizzate","Garanzia di freschezza","Cura e manutenzione inclusa"],labels:((d=r.fiori_piante)==null?void 0:d.labels)||[],icon:a.jsx(Xn,{className:"text-emerald-500",size:28})},{title:"Fiori Finti",description:"Eleganti composizioni artificiali",images:((p=r.fiori_finti)==null?void 0:p.images)||u.fiori_finti,explanation:"Per chi desidera la bellezza dei fiori senza pensieri, proponiamo una collezione curata di fiori artificiali di alta qualit.",features:["Materiali di alta qualit","Aspetto realistico","Nessuna manutenzione richiesta","Durata illimitata","Resistenti agli allergeni","Perfetti per ogni ambiente"],labels:((m=r.fiori_finti)==null?void 0:m.labels)||[],icon:a.jsx(Ey,{className:"text-amber-500",size:28})},{title:"Matrimoni",description:"Allestimenti floreali per il giorno speciale",images:((h=r.matrimoni)==null?void 0:h.images)||u.matrimoni,explanation:"Rendiamo unico il giorno pi importante della tua vita con allestimenti floreali personalizzati per matrimoni. Bouquet da sposa, centrotavola, archi floreali e decorazioni per chiesa e location: tutto viene progettato su misura per raccontare la vostra storia d'amore con i fiori.",features:["Bouquet da sposa personalizzati","Centrotavola eleganti","Archi floreali per cerimonie","Decorazioni per chiesa","Allestimenti per location","Progettazione su misura","Consulenza personalizzata","Servizio completo matrimoni"],labels:((x=r.matrimoni)==null?void 0:x.labels)||[],icon:a.jsx(Ny,{className:"text-rose-500",size:28})},{title:"Funerali",description:"Composizioni di cordoglio e commemorazione",images:((b=r.funerali)==null?void 0:b.images)||u.funerali,explanation:"Nel momento del dolore, offriamo composizioni floreali sobrie ed eleganti per onorare la memoria dei tuoi cari.",features:["Composizioni tradizionali e moderne","Corone e cuscini floreali","Mazzi di cordoglio","Consegna tempestiva","Servizio discreto e rispettoso","Personalizzazione su richiesta"],labels:((g=r.funerali)==null?void 0:g.labels)||[],icon:a.jsx(Ty,{className:"text-sage-500",size:28})}]};return a.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair animate-scale-in",children:"Esplora per Categoria"}),a.jsx("p",{className:"text-xl text-gray-600 font-inter animate-fade-in-up animate-stagger-1",children:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. "})]}),a.jsxs("div",{className:"mb-16 animate-slide-in-up animate-stagger-2",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in-down",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-2 font-playfair animate-bounce-gentle",children:"La Nostra Galleria"}),a.jsx("p",{className:"text-gray-600 animate-fade-in-up animate-stagger-1",children:"Scopri alcuni dei nostri lavori pi belli (incluso il tuo cane! )"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:!s&&e&&e.length>0?e.map((u,f)=>a.jsxs("div",{className:`group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-white hover-lift animate-scale-in animate-stagger-${Math.min(f+1,5)}`,children:[a.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:a.jsx("img",{src:u.image_url,alt:u.alt_text||`Gallery picture ${u.position}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 hover-glow"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.alt_text&&a.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0",children:a.jsx("p",{className:"text-sm font-medium animate-fade-in-up",children:u.alt_text})}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-all duration-300",children:a.jsx(Xn,{className:"text-white animate-float",size:20})})]},u.id)):[1,2,3].map(u=>a.jsx("div",{className:`group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-white hover-lift animate-fade-in-up animate-stagger-${u}`,children:a.jsx("div",{className:"aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500 animate-bounce-gentle",children:[a.jsx(Xn,{size:48,className:"mx-auto mb-2 text-gray-400 animate-float"}),a.jsxs("p",{className:"text-sm animate-fade-in-up",children:["Picture ",u]}),a.jsx("p",{className:"text-xs animate-fade-in-up animate-stagger-1",children:"Upload via Admin Panel"})]})})},u))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in-up animate-stagger-3",children:c().map((u,f)=>a.jsx("div",{className:`animate-scale-in animate-stagger-${Math.min(f+1,5)} hover-lift`,children:a.jsx(sk,{category:u})},f))})]})})},ik=({product:e,name:t,price:r,image:n,description:s,onOrder:i,onViewDetails:o})=>{const l=(e==null?void 0:e.name)||t||"",c=e?`${e.price.toFixed(2)}`:r||"",u=(e==null?void 0:e.image_url)||n||"",f=(e==null?void 0:e.description)||s||"",d=(e==null?void 0:e.is_available)!==!1,p=(e==null?void 0:e.stock_quantity)||0,m=()=>{e&&i&&d&&i(e)},h=()=>{e&&o&&o(e)};return a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50/30 rounded-xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-peach-100/50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:u,alt:l,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",onError:x=>{const b=x.target;b.src="/placeholder.svg"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-peach-900/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e&&a.jsx("div",{className:"absolute top-3 left-3",children:d?p<=5&&p>0?a.jsxs("span",{className:"bg-amber-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:["Ultimi ",p]}):null:a.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Non Disponibile"})}),e&&e.labels&&e.labels.length>0&&a.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-1",children:e.labels.map((x,b)=>a.jsxs(ot,{variant:"outline",className:"bg-white/90 text-blue-700 border-blue-200 text-xs backdrop-blur-sm",children:[a.jsx(di,{className:"w-3 h-3 mr-1"}),x]},b))}),e&&(i||o)&&a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 space-y-2",children:o&&a.jsx("button",{onClick:h,className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-all duration-300 shadow-lg",title:"Visualizza dettagli",children:a.jsx(uo,{size:16})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 font-playfair",children:l}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm font-inter line-clamp-2",children:f}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-coral-600 font-playfair",children:c}),e&&i?a.jsx("button",{onClick:m,disabled:!d,className:`p-3 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110 group/btn ${d?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:d?"Ordina ora":"Non disponibile",children:a.jsx(Gs,{size:20,className:d?"group-hover/btn:animate-bounce":""})}):a.jsx("button",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110 group/btn",children:a.jsx(Gs,{size:20,className:"group-hover/btn:animate-bounce"})})]}),e&&a.jsx("div",{className:"mt-3",children:a.jsx("span",{className:"inline-block bg-peach-100 text-peach-800 px-2 py-1 rounded-full text-xs font-medium",children:e.category})})]})]})},ok=GN,lk=VN,nb=S.forwardRef(({className:e,...t},r)=>a.jsx(Bx,{ref:r,className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nb.displayName=Bx.displayName;const sb=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(lk,{children:[a.jsx(nb,{}),a.jsxs(Ux,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(WN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(tn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sb.displayName=Ux.displayName;const ab=({className:e,...t})=>a.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ab.displayName="DialogHeader";const ib=S.forwardRef(({className:e,...t},r)=>a.jsx(qx,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));ib.displayName=qx.displayName;const ck=S.forwardRef(({className:e,...t},r)=>a.jsx(Hx,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));ck.displayName=Hx.displayName;const pe=S.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pe.displayName="Input";const nn=S.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));nn.displayName="Textarea";var uk="Label",ob=S.forwardRef((e,t)=>a.jsx(Te.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ob.displayName=uk;var lb=ob;const dk=ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=S.forwardRef(({className:e,...t},r)=>a.jsx(lb,{ref:r,className:me(dk(),e),...t}));ee.displayName=lb.displayName;const el=KN,Js=S.forwardRef(({className:e,...t},r)=>a.jsx(Vx,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Js.displayName=Vx.displayName;const Ee=S.forwardRef(({className:e,...t},r)=>a.jsx(Wx,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ee.displayName=Wx.displayName;const We=S.forwardRef(({className:e,...t},r)=>a.jsx(Gx,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));We.displayName=Gx.displayName;let ec=null,Es=null;const fk=async()=>{if(!window.stripeConfigCache&&Es&&(Es=null,ec=null),Es)return Es;try{const{data:e,error:t}=await z.from("settings").select("value").eq("key","stripeConfig").single();if(t||!(e!=null&&e.value))throw new Error("Stripe configuration not found. Please configure Stripe in the admin panel.");return Es=e.value,window.stripeConfigCache=Es,Es}catch(e){throw console.error("Error loading Stripe config:",e),new Error("Failed to load Stripe configuration")}},pk=async()=>{if(!ec){const e=await fk();if(!(e!=null&&e.publishableKey))throw new Error("Stripe publishable key not configured");ec=tj(e.publishableKey)}return ec};class mk{constructor(){Le(this,"stripe",null)}async getStripeInstance(){return this.stripe||(this.stripe=pk()),await this.stripe}async createCheckoutSession(t,r,n,s){try{const i=t.reduce((d,p)=>d+p.price*p.quantity,0),l={line_items:t.map(d=>{const p={name:d.name,images:d.image?[d.image]:[]};return d.description&&d.description.trim()!==""&&(p.description=d.description.trim()),{price_data:{currency:"eur",product_data:p,unit_amount:Math.round(d.price*100)},quantity:d.quantity}}),mode:"payment",customer_email:r.email,billing_address_collection:"required",shipping_address_collection:{allowed_countries:["IT","FR","DE","ES","AT","CH"]},success_url:`${window.location.origin}/payment/success?session_id={CHECKOUT_SESSION_ID}&order_id=${n}`,cancel_url:`${window.location.origin}/payment/cancel?order_id=${n}`,metadata:{order_id:n,customer_name:r.name,customer_phone:r.phone||"",...s},payment_intent_data:{metadata:{order_id:n,customer_name:r.name}}},u=await fetch("/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();return{sessionId:f.id,url:f.url}}catch(i){throw console.error("Error creating checkout session:",i),new Error("Failed to create checkout session. Please try again.")}}async redirectToCheckout(t){try{const r=await this.getStripeInstance();if(!r)throw new Error("Stripe failed to initialize");const{error:n}=await r.redirectToCheckout({sessionId:t});if(n)throw n}catch(r){throw console.error("Error redirecting to checkout:",r),new Error("Failed to redirect to checkout. Please try again.")}}async checkoutAndRedirect(t,r,n,s){try{const i=await this.createCheckoutSession(t,r,n,s);await this.redirectToCheckout(i.sessionId)}catch(i){throw console.error("Error in checkout flow:",i),i}}async verifyPayment(t){try{const n=await fetch(`/verify-payment?session_id=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(r){throw console.error("Error verifying payment:",r),new Error("Failed to verify payment status")}}async updateOrderAfterPayment(t,r){try{const{error:n}=await z.from("orders").update({status:"paid",stripe_session_id:r.stripeSessionId,stripe_payment_intent_id:r.paymentIntentId,payment_status:r.status,paid_amount:r.amountPaid,paid_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;await z.from("order_status_history").insert({order_id:t,status:"paid",notes:`Payment completed via Stripe. Payment Intent: ${r.paymentIntentId}`,created_by:"system"})}catch(n){throw console.error("Error updating order after payment:",n),new Error("Failed to update order status")}}async handleFailedPayment(t,r){try{const{error:n}=await z.from("orders").update({status:"payment_failed",payment_status:"failed",updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;await z.from("order_status_history").insert({order_id:t,status:"payment_failed",notes:`Payment failed. Reason: ${r||"Unknown"}`,created_by:"system"})}catch(n){throw console.error("Error handling failed payment:",n),new Error("Failed to update order status for failed payment")}}async getPublicStripeInstance(){return await this.getStripeInstance()}}const Sc=new mk,cb=({items:e,customerInfo:t,orderId:r,onCreateOrder:n,onSuccess:s,onError:i,disabled:o=!1,className:l="",children:c})=>{const[u,f]=S.useState(!1),{toast:d}=Ae(),p=async()=>{if(!e.length||!t.name||!t.email){const h="Missing required information for checkout";d({title:"Checkout Error",description:h,variant:"destructive"}),i==null||i(h);return}try{f(!0);let h=r;if(n&&!r&&(h=await n()),!h)throw new Error("Order ID is required for payment processing");const x=e.reduce((b,g)=>b+g.price*g.quantity,0);d({title:"Redirecting to Payment",description:`Processing payment of ${x.toFixed(2)}...`});try{console.log("Creating real Stripe checkout session..."),await Sc.checkoutAndRedirect(e,t,h,{source:"francesco_fiori_website",order_type:"product_order"})}catch(b){throw console.error("Real Stripe checkout failed:",b),b}s==null||s()}catch(h){console.error("Checkout error:",h);const x=h instanceof Error?h.message:"Payment processing failed";d({title:"Payment Error",description:x,variant:"destructive"}),i==null||i(x)}finally{f(!1)}},m=e.reduce((h,x)=>h+x.price*x.quantity,0);return a.jsxs("div",{className:`space-y-4 ${l}`,children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[e.map((h,x)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[h.name,"  ",h.quantity]}),a.jsxs("span",{className:"font-medium",children:["",(h.price*h.quantity).toFixed(2)]})]},x)),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["",m.toFixed(2)]})]})})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Billing Information"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",t.email]}),t.phone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",t.phone]})]})]}),a.jsx($,{onClick:p,disabled:o||u||!e.length,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",size:"lg",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing Payment..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qo,{className:"h-5 w-5 mr-2"}),c||`Pay ${m.toFixed(2)} with Stripe`]})}),a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[a.jsx("p",{children:" Secure payment powered by Stripe"}),a.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})},hk=({product:e,isOpen:t,onClose:r})=>{const[n,s]=S.useState(!1),[i,o]=S.useState({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),{toast:l}=Ae(),c=(h,x)=>{o(b=>({...b,[h]:x}))},u=h=>{o(x=>({...x,quantity:Math.max(1,x.quantity+(h?1:-1))}))},f=()=>e?e.price*i.quantity:0,d=()=>{const h=Date.now().toString(),x=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`ORD-${h.slice(-6)}${x}`},p=async()=>{if(!e)return null;try{const h=d(),x=f(),{data:b,error:g}=await z.from("orders").insert({order_number:h,customer_name:i.customerName,customer_email:i.customerEmail,customer_phone:i.customerPhone||null,total_amount:x,status:"payment_pending",payment_status:"pending",billing_address:{street:i.deliveryAddress,city:"",postalCode:"",country:"Italy"},shipping_address:{street:i.deliveryAddress,city:"",postalCode:"",country:"Italy"},notes:`Product Order - ${e.name}
Quantity: ${i.quantity}
Special Requests: ${i.specialRequests}
Delivery Date: ${i.deliveryDate}`}).select().single();if(g)throw g;const{error:v}=await z.from("order_items").insert({order_id:b.id,product_id:e.id,product_name:e.name,quantity:i.quantity,price:e.price});if(v)throw v;return b}catch(h){throw console.error("Order creation error:",h),h}},m=async h=>{h.preventDefault()};return e?a.jsx(ok,{open:t,onOpenChange:r,children:a.jsxs(sb,{className:"max-w-2xl max-h-[95vh] overflow-y-auto",children:[a.jsx(ab,{children:a.jsxs(ib,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-6 w-6"}),"Ordina: ",e.name]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:e.image_url,alt:e.name,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),a.jsxs("p",{className:"text-xl font-bold text-emerald-600 mt-2",children:["",e.price.toFixed(2)]})]})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerName",className:"flex items-center gap-2",children:[a.jsx(Dy,{className:"h-4 w-4"}),"Nome Completo *"]}),a.jsx(pe,{id:"customerName",value:i.customerName,onChange:h=>c("customerName",h.target.value),placeholder:"Il tuo nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerEmail",className:"flex items-center gap-2",children:[a.jsx(Cy,{className:"h-4 w-4"}),"Email *"]}),a.jsx(pe,{id:"customerEmail",type:"email",value:i.customerEmail,onChange:h=>c("customerEmail",h.target.value),placeholder:"la-tua-email@esempio.com",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerPhone",className:"flex items-center gap-2",children:[a.jsx(lu,{className:"h-4 w-4"}),"Telefono"]}),a.jsx(pe,{id:"customerPhone",value:i.customerPhone,onChange:h=>c("customerPhone",h.target.value),placeholder:"+39 123 456 7890"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"deliveryDate",children:"Data di Consegna"}),a.jsx(pe,{id:"deliveryDate",type:"date",value:i.deliveryDate,onChange:h=>c("deliveryDate",h.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"Quantit"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!1),disabled:i.quantity<=1,children:a.jsx(Rj,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-lg font-semibold w-12 text-center",children:i.quantity}),a.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),children:a.jsx(ds,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"deliveryAddress",className:"flex items-center gap-2",children:[a.jsx(of,{className:"h-4 w-4"}),"Indirizzo di Consegna *"]}),a.jsx(pe,{id:"deliveryAddress",value:i.deliveryAddress,onChange:h=>c("deliveryAddress",h.target.value),placeholder:"Via, Citt, CAP",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"specialRequests",children:"Richieste Speciali"}),a.jsx(nn,{id:"specialRequests",value:i.specialRequests,onChange:h=>c("specialRequests",h.target.value),placeholder:"Eventuali richieste particolari o personalizzazioni...",rows:3})]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Totale:"}),a.jsxs("span",{className:"text-emerald-600",children:["",f().toFixed(2)]})]})}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scegli il metodo di pagamento"}),a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Form valid: ",i.customerName&&i.customerEmail&&i.deliveryAddress?"Yes":"No"]}),a.jsxs(el,{defaultValue:"stripe",className:"w-full",children:[a.jsxs(Js,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsxs(Ee,{value:"stripe",className:"flex items-center gap-2",children:[a.jsx(Qo,{className:"h-4 w-4"}),"Paga Ora (Stripe)"]}),a.jsx(Ee,{value:"later",children:"Paga Dopo"})]}),a.jsxs(We,{value:"stripe",className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Pagamento Sicuro con Stripe"}),a.jsx("p",{className:"text-blue-700 text-sm",children:"Paga subito con carta di credito o debito. Il tuo ordine sar confermato immediatamente."})]}),i.customerName&&i.customerEmail&&i.deliveryAddress?a.jsx(cb,{items:[{id:e.id,name:e.name,price:e.price,quantity:i.quantity,image:e.image_url||void 0,description:e.description||void 0}],customerInfo:{name:i.customerName,email:i.customerEmail,phone:i.customerPhone||void 0},onCreateOrder:async()=>{const h=await p();if(!h)throw new Error("Failed to create order");return h.id},onSuccess:()=>{l({title:"Ordine Completato! ",description:"Il pagamento  stato elaborato con successo."}),o({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),r()},onError:h=>{l({title:"Errore nel Pagamento",description:h,variant:"destructive"})}}):a.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-amber-800 text-sm",children:"Compila tutti i campi obbligatori sopra per procedere al pagamento."})})]}),a.jsxs(We,{value:"later",className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Ordina Ora, Paga Dopo"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Il tuo ordine sar salvato e ti contatteremo per confermare i dettagli e il pagamento."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx($,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Annulla"}),a.jsx($,{type:"button",disabled:n||!i.customerName||!i.customerEmail||!i.deliveryAddress,onClick:async()=>{s(!0);try{const h=await p();h&&(await z.from("order_notifications").insert({order_id:h.id,notification_type:"new_order",is_read:!1}),l({title:"Ordine Inviato con Successo! ",description:`Il tuo ordine #${h.order_number}  stato ricevuto. Ti contatteremo presto per confermare i dettagli.`}),o({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),r())}catch(h){l({title:"Errore nell'invio dell'ordine",description:h.message||"Riprova o contattaci direttamente.",variant:"destructive"})}finally{s(!1)}},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Invio in corso..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"mr-2 h-4 w-4"}),"Conferma Ordine"]})})]})]})]})]})]})]})]})}):null},ub=()=>{const[e,t]=S.useState({}),[r,n]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState(!0),[c,u]=S.useState("I Nostri Prodotti"),[f,d]=S.useState("Scopri la nostra selezione di fiori e composizioni per ogni occasione");S.useEffect(()=>{p(),m()},[]);const p=async()=>{try{const{data:N,error:j}=await z.from("products").select(`
          *,
          categories (
            name,
            slug
          )
        `).eq("is_active",!0).order("sort_order",{ascending:!0});if(!j&&N){const E={};N.forEach(C=>{var O,P;const I=((O=C.categories)==null?void 0:O.slug)||"uncategorized";E[I]||(E[I]=[]);const D={...C,category:((P=C.categories)==null?void 0:P.name)||"Uncategorized",category_slug:I,is_available:(C.stock_quantity||0)>0,images:C.gallery?Array.isArray(C.gallery)?C.gallery:[C.image_url].filter(Boolean):[C.image_url].filter(Boolean)};E[I].push(D)}),t(E)}}catch(N){console.log("Could not load products:",N)}finally{l(!1)}},m=async()=>{try{const{data:N,error:j}=await z.from("content_sections").select("section_key, content_value").in("section_key",["products_heading","products_subheading"]);!j&&N&&N.forEach(E=>{E.section_key==="products_heading"&&E.content_value&&u(E.content_value),E.section_key==="products_subheading"&&E.content_value&&d(E.content_value)})}catch(N){console.log("Could not load content:",N)}},h=N=>{n(N),i(!0)},x=()=>{i(!1),n(null)},b=N=>{switch(N){case"fiori-piante":return a.jsx(Xn,{className:"text-emerald-500",size:28});case"fiori-finti":return a.jsx(Ey,{className:"text-amber-500",size:28});case"matrimoni":return a.jsx(Ny,{className:"text-rose-500",size:28});case"funerali":return a.jsx(Ty,{className:"text-sage-500",size:28});default:return a.jsx(Xn,{className:"text-emerald-500",size:28})}},g=N=>{switch(N){case"fiori-piante":return"from-peach-400 to-coral-500";case"fiori-finti":return"from-amber-400 to-peach-500";case"matrimoni":return"from-rose-400 to-pink-500";case"funerali":return"from-sage-400 to-emerald-500";default:return"from-peach-400 to-coral-500"}},v=N=>{switch(N){case"fiori-piante":return"Fiori & Piante";case"fiori-finti":return"Fiori Finti";case"matrimoni":return"Matrimoni";case"funerali":return"Funerali";default:return N}};if(o)return a.jsx("section",{id:"products",className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto animate-pulse-glow"}),a.jsx("p",{className:"mt-4 text-gray-600 animate-bounce-gentle",children:"Caricamento prodotti..."})]})})});const w=["matrimoni","fiori-piante","fiori-finti","funerali"].filter(N=>e[N]&&e[N].length>0);return a.jsxs(a.Fragment,{children:[a.jsx("section",{id:"products",className:"py-20 bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair animate-scale-in",children:c}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-inter animate-fade-in-up animate-stagger-1",children:f})]}),a.jsx("div",{className:"space-y-16",children:w.map((N,j)=>{const E=e[N]||[],C=v(N),I=b(N),D=g(N);return a.jsxs("div",{className:`space-y-8 animate-slide-in-up animate-stagger-${Math.min(j+2,5)}`,children:[a.jsxs("div",{className:"text-center animate-fade-in-down",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${D} shadow-lg hover-lift animate-bounce-gentle`,children:a.jsx("div",{className:"bg-white p-2 rounded-full animate-heartbeat",children:I})})}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2 font-playfair animate-fade-in-up",children:C}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-emerald-400 to-emerald-600 mx-auto rounded-full animate-shimmer"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:E.slice(0,4).map((O,P)=>a.jsx("div",{className:`animate-scale-in animate-stagger-${Math.min(P+1,5)} hover-lift`,children:a.jsx(ik,{product:O,onOrder:h})},O.id))}),E.length>4&&a.jsx("div",{className:"text-center animate-fade-in-up animate-stagger-5",children:a.jsxs("button",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-6 py-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 hover-glow animate-pulse-glow",children:[a.jsx(_j,{size:20,className:"animate-wiggle"}),"Vedi tutti i prodotti ",C,a.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm animate-bounce-gentle",children:["+",E.length-4]})]})})]},N)})}),a.jsx("div",{className:"mt-16 text-center animate-slide-in-up animate-stagger-5",children:a.jsxs("div",{className:"bg-gradient-to-br from-peach-50/50 via-white to-amber-50/50 rounded-2xl p-8 border border-peach-100/50 hover-lift animate-pulse-glow",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 font-playfair animate-fade-in-up",children:"Non trovi quello che cerchi?"}),a.jsx("p",{className:"text-gray-600 mb-6 font-inter animate-fade-in-up animate-stagger-1",children:"Contattaci per composizioni personalizzate e consulenze su misura per le tue esigenze"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up animate-stagger-2",children:[a.jsx("button",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-8 py-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 hover-glow animate-heartbeat",children:"Richiedi Preventivo Personalizzato"}),a.jsx("button",{className:"border-2 border-emerald-500 text-emerald-600 px-8 py-3 rounded-full hover:bg-emerald-50 transition-all duration-300 hover-lift animate-bounce-gentle",children:"Contattaci"})]})]})})]})}),a.jsx(hk,{product:r,isOpen:s,onClose:x})]})},gk=()=>{const{language:e,t}=R0(),r={it:{title:"Chi Siamo - Francesco Fiori & Piante",storyTitle:"La Nostra Storia",paragraph1:"Francesco Fiori & Piante nasce dalla passione per la bellezza naturale e dall'esperienza artigianale tramandata nel tempo. Dai momenti pi delicati come i funerali, ai giorni pi belli come i matrimoni, offriamo composizioni floreali create con amore e cura.",paragraph2:"Le nostre creazioni nascono da una profonda passione per la bellezza naturale. Solo fiori selezionati, solo eleganza made in Torino.  Situati all'interno del Mercato di Porta Palazzo, offriamo esperienza artigianale e passione per la bellezza naturale.",quote:" Trovaci a Porta Palazzo, Torino  nel cuore del mercato pi vivace e colorato della citt.",quoteAuthor:"Un viaggio tra profumi, colori e armonie floreali",servicesTitle:"Nel nostro negozio puoi trovare:",services:["Fiori freschi per ogni occasione","Piante da interno ed esterno per decorare con la natura","Fiori finti di alta qualit, ideali per decorazioni durature","Servizi floreali su misura per cerimonie, eventi e ambienti"],stats:{years:"Anni di Esperienza",customers:"Clienti Felici",varieties:"Variet di Fiori"},closingMessage:"Vieni a trovarci da Francesco Fiori & Piante e porta un tocco di natura nella tua vita.",tagline:"Creiamo bellezza, un fiore alla volta"},en:{title:"About Francesco Fiori & Piante",storyTitle:"Our Story",paragraph1:"Francesco Fiori & Piante was born from a passion for natural beauty and artisanal experience passed down through time. From the most delicate moments like funerals, to the most beautiful days like weddings, we offer floral arrangements created with love and care.",paragraph2:"Our creations are born from a deep passion for natural beauty. Only selected flowers, only elegance made in Turin.  Located inside the Porta Palazzo Market, we offer artisanal experience and passion for natural beauty.",quote:" Find us at Porta Palazzo, Turin  in the heart of the city's most vibrant and colorful market.",quoteAuthor:"A journey through scents, colors and floral harmonies",servicesTitle:"In our shop you can find:",services:["Fresh flowers for every occasion","Indoor and outdoor plants to decorate with nature","High quality fake flowers, ideal for long-lasting decorations","Tailor-made floral services for ceremonies, events, and environments"],stats:{years:"Years Experience",customers:"Happy Customers",varieties:"Flower Varieties"},closingMessage:"Come visit us at Francesco Fiori & Piante and bring a touch of nature into your life.",tagline:"Creating beauty, one flower at a time"},fr:{title:" Propos de Francesco Fiori & Piante",storyTitle:"Notre Histoire",paragraph1:"Francesco Fiori & Piante est n d'une passion pour la beaut naturelle et l'exprience artisanale transmise  travers le temps. Des moments les plus dlicats comme les funrailles, aux plus beaux jours comme les mariages, nous offrons des arrangements floraux crs avec amour et soin.",paragraph2:"Nos crations naissent d'une passion profonde pour la beaut naturelle. Seulement des fleurs slectionnes, seulement l'lgance made in Turin.  Situs  l'intrieur du March de Porta Palazzo, nous offrons une exprience artisanale et une passion pour la beaut naturelle.",quote:" Trouvez-nous  Porta Palazzo, Turin  au cur du march le plus vivant et color de la ville.",quoteAuthor:"Un voyage  travers les parfums, couleurs et harmonies florales",servicesTitle:"Dans notre boutique vous pouvez trouver:",services:["Fleurs fraches pour chaque occasion","Plantes d'intrieur et d'extrieur pour dcorer avec la nature","Fleurs artificielles de haute qualit, idales pour des dcorations durables","Services floraux sur mesure pour crmonies, vnements et environnements"],stats:{years:"Annes d'Exprience",customers:"Clients Satisfaits",varieties:"Varits de Fleurs"},closingMessage:"Venez nous rendre visite chez Francesco Fiori & Piante et apportez une touche de nature dans votre vie.",tagline:"Crer la beaut, une fleur  la fois"},ar:{title:"   ",storyTitle:"",paragraph1:"            .                  .",paragraph2:"      .        .            .",quote:"              .",quoteAuthor:"     ",servicesTitle:"    :",services:["   ","    ","       ","     "],stats:{years:" ",customers:" ",varieties:" "},closingMessage:"           .",tagline:"      "},fa:{title:"    ",storyTitle:" ",paragraph1:"                   .                       .",paragraph2:"         .       .                 .",quote:"                   .",quoteAuthor:"       ",servicesTitle:"     :",services:["    ","       ","        ","       "],stats:{years:" ",customers:" ",varieties:" "},closingMessage:"                .",tagline:"      "}},n=r[e]||r.it;return a.jsx("section",{id:"about",className:"py-20 bg-gradient-to-br from-emerald-50 via-peach-50 to-amber-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Xn,{className:"mx-auto text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-coral-500 mb-4",size:48}),a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6 font-playfair",children:n.title})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 font-playfair",children:n.storyTitle}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed font-inter",children:n.paragraph1}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed font-inter",children:n.paragraph2}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3 font-playfair",children:n.servicesTitle}),a.jsx("ul",{className:"space-y-2",children:n.services.map((i,o)=>a.jsxs("li",{className:"flex items-start gap-3 text-gray-600 font-inter",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-peach-400 to-coral-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:i})]},o))})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-peach-50 to-coral-50 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-peach-600 to-coral-600 font-playfair",children:"20+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.years})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-emerald-700 font-playfair",children:"5000+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.customers})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-coral-600 font-playfair",children:"100+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.varieties})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-2xl",children:a.jsx("img",{src:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",alt:"Francesco Florist at work",className:"rounded-xl"})}),a.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-gradient-to-br from-white to-peach-50 p-6 rounded-xl shadow-lg border border-peach-200 max-w-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800 font-playfair mb-3",children:n.quote}),n.quote&&a.jsx("ul",{className:"text-xs text-gray-600 font-inter space-y-1",children:n.services.map((i,o)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-peach-500 mr-2",children:""}),a.jsx("span",{children:i})]},o))}),n.quoteAuthor&&a.jsx("p",{className:"text-xs text-gray-600 font-inter italic mt-2",children:n.quoteAuthor})]})]})]}),a.jsx("div",{className:"mt-16 text-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50 p-8 rounded-2xl shadow-lg border border-peach-200 max-w-3xl mx-auto",children:[a.jsx("p",{className:"text-lg text-gray-700 font-inter leading-relaxed mb-4",children:n.closingMessage}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-peach-600",children:[a.jsx(Xn,{size:20}),a.jsx("span",{className:"text-sm font-medium",children:n.tagline}),a.jsx(Xn,{size:20})]})]})})]})})})},tl=()=>a.jsx("footer",{className:"bg-gray-800 text-white py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-4",children:a.jsx("img",{src:"/lovable-uploads/c329c8f3-84d0-4928-bcae-d840d21eb631.png",alt:"Francesco Fiori & Piante",className:"h-8 w-auto filter brightness-0 invert"})}),a.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Creating beautiful floral arrangements and providing premium plants for over 20 years. Your trusted partner for life's special moments."}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("p",{children:"Via dei Fiori 123, 00100 Roma, Italy"}),a.jsx("p",{children:"Tel: +39 06 1234 5678"}),a.jsx("p",{children:"Email: info@francescofiori.it"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsx("li",{children:a.jsx("a",{href:"#home",className:"hover:text-yellow-400 transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"#flowers",className:"hover:text-yellow-400 transition-colors",children:"Flowers"})}),a.jsx("li",{children:a.jsx("a",{href:"#plants",className:"hover:text-yellow-400 transition-colors",children:"Plants"})}),a.jsx("li",{children:a.jsx("a",{href:"#bouquets",className:"hover:text-yellow-400 transition-colors",children:"Bouquets"})}),a.jsx("li",{children:a.jsx("a",{href:"#about",className:"hover:text-yellow-400 transition-colors",children:"About"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Services"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsx("li",{children:"Wedding Arrangements"}),a.jsx("li",{children:"Corporate Events"}),a.jsx("li",{children:"Funeral Flowers"}),a.jsx("li",{children:"Plant Care Services"}),a.jsx("li",{children:"Custom Bouquets"})]})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:a.jsx("p",{children:" 2024 Francesco Fiori & Piante. All rights reserved."})})]})}),vk=()=>a.jsxs("div",{className:"min-h-screen font-inter overflow-x-hidden",children:[a.jsx(Xo,{}),a.jsx($t,{componentName:"Hero",children:a.jsx("div",{className:"animate-fade-in-up",children:a.jsx(SP,{})})}),a.jsx($t,{componentName:"Categories",children:a.jsx("div",{className:"animate-fade-in-left animate-stagger-1",children:a.jsx(ak,{})})}),a.jsx($t,{componentName:"Products",children:a.jsx("div",{className:"animate-fade-in-right animate-stagger-2",children:a.jsx(ub,{})})}),a.jsx($t,{componentName:"About",children:a.jsx("div",{className:"animate-slide-in-up animate-stagger-3",children:a.jsx(gk,{})})}),a.jsx($t,{componentName:"Footer",children:a.jsx("div",{className:"animate-fade-in-up animate-stagger-4",children:a.jsx(tl,{})})})]}),Ng=[{name:"Fiori & Piante",slug:"fiori-piante",description:"Fiori freschi e piante di qualit premium",image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:1},{name:"Fiori Finti",slug:"fiori-finti",description:"Eleganti composizioni artificiali",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:2},{name:"Matrimoni",slug:"matrimoni",description:"Allestimenti floreali per il giorno speciale",image_url:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:3},{name:"Funerali",slug:"funerali",description:"Composizioni di cordoglio e commemorazione",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:4}];async function Df(){try{console.log("[InitCategories] Checking if categories need to be initialized...");const{data:e,error:t}=await z.from("categories").select("id").limit(1);if(t)return console.error("[InitCategories] Error checking existing categories:",t),console.error("[InitCategories] Error details:",t.message,t.details),console.log("[InitCategories] This might mean the categories table does not exist"),!1;if(e&&e.length>0)return console.log("[InitCategories] Categories already exist, skipping initialization"),console.log("[InitCategories] Found",e.length,"existing categories"),!0;console.log("[InitCategories] No categories found, initializing default categories..."),console.log("[InitCategories] Default categories to insert:",Ng);const{data:r,error:n}=await z.from("categories").insert(Ng).select();return n?(console.error("[InitCategories] Error inserting default categories:",n),console.error("[InitCategories] Error details:",n.message,n.details),!1):(console.log("[InitCategories] Default categories initialized successfully"),console.log("[InitCategories] Inserted categories:",r),!0)}catch(e){return console.error("[InitCategories] Error in initializeCategories:",e),!1}}const db=async(e=!1)=>{try{if(console.log("[InitializeProducts] Starting product initialization..."),!e){const{data:d,error:p}=await z.from("products").select("id").limit(1);if(p)return console.error("[InitializeProducts] Error checking existing products:",p),!1;if(d&&d.length>0)return console.log("[InitializeProducts] Products already exist, skipping initialization"),!0}const{data:t,error:r}=await z.from("categories").select("id, name, slug");if(r)return console.error("[InitializeProducts] Error fetching categories:",r),!1;if(!t||t.length===0)return console.error("[InitializeProducts] No categories found. Please initialize categories first."),!1;const n=t.reduce((d,p)=>(d[p.slug]=p.id,d),{});console.log("[InitializeProducts] Category mapping:",n);const i=[{name:"Bouquet Sposa Elegante",description:"Bouquet raffinato con rose bianche e peonie per il giorno pi importante",price:85,slug:"bouquet-sposa-elegante",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:10,sort_order:1},{name:"Centrotavola Matrimonio",description:"Elegante centrotavola con fiori misti e candele per ricevimento",price:45,slug:"centrotavola-matrimonio",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:15,sort_order:2},{name:"Addobbo Chiesa",description:"Composizione floreale per altare con fiori bianchi e verdi",price:120,slug:"addobbo-chiesa",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:5,sort_order:3},{name:"Bouquet Damigelle",description:"Piccoli bouquet coordinati per le damigelle d'onore",price:35,slug:"bouquet-damigelle",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:20,sort_order:4},{name:"Bouquet Rose Rosse",description:"Classico bouquet di rose rosse fresche, simbolo di amore eterno",price:55,slug:"bouquet-rose-rosse",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:25,sort_order:1},{name:"Pianta Monstera",description:"Elegante pianta da interno, perfetta per decorare casa o ufficio",price:35,slug:"pianta-monstera",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:12,sort_order:2},{name:"Gigli Bianchi",description:"Freschi gigli bianchi dal profumo delicato e raffinato",price:40,slug:"gigli-bianchi",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1466721591366-2d5fba72006d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:18,sort_order:3},{name:"Composizione Mista",description:"Colorata composizione con fiori di stagione in vaso decorativo",price:65,slug:"composizione-mista",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:8,sort_order:4},{name:"Orchidea Artificiale",description:"Elegante orchidea artificiale di alta qualit, indistinguibile dal vero",price:45,slug:"orchidea-artificiale",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:15,sort_order:1},{name:"Bouquet Peonie Finte",description:"Splendido bouquet di peonie artificiali per decorazioni durature",price:38,slug:"bouquet-peonie-finte",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:20,sort_order:2},{name:"Centro Tavola Artificiale",description:"Composizione artificiale per tavolo con fiori misti colorati",price:52,slug:"centro-tavola-artificiale",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:10,sort_order:3},{name:"Piante Grasse Artificiali",description:"Set di piante grasse artificiali in vasi decorativi moderni",price:28,slug:"piante-grasse-artificiali",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:25,sort_order:4},{name:"Corona Funebre Classica",description:"Elegante corona funebre con fiori bianchi e verdi per ultimo saluto",price:75,slug:"corona-funebre-classica",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:8,sort_order:1},{name:"Cuscino Floreale",description:"Cuscino floreale di cordoglio con fiori freschi e nastro personalizzato",price:65,slug:"cuscino-floreale",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:12,sort_order:2},{name:"Mazzo di Cordoglio",description:"Sobrio mazzo di fiori bianchi per esprimere vicinanza nel dolore",price:45,slug:"mazzo-di-cordoglio",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:15,sort_order:3},{name:"Composizione Commemorativa",description:"Composizione floreale per commemorazione con fiori di stagione",price:55,slug:"composizione-commemorativa",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:10,sort_order:4}].filter(d=>d.category_id);if(i.length===0)return console.error("[InitializeProducts] No valid products to insert (missing categories)"),!1;console.log(`[InitializeProducts] Inserting ${i.length} products...`);const{data:o,error:l}=await z.from("products").select("slug");if(l)return console.error("[InitializeProducts] Error checking existing products:",l),!1;const c=new Set((o==null?void 0:o.map(d=>d.slug))||[]),u=i.filter(d=>!c.has(d.slug));if(u.length===0)return console.log("[InitializeProducts] All products already exist"),!0;console.log(`[InitializeProducts] Inserting ${u.length} new products...`);const{error:f}=await z.from("products").insert(u);return f?(console.error("[InitializeProducts] Error inserting products:",f),!1):(console.log("[InitializeProducts] Products initialized successfully"),!0)}catch(t){return console.error("[InitializeProducts] Error during initialization:",t),!1}};async function xk(){try{console.log("[InitDB] Ensuring settings table exists...");const{error:e}=await z.rpc("exec_sql",{sql:`
        CREATE TABLE IF NOT EXISTS settings (
          key TEXT PRIMARY KEY,
          value JSONB,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );

        CREATE INDEX IF NOT EXISTS idx_settings_key ON settings(key);
        CREATE INDEX IF NOT EXISTS idx_settings_updated_at ON settings(updated_at);

        -- Enable RLS
        ALTER TABLE settings ENABLE ROW LEVEL SECURITY;

        -- Create RLS policies
        DROP POLICY IF EXISTS "Allow public read access to settings" ON settings;
        CREATE POLICY "Allow public read access to settings"
          ON settings
          FOR SELECT
          USING (true);

        DROP POLICY IF EXISTS "Allow authenticated users to update settings" ON settings;
        CREATE POLICY "Allow authenticated users to update settings"
          ON settings
          FOR UPDATE
          USING (auth.role() = 'authenticated')
          WITH CHECK (auth.role() = 'authenticated');

        DROP POLICY IF EXISTS "Allow authenticated users to insert settings" ON settings;
        CREATE POLICY "Allow authenticated users to insert settings"
          ON settings
          FOR INSERT
          WITH CHECK (auth.role() = 'authenticated');
      `});return e?console.log("[InitDB] Settings table creation via RPC failed, table might already exist:",e.message):console.log("[InitDB] Settings table ensured"),!0}catch(e){return console.error("[InitDB] Error ensuring settings table:",e),!0}}async function yk(){try{console.log("[InitDB] Ensuring content_sections table exists...");const{error:e}=await z.rpc("exec_sql",{sql:`
        CREATE TABLE IF NOT EXISTS content_sections (
          id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
          section_key TEXT NOT NULL UNIQUE,
          section_name TEXT NOT NULL,
          content_type TEXT NOT NULL,
          content_value TEXT,
          metadata JSONB,
          is_active BOOLEAN DEFAULT true,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );

        CREATE INDEX IF NOT EXISTS idx_content_sections_section_key ON content_sections(section_key);
        CREATE INDEX IF NOT EXISTS idx_content_sections_active ON content_sections(is_active);
        CREATE INDEX IF NOT EXISTS idx_content_sections_metadata ON content_sections USING GIN(metadata);
      `});return e?console.log("[InitDB] Table creation via RPC failed, table might already exist:",e.message):console.log("[InitDB] Content sections table ensured"),!0}catch(e){return console.error("[InitDB] Error ensuring content_sections table:",e),!0}}async function xu(){try{if(console.log("[InitDB] Starting comprehensive database initialization..."),console.log("[InitDB] Step 0a: Ensuring settings table..."),await xk(),console.log("[InitDB] Step 0b: Ensuring content_sections table..."),await yk(),console.log("[InitDB] Step 1: Initializing categories..."),!await Df())return console.error("[InitDB] Failed to initialize categories"),!1;if(console.log("[InitDB] Categories initialized successfully"),console.log("[InitDB] Step 2: Initializing products..."),!await db())return console.error("[InitDB] Failed to initialize products"),!1;console.log("[InitDB] Products initialized successfully"),console.log("[InitDB] Step 3: Initializing content sections...");const r=[{section_key:"hero_main_content",section_name:"Hero Section - Main Content",content_type:"json",content_value:JSON.stringify({heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),metadata:{section:"hero"},is_active:!0},{section_key:"category_matrimoni_images",section_name:"Category Images: Matrimoni",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_matrimoni_features",section_name:"Matrimoni - Features",content_type:"json",content_value:JSON.stringify(["Consulenza personalizzata","Bouquet sposa e damigelle","Allestimenti chiesa e location","Centrotavola e decorazioni","Addobbi floreali completi","Servizio completo per matrimoni"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_matrimoni_explanation",section_name:"Matrimoni - Explanation",content_type:"textarea",content_value:"Rendiamo unico il giorno pi importante della tua vita con allestimenti floreali personalizzati per matrimoni. Bouquet da sposa, centrotavola, archi floreali e decorazioni per chiesa e location: tutto viene progettato su misura per raccontare la vostra storia d'amore con i fiori.",metadata:{section:"categories"},is_active:!0},{section_key:"category_fiori_piante_images",section_name:"Category Images: Fiori & Piante",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_fiori_finti_images",section_name:"Category Images: Fiori Finti",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_funerali_images",section_name:"Category Images: Funerali",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0}],{data:n,error:s}=await z.from("content_sections").select("section_key").in("section_key",r.map(u=>u.section_key));if(s)return console.error("[InitDB] Error checking existing sections:",s),!1;const i=(n==null?void 0:n.map(u=>u.section_key))||[],o=r.filter(u=>!i.includes(u.section_key));if(o.length===0)return console.log("[InitDB] All category content sections already exist"),!0;console.log(`[InitDB] Inserting ${o.length} new content sections...`);const{data:l,error:c}=await z.from("content_sections").insert(o).select();return c?(console.error("[InitDB] Error inserting content sections:",c),!1):(console.log("[InitDB] Successfully inserted content sections:",l),console.log("[InitDB] Step 4: Initializing default settings..."),await bk(),!0)}catch(e){return console.error("[InitDB] Error in initializeDatabase:",e),!1}}async function bk(){try{console.log("[InitDB] Initializing default settings...");const e=[{key:"heroContent",value:{heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}},{key:"logoSettings",value:{logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"}},{key:"aboutContent",value:{heading:"Chi Siamo",subheading:"Passione per la bellezza naturale e l'arte floreale",backgroundImage:"",backgroundColor:"#FEF7CD",paragraphs:["Francesco Fiori & Piante offre composizioni floreali per ogni occasione, dai funerali ai matrimoni. Troverai fiori freschi, piante da interno ed esterno, fiori finti di alta qualit e servizi su misura. Situati all'interno del Mercato di Porta Palazzo a Torino, portiamo esperienza artigianale e passione per la bellezza naturale."]}},{key:"restaurantSettings",value:{totalSeats:50,reservationDuration:120,openingTime:"11:30",closingTime:"22:00",languages:["it","en","ar","fa"],defaultLanguage:"it"}},{key:"contactContent",value:{address:"Piazza della Repubblica, 10100 Torino TO",phone:"+393498851455",email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"}}],{data:t,error:r}=await z.from("settings").select("key").in("key",e.map(o=>o.key));if(r)return console.error("[InitDB] Error checking existing settings:",r),!1;const n=(t==null?void 0:t.map(o=>o.key))||[],s=e.filter(o=>!n.includes(o.key));if(s.length===0)return console.log("[InitDB] All default settings already exist"),!0;console.log(`[InitDB] Inserting ${s.length} new settings...`);const{error:i}=await z.from("settings").insert(s);return i?(console.error("[InitDB] Error inserting settings:",i),!1):(console.log("[InitDB] Successfully inserted default settings"),!0)}catch(e){return console.error("[InitDB] Error in initializeDefaultSettings:",e),!1}}async function fb(){try{console.log("[InitDB] Testing database connection...");const{data:e,error:t}=await z.from("content_sections").select("count").limit(1);return t?(console.error("[InitDB] Database connection failed:",t),!1):(console.log("[InitDB] Database connection successful"),!0)}catch(e){return console.error("[InitDB] Database connection error:",e),!1}}const wk=Object.freeze(Object.defineProperty({__proto__:null,initializeDatabase:xu,testDatabaseConnection:fb},Symbol.toStringTag,{value:"Module"})),rl=({currentImage:e,onImageSelected:t,onMultipleImagesSelected:r,buttonLabel:n,className:s,bucketName:i="specialties",folderPath:o,acceptedFileTypes:l="image/*",maxFileSize:c=10*1024*1024,multiple:u=!1,maxFiles:f=10})=>{const[d,p]=S.useState(!1),[m,h]=S.useState(e),[x,b]=S.useState([]),[g,v]=S.useState(null),[y,w]=S.useState({}),N=S.useRef(null),{toast:j}=Ae();K.useEffect(()=>{e!==m&&h(e)},[e]);const E=async I=>{const D=I.target.files;if(!D||D.length===0)return;const O=Array.from(D);if(O.length>1&&!u){j({title:"Multiple files not allowed",description:"Please select only one file",variant:"destructive"});return}if(u&&O.length>f){j({title:"Too many files",description:`Please select no more than ${f} files`,variant:"destructive"});return}for(const P of O)if(P.size>c){const R=Math.round(c/1048576);j({title:"File too large",description:`${P.name} exceeds ${R}MB limit`,variant:"destructive"});return}p(!0),v(null),w({}),console.log(`Starting upload for ${O.length} file(s)`),console.log("Using bucket:",i,"and folder:",o||"root");try{const P=O[0],R=P.name.split(".").pop(),A=`${Date.now()}-${Math.random().toString(36).substring(2)}.${R}`,M=o?`${o}/${A}`:A,{data:L,error:F}=await z.storage.listBuckets();if(!F&&L){if(!L.find(Y=>Y.name===i)){console.log(`Bucket ${i} not found. Available buckets:`,L.map(fe=>fe.name)),console.log(`Attempting to create ${i} bucket...`);const{error:Y}=await z.storage.createBucket(i,{public:!0,fileSizeLimit:52428800});Y?(console.warn("Could not create bucket:",Y),console.log("Will proceed with upload anyway...")):console.log(`Successfully created ${i} bucket`)}}else F&&(console.warn("Could not list buckets:",F),console.log("Will proceed with upload anyway..."));const{data:T,error:_}=await z.storage.from(i).upload(M,P,{cacheControl:"3600",upsert:!0});if(_)throw console.error("Upload error:",_),new Error(_.message||"Failed to upload file");if(!T)throw new Error("No data returned from upload");const{data:B}=z.storage.from(i).getPublicUrl(M),W=B.publicUrl;console.log("File uploaded successfully:",W),console.log(" ImageUploader: Calling onImageSelected with URL:",W),t(W),h(W),console.log(" ImageUploader: Preview image set to:",W);const q=l.includes("audio");j({title:q?"Audio uploaded":"Image uploaded",description:q?"The audio file has been uploaded successfully":"The image has been uploaded successfully"})}catch(P){console.error("Error uploading files:",P),v(P.message||"Upload failed"),j({title:"Upload failed",description:P.message||"There was an error uploading your files. Please try again.",variant:"destructive"})}finally{p(!1),w({})}},C=()=>{N.current&&N.current.click()};return a.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-4 ${s||""}`,children:[a.jsx("input",{ref:N,type:"file",accept:l,onChange:E,multiple:u,className:"hidden"}),d?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32",children:[a.jsx(ye,{className:"h-10 w-10 animate-spin text-peach-500"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Uploading..."})]}):m?a.jsxs("div",{className:"relative",children:[l.includes("audio")?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 bg-gray-50 rounded-md",children:[a.jsx(lf,{size:32,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Audio file uploaded"}),a.jsxs("audio",{controls:!0,className:"mt-2 max-w-full",children:[a.jsx("source",{src:m}),"Your browser does not support the audio element."]})]}):a.jsx("img",{src:m,alt:"Selected image",className:"max-h-48 mx-auto rounded-md object-contain",onError:I=>{const D=I.target;D.src="/placeholder.svg",console.error("Failed to load image:",m)}}),a.jsx($,{type:"button",onClick:C,className:"absolute top-2 right-2 bg-peach-500/70 hover:bg-peach-600 text-white rounded-full p-1",size:"icon",children:a.jsx(Iy,{size:16})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 cursor-pointer",onClick:C,children:[l.includes("audio")?a.jsx(lf,{size:32,className:"text-gray-400 mb-2"}):a.jsx(Up,{size:32,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-center text-sm text-gray-500",children:n||(l.includes("audio")?"Click to upload an audio file":"Click to upload an image")}),g&&a.jsx("p",{className:"text-center text-xs text-red-500 mt-2",children:g})]})]})},jg=e=>{try{return typeof e=="object"&&e!==null?e:JSON.parse(JSON.stringify(e))}catch(t){throw console.error("Error parsing JSON:",t),t}};class Sk{constructor(){Le(this,"subscribers",{});Le(this,"initialized",!1);Le(this,"settingsCache",{});Le(this,"initializationPromise",null);Le(this,"initializationInProgress",!1)}async initialize(){if(!this.initialized){if(this.initializationPromise)return this.initializationPromise;if(this.initializationInProgress)return await new Promise(t=>setTimeout(t,100)),this.initialize();this.initializationInProgress=!0,this.initializationPromise=this._initialize();try{await this.initializationPromise}finally{this.initializationInProgress=!1}return this.initializationPromise}}async _initialize(){try{const t=z.from("settings").select("key").limit(1),r=new Promise((i,o)=>{setTimeout(()=>o(new Error("Settings check timed out")),5e3)});let n;try{n=await Promise.race([t,r])}catch(i){console.warn("Settings check failed, proceeding anyway:",i),n={data:[]}}const s=(n==null?void 0:n.data)||[];if(!s||s.length===0){console.log("No settings found, initializing defaults");const i={totalSeats:50,reservationDuration:120,openingTime:"11:30",closingTime:"22:00",languages:["it","en","ar","fa"],defaultLanguage:"it"},o={address:"Piazza della Repubblica, 10100 Torino TO",phone:"+393498851455",email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"},l={heading:"La Nostra Galleria",subheading:"Scorci delle nostre creazioni floreali e dell'atmosfera del negozio"},c=[{id:"1",src:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Saffron Rice with Tahdig",featured:!0},{id:"2",src:"https://images.unsplash.com/photo-1486718448742-163732cd1544?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Traditional Kabab Platter",featured:!1},{id:"3",src:"https://images.unsplash.com/photo-1482881497185-d4a9ddbe4151?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Persian Dessert Selection",featured:!1},{id:"4",src:"https://images.unsplash.com/photo-1460574283810-2aab119d8511?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Restaurant Interior",featured:!0},{id:"5",src:"https://images.unsplash.com/photo-1494891848038-7bd202a2afeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Architectural Details",featured:!1},{id:"6",src:"https://images.unsplash.com/photo-1466442929976-97f336a657be?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Persian Dining Experience",featured:!0}],u={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},f=[this.updateSetting("restaurantSettings",i),this.updateSetting("contactContent",o),this.updateSetting("galleryContent",l),this.updateSetting("galleryImages",c),this.updateSetting("logoSettings",u),this.updateSetting("popups",[]),this.updateSetting("reservations",[])];await Promise.allSettled(f),console.log("Settings initialized in database")}else console.log("Settings already exist in database, skipping initialization");console.log(" [SettingsService] localStorage operations disabled - using database only"),this.initialized=!0}catch(t){console.error("Error initializing settings:",t)}finally{this.initializationPromise=null}}_preloadFromLocalStorage(){console.log(" [SettingsService] localStorage preloading disabled - using database only")}async getSetting(t,r,n){try{if(console.log(` [SettingsService] Fetching ${t} from DATABASE ONLY (no localStorage)`),this.settingsCache[t])return console.log(` [SettingsService] Found ${t} in memory cache`),this.settingsCache[t];console.log(` [SettingsService] Fetching ${t} from Supabase database...`);const s=z.from("settings").select("*").eq("key",t).single();if(n!=null&&n.aborted)throw new Error("Aborted");const i=new Promise((l,c)=>{setTimeout(()=>c(new Error("Supabase request timed out")),15e3)}),o=await Promise.race([s,i]);if(o.error)throw o.error;return this.settingsCache[t]=o.data.value,console.log(` [SettingsService] Successfully fetched ${t} from database`),console.log(` [SettingsService] ${t} data:`,JSON.stringify(o.data.value,null,2)),o.data.value}catch(s){if(n!=null&&n.aborted)throw new Error("Request aborted");return console.warn(` [SettingsService] Error getting setting ${t} from database:`,s),r}}subscribe(t,r){return this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push(r),()=>{this.subscribers[t]=this.subscribers[t].filter(n=>n!==r)}}notifySubscribers(t,r){this.subscribers[t]&&this.subscribers[t].forEach(n=>{try{n(r)}catch(s){console.error(`Error in subscriber callback for ${t}:`,s)}});try{window.dispatchEvent(new Event("databaseUpdated")),window.dispatchEvent(new CustomEvent("databaseChange",{detail:{key:t,value:r}}))}catch(n){console.warn("Error dispatching database events:",n)}}async saveContentChanges(t,r){try{console.log(` [SettingsService] Saving ${t} content to DATABASE ONLY:`,r),this.settingsCache[`${t}Content`]=r;try{const s=jg(r),{error:i}=await z.from("settings").upsert({key:`${t}Content`,value:s,updated_at:new Date().toISOString()},{onConflict:"key"});if(i)throw console.error(` [SettingsService] Database save error for ${t}Content:`,i),i;console.log(` [SettingsService] Successfully saved ${t} content to database`)}catch(s){throw console.error(` [SettingsService] Database save for ${t}Content failed:`,s),s}const n=Date.now();return window.dispatchEvent(new CustomEvent("databaseUpdated",{detail:{key:`${t}Content`,timestamp:n}})),!0}catch(n){return console.error(` [SettingsService] Error saving ${t} content:`,n),!1}}async updateSetting(t,r){try{console.log(` [SettingsService] Updating ${t} in DATABASE ONLY:`,r),this.settingsCache[t]=r;try{const n=jg(r),{error:s}=await z.from("settings").upsert({key:t,value:n,updated_at:new Date().toISOString()},{onConflict:"key"});if(s)throw console.error(` [SettingsService] Database error updating ${t}:`,s),s;console.log(` [SettingsService] Successfully updated ${t} in database`)}catch(n){throw console.error(` [SettingsService] Database update for ${t} failed:`,n),n}return this.notifySubscribers(t,r),!0}catch(n){return console.error(` [SettingsService] Error updating setting ${t}:`,n),!1}}cleanup(){this.subscribers={},this.settingsCache={},this.initialized=!1,this.initializationPromise=null,this.initializationInProgress=!1}}const mn=new Sk,pb=Object.freeze(Object.defineProperty({__proto__:null,settingsService:mn},Symbol.toStringTag,{value:"Module"}));function mb(e,t){const[r,n]=S.useState(t),[s,i]=S.useState(!0),[o,l]=S.useState(navigator.onLine);S.useEffect(()=>{const f=()=>{l(!0),c()},d=()=>l(!1);return window.addEventListener("online",f),window.addEventListener("offline",d),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",d)}},[]),S.useEffect(()=>{const f=z.channel(`public:settings:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:`key=eq.${e}`},d=>{var p;if(console.log(`Settings: Received realtime update for ${e}:`,d),d.new&&((p=d.new)==null?void 0:p.value)!==void 0)try{const m=d.new.value;n(m),console.log(`Settings: Updated ${e} via Supabase realtime`),localStorage.setItem(e,JSON.stringify(m))}catch(m){console.warn(`Settings: Error processing realtime update for ${e}:`,m)}}).subscribe();return()=>{z.removeChannel(f)}},[e]);const c=S.useCallback(async()=>{i(!0);try{console.log(`[useSetting] Loading setting: ${e}`);const f=mn.getSetting(e,t),d=new Promise((m,h)=>{setTimeout(()=>h(new Error(`Timeout loading setting ${e}`)),1e4)}),p=await Promise.race([f,d]);console.log(`[useSetting] Loaded setting ${e}:`,p),n(p)}catch(f){console.error(`[useSetting] Error loading setting ${e}:`,f),console.log(`[useSetting] Using default value for ${e}:`,t),n(t)}finally{i(!1)}},[e,t]);return S.useEffect(()=>{const d=(async()=>{try{console.log(`[useSetting] Initializing settings service for ${e}`),await mn.initialize(),await c();const p=mn.subscribe(e,h=>{console.log(`[useSetting] Received subscription update for ${e}:`,h),n(h)}),m=h=>{var g;const x=h,b=h;((x==null?void 0:x.key)===e||((g=b==null?void 0:b.detail)==null?void 0:g.key)===e)&&(console.log(`[useSetting] Storage event detected for ${e}, reloading...`),c())};return window.addEventListener("storage",m),window.addEventListener("localStorageUpdated",m),()=>{p(),window.removeEventListener("storage",m),window.removeEventListener("localStorageUpdated",m)}}catch(p){return console.error(`[useSetting] Error initializing settings for ${e}:`,p),n(t),i(!1),()=>{}}})();return()=>{d.then(p=>{typeof p=="function"&&p()}).catch(p=>{console.warn(`[useSetting] Error during cleanup for ${e}:`,p)})}},[e,c,t]),[r,async f=>{const d=await mn.updateSetting(e,f);return d&&n(f),d},s]}function Nk(){return mb("logoSettings",{logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"})}function hb(){return mb("heroContent",{heading:"Francesco Fiori & Piante",subheading:"Creazioni floreali uniche per ogni occasione speciale",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})}const xd=({section:e,onSave:t,saving:r})=>{const{toast:n}=Ae(),[s,i]=S.useState(!1),[o,l]=S.useState(""),[c,u,f]=hb();S.useEffect(()=>{l(e.content_value||"")},[e.content_value]);let d;try{d=e.content_value?JSON.parse(e.content_value):{}}catch{d={}}const p=async()=>{try{e.section_key.includes("hero")&&d.backgroundImage&&(console.log(" ContentEditor: Updating hero content in settings table"),await u({heading:d.heading||"",subheading:d.subheading||"",backgroundImage:d.backgroundImage||""}),console.log(" ContentEditor: Hero content updated in settings table")),t(e.id,o),i(!1),n({title:"Success",description:"Content updated successfully"})}catch(h){console.error("ContentEditor: Error saving:",h),n({title:"Error",description:"Failed to update content",variant:"destructive"})}},m=h=>{try{const x={...d,backgroundImage:h};l(JSON.stringify(x,null,2)),console.log(" ContentEditor: Image uploaded, content updated:",x)}catch(x){console.error("Error updating image:",x)}};return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[e.section_name,a.jsxs($,{onClick:()=>i(!s),variant:"outline",size:"sm",children:[a.jsx(Py,{className:"h-4 w-4 mr-1"}),s?"Cancel":"Edit"]})]})}),a.jsx(ue,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content (JSON)"}),a.jsx(nn,{value:o,onChange:h=>l(h.target.value),rows:10,className:"font-mono text-sm"})]}),e.section_key.includes("hero")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Background Image"}),a.jsx(rl,{currentImage:d.backgroundImage,onImageSelected:m,bucketName:"uploads",folderPath:"hero-images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a new hero background image. This will update both the content sections and settings tables."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{onClick:p,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-4 w-4 mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"h-4 w-4 mr-1"}),"Save Changes"]})}),a.jsx($,{onClick:()=>i(!1),variant:"outline",children:"Cancel"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Section Key:"}),a.jsx("p",{className:"font-mono text-sm",children:e.section_key})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Content Type:"}),a.jsx("p",{className:"text-sm",children:e.content_type})]}),d.heading&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Heading:"}),a.jsx("p",{className:"font-semibold",children:d.heading})]}),d.subheading&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Subheading:"}),a.jsx("p",{className:"text-sm",children:d.subheading})]}),d.backgroundImage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Background Image:"}),a.jsx("img",{src:d.backgroundImage,alt:"Background",className:"w-full h-24 object-cover rounded mt-1",onError:h=>{const x=h.target;x.src="/placeholder.svg"}})]})]})})]})};var gb={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Ck=Symbol.for("react.fragment"),Ek=Symbol.for("react.strict_mode"),Pk=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),Dk=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),Rk=Symbol.for("react.lazy"),Cg=Symbol.iterator;function Ok(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var vb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,yb={};function yi(e,t,r){this.props=e,this.context=t,this.refs=yb,this.updater=r||vb}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bb(){}bb.prototype=yi.prototype;function vm(e,t,r){this.props=e,this.context=t,this.refs=yb,this.updater=r||vb}var xm=vm.prototype=new bb;xm.constructor=vm;xb(xm,yi.prototype);xm.isPureReactComponent=!0;var Eg=Array.isArray,wb=Object.prototype.hasOwnProperty,ym={current:null},Sb={key:!0,ref:!0,__self:!0,__source:!0};function Nb(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wb.call(t,n)&&!Sb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:nl,type:e,key:i,ref:o,props:s,_owner:ym.current}}function _k(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bm(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function Fk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Pg=/\/+/g;function yd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fk(""+e.key):t.toString(36)}function tc(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case nl:case jk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+yd(o,0):n,Eg(s)?(r="",e!=null&&(r=e.replace(Pg,"$&/")+"/"),tc(s,t,r,"",function(u){return u})):s!=null&&(bm(s)&&(s=_k(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Pg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Eg(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+yd(i,l);o+=tc(i,t,r,c,s)}else if(c=Ok(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+yd(i,l++),o+=tc(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(e,t,r){if(e==null)return e;var n=[],s=0;return tc(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Mk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},rc={transition:null},Lk={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:rc,ReactCurrentOwner:ym};function jb(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Il,forEach:function(e,t,r){Il(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Il(e,function(){t++}),t},toArray:function(e){return Il(e,function(t){return t})||[]},only:function(e){if(!bm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=yi;we.Fragment=Ck;we.Profiler=Pk;we.PureComponent=vm;we.StrictMode=Ek;we.Suspense=Tk;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;we.act=jb;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xb({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ym.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wb.call(t,c)&&!Sb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:nl,type:e.type,key:s,ref:i,props:n,_owner:o}};we.createContext=function(e){return e={$$typeof:Ik,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kk,_context:e},e.Consumer=e};we.createElement=Nb;we.createFactory=function(e){var t=Nb.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:Dk,render:e}};we.isValidElement=bm;we.lazy=function(e){return{$$typeof:Rk,_payload:{_status:-1,_result:e},_init:Mk}};we.memo=function(e,t){return{$$typeof:Ak,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=rc.transition;rc.transition={};try{e()}finally{rc.transition=t}};we.unstable_act=jb;we.useCallback=function(e,t){return At.current.useCallback(e,t)};we.useContext=function(e){return At.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return At.current.useDeferredValue(e)};we.useEffect=function(e,t){return At.current.useEffect(e,t)};we.useId=function(){return At.current.useId()};we.useImperativeHandle=function(e,t,r){return At.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return At.current.useMemo(e,t)};we.useReducer=function(e,t,r){return At.current.useReducer(e,t,r)};we.useRef=function(e){return At.current.useRef(e)};we.useState=function(e){return At.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return At.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return At.current.useTransition()};we.version="18.3.1";gb.exports=we;var te=gb.exports;const Ue=Mp(te);function Tf(e,t){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Tf(e,t)}function Cb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tf(e,t)}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(null,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function zk(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $k(e){var t=zk(e,"string");return bo(t)=="symbol"?t:t+""}function Bk(e,t,r){return(t=$k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kg(Object(r),!0).forEach(function(n){Bk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ft(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Dg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Tg=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ag={INIT:"@@redux/INIT"+Tg(),REPLACE:"@@redux/REPLACE"+Tg()};function Uk(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Eb(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ft(1));return r(Eb)(e,t)}if(typeof e!="function")throw new Error(Ft(2));var s=e,i=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function f(){if(c)throw new Error(Ft(3));return i}function d(x){if(typeof x!="function")throw new Error(Ft(4));if(c)throw new Error(Ft(5));var b=!0;return u(),l.push(x),function(){if(b){if(c)throw new Error(Ft(6));b=!1,u();var v=l.indexOf(x);l.splice(v,1),o=null}}}function p(x){if(!Uk(x))throw new Error(Ft(7));if(typeof x.type>"u")throw new Error(Ft(8));if(c)throw new Error(Ft(9));try{c=!0,i=s(i,x)}finally{c=!1}for(var b=o=l,g=0;g<b.length;g++){var v=b[g];v()}return x}function m(x){if(typeof x!="function")throw new Error(Ft(10));s=x,p({type:Ag.REPLACE})}function h(){var x,b=d;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ft(11));function y(){v.next&&v.next(f())}y();var w=b(y);return{unsubscribe:w}}},x[Dg]=function(){return this},x}return p({type:Ag.INIT}),n={dispatch:p,subscribe:d,getState:f,replaceReducer:m},n[Dg]=h,n}function Rg(e,t){return function(){return t(e.apply(this,arguments))}}function Og(e,t){if(typeof e=="function")return Rg(e,t);if(typeof e!="object"||e===null)throw new Error(Ft(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Rg(s,t))}return r}function Pb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function qk(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(Ft(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=Pb.apply(void 0,l)(s.dispatch),Ig(Ig({},s),{},{dispatch:i})}}}var kb=Ue.createContext(null);function Hk(e){e()}var Ib=Hk,Vk=function(t){return Ib=t},Wk=function(){return Ib};function Gk(){var e=Wk(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,o=r={callback:s,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var _g={notify:function(){},get:function(){return[]}};function Db(e,t){var r,n=_g;function s(d){return c(),n.subscribe(d)}function i(){n.notify()}function o(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=Gk())}function u(){r&&(r(),r=void 0,n.clear(),n=_g)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?te.useLayoutEffect:te.useEffect;function Kk(e){var t=e.store,r=e.context,n=e.children,s=te.useMemo(function(){var l=Db(t);return{store:t,subscription:l}},[t]),i=te.useMemo(function(){return t.getState()},[t]);Tb(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var o=r||kb;return Ue.createElement(o.Provider,{value:s},n)}function Nc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ab={exports:{}},Oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,wm=pt?Symbol.for("react.element"):60103,Sm=pt?Symbol.for("react.portal"):60106,yu=pt?Symbol.for("react.fragment"):60107,bu=pt?Symbol.for("react.strict_mode"):60108,wu=pt?Symbol.for("react.profiler"):60114,Su=pt?Symbol.for("react.provider"):60109,Nu=pt?Symbol.for("react.context"):60110,Nm=pt?Symbol.for("react.async_mode"):60111,ju=pt?Symbol.for("react.concurrent_mode"):60111,Cu=pt?Symbol.for("react.forward_ref"):60112,Eu=pt?Symbol.for("react.suspense"):60113,Qk=pt?Symbol.for("react.suspense_list"):60120,Pu=pt?Symbol.for("react.memo"):60115,ku=pt?Symbol.for("react.lazy"):60116,Yk=pt?Symbol.for("react.block"):60121,Zk=pt?Symbol.for("react.fundamental"):60117,Xk=pt?Symbol.for("react.responder"):60118,Jk=pt?Symbol.for("react.scope"):60119;function rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wm:switch(e=e.type,e){case Nm:case ju:case yu:case wu:case bu:case Eu:return e;default:switch(e=e&&e.$$typeof,e){case Nu:case Cu:case ku:case Pu:case Su:return e;default:return t}}case Sm:return t}}}function Rb(e){return rr(e)===ju}Oe.AsyncMode=Nm;Oe.ConcurrentMode=ju;Oe.ContextConsumer=Nu;Oe.ContextProvider=Su;Oe.Element=wm;Oe.ForwardRef=Cu;Oe.Fragment=yu;Oe.Lazy=ku;Oe.Memo=Pu;Oe.Portal=Sm;Oe.Profiler=wu;Oe.StrictMode=bu;Oe.Suspense=Eu;Oe.isAsyncMode=function(e){return Rb(e)||rr(e)===Nm};Oe.isConcurrentMode=Rb;Oe.isContextConsumer=function(e){return rr(e)===Nu};Oe.isContextProvider=function(e){return rr(e)===Su};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wm};Oe.isForwardRef=function(e){return rr(e)===Cu};Oe.isFragment=function(e){return rr(e)===yu};Oe.isLazy=function(e){return rr(e)===ku};Oe.isMemo=function(e){return rr(e)===Pu};Oe.isPortal=function(e){return rr(e)===Sm};Oe.isProfiler=function(e){return rr(e)===wu};Oe.isStrictMode=function(e){return rr(e)===bu};Oe.isSuspense=function(e){return rr(e)===Eu};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yu||e===ju||e===wu||e===bu||e===Eu||e===Qk||typeof e=="object"&&e!==null&&(e.$$typeof===ku||e.$$typeof===Pu||e.$$typeof===Su||e.$$typeof===Nu||e.$$typeof===Cu||e.$$typeof===Zk||e.$$typeof===Xk||e.$$typeof===Jk||e.$$typeof===Yk)};Oe.typeOf=rr;Ab.exports=Oe;var eI=Ab.exports,jm=eI,tI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ob={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cm={};Cm[jm.ForwardRef]=nI;Cm[jm.Memo]=Ob;function Fg(e){return jm.isMemo(e)?Ob:Cm[e.$$typeof]||tI}var sI=Object.defineProperty,aI=Object.getOwnPropertyNames,Mg=Object.getOwnPropertySymbols,iI=Object.getOwnPropertyDescriptor,oI=Object.getPrototypeOf,Lg=Object.prototype;function _b(e,t,r){if(typeof t!="string"){if(Lg){var n=oI(t);n&&n!==Lg&&_b(e,n,r)}var s=aI(t);Mg&&(s=s.concat(Mg(t)));for(var i=Fg(e),o=Fg(t),l=0;l<s.length;++l){var c=s[l];if(!rI[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var u=iI(t,c);try{sI(e,c,u)}catch{}}}}return e}var lI=_b;const zg=Mp(lI);var Fb={exports:{}},_e={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=60103,Du=60106,sl=60107,al=60108,il=60114,ol=60109,ll=60110,cl=60112,ul=60113,Em=60120,dl=60115,fl=60116,Mb=60121,Lb=60122,zb=60117,$b=60129,Bb=60131;if(typeof Symbol=="function"&&Symbol.for){var mt=Symbol.for;Iu=mt("react.element"),Du=mt("react.portal"),sl=mt("react.fragment"),al=mt("react.strict_mode"),il=mt("react.profiler"),ol=mt("react.provider"),ll=mt("react.context"),cl=mt("react.forward_ref"),ul=mt("react.suspense"),Em=mt("react.suspense_list"),dl=mt("react.memo"),fl=mt("react.lazy"),Mb=mt("react.block"),Lb=mt("react.server.block"),zb=mt("react.fundamental"),$b=mt("react.debug_trace_mode"),Bb=mt("react.legacy_hidden")}function Ur(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Iu:switch(e=e.type,e){case sl:case il:case al:case ul:case Em:return e;default:switch(e=e&&e.$$typeof,e){case ll:case cl:case fl:case dl:case ol:return e;default:return t}}case Du:return t}}}var cI=ol,uI=Iu,dI=cl,fI=sl,pI=fl,mI=dl,hI=Du,gI=il,vI=al,xI=ul;_e.ContextConsumer=ll;_e.ContextProvider=cI;_e.Element=uI;_e.ForwardRef=dI;_e.Fragment=fI;_e.Lazy=pI;_e.Memo=mI;_e.Portal=hI;_e.Profiler=gI;_e.StrictMode=vI;_e.Suspense=xI;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(e){return Ur(e)===ll};_e.isContextProvider=function(e){return Ur(e)===ol};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iu};_e.isForwardRef=function(e){return Ur(e)===cl};_e.isFragment=function(e){return Ur(e)===sl};_e.isLazy=function(e){return Ur(e)===fl};_e.isMemo=function(e){return Ur(e)===dl};_e.isPortal=function(e){return Ur(e)===Du};_e.isProfiler=function(e){return Ur(e)===il};_e.isStrictMode=function(e){return Ur(e)===al};_e.isSuspense=function(e){return Ur(e)===ul};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sl||e===il||e===$b||e===al||e===ul||e===Em||e===Bb||typeof e=="object"&&e!==null&&(e.$$typeof===fl||e.$$typeof===dl||e.$$typeof===ol||e.$$typeof===ll||e.$$typeof===cl||e.$$typeof===zb||e.$$typeof===Mb||e[0]===Lb)};_e.typeOf=Ur;Fb.exports=_e;var yI=Fb.exports,bI=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],wI=["reactReduxForwardedRef"],SI=[],NI=[null,null];function jI(e,t){var r=e[1];return[t.payload,r+1]}function $g(e,t,r){Tb(function(){return e.apply(void 0,t)},r)}function CI(e,t,r,n,s,i,o){e.current=n,t.current=s,r.current=!1,i.current&&(i.current=null,o())}function EI(e,t,r,n,s,i,o,l,c,u){if(e){var f=!1,d=null,p=function(){if(!f){var x=t.getState(),b,g;try{b=n(x,s.current)}catch(v){g=v,d=v}g||(d=null),b===i.current?o.current||c():(i.current=b,l.current=b,o.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return m}}var PI=function(){return[null,0]};function kI(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(y){return"ConnectAdvanced("+y+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,f=u===void 0?!0:u,d=r.storeKey,p=d===void 0?"store":d;r.withRef;var m=r.forwardRef,h=m===void 0?!1:m,x=r.context,b=x===void 0?kb:x,g=Nc(r,bI),v=b;return function(w){var N=w.displayName||w.name||"Component",j=s(N),E=oe({},g,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:f,storeKey:p,displayName:j,wrappedComponentName:N,WrappedComponent:w}),C=g.pure;function I(A){return e(A.dispatch,E)}var D=C?te.useMemo:function(A){return A()};function O(A){var M=te.useMemo(function(){var et=A.reactReduxForwardedRef,Ot=Nc(A,wI);return[A.context,et,Ot]},[A]),L=M[0],F=M[1],T=M[2],_=te.useMemo(function(){return L&&L.Consumer&&yI.isContextConsumer(Ue.createElement(L.Consumer,null))?L:v},[L,v]),B=te.useContext(_),W=!!A.store&&!!A.store.getState&&!!A.store.dispatch;B&&B.store;var q=W?A.store:B.store,J=te.useMemo(function(){return I(q)},[q]),Y=te.useMemo(function(){if(!f)return NI;var et=Db(q,W?null:B.subscription),Ot=et.notifyNestedSubs.bind(et);return[et,Ot]},[q,W,B]),fe=Y[0],Se=Y[1],U=te.useMemo(function(){return W?B:oe({},B,{subscription:fe})},[W,B,fe]),ie=te.useReducer(jI,SI,PI),be=ie[0],re=be[0],X=ie[1];if(re&&re.error)throw re.error;var V=te.useRef(),le=te.useRef(T),xe=te.useRef(),Fe=te.useRef(!1),Ve=D(function(){return xe.current&&T===le.current?xe.current:J(q.getState(),T)},[q,re,T]);$g(CI,[le,V,Fe,T,Ve,xe,Se]),$g(EI,[f,q,fe,J,le,V,Fe,xe,Se,X],[q,fe,J]);var Je=te.useMemo(function(){return Ue.createElement(w,oe({},Ve,{ref:F}))},[F,w,Ve]),Ct=te.useMemo(function(){return f?Ue.createElement(_.Provider,{value:U},Je):Je},[_,Je,U]);return Ct}var P=C?Ue.memo(O):O;if(P.WrappedComponent=w,P.displayName=O.displayName=j,h){var R=Ue.forwardRef(function(M,L){return Ue.createElement(P,oe({},M,{reactReduxForwardedRef:L}))});return R.displayName=j,R.WrappedComponent=w,zg(R,w)}return zg(P,w)}}function Bg(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bd(e,t){if(Bg(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Bg(e[r[s]],t[r[s]]))return!1;return!0}function II(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Pm(e){return function(r,n){var s=e(r,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function Ug(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Ub(e,t){return function(n,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=Ug(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=Ug(u),u=i(l,c)),u},i}}function DI(e){return typeof e=="function"?Ub(e):void 0}function TI(e){return e?void 0:Pm(function(t){return{dispatch:t}})}function AI(e){return e&&typeof e=="object"?Pm(function(t){return II(e,t)}):void 0}const RI=[DI,TI,AI];function OI(e){return typeof e=="function"?Ub(e):void 0}function _I(e){return e?void 0:Pm(function(){return{}})}const FI=[OI,_I];function MI(e,t,r){return oe({},r,e,t)}function LI(e){return function(r,n){n.displayName;var s=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(u,f,d){var p=e(u,f,d);return o?(!s||!i(p,l))&&(l=p):(o=!0,l=p),l}}}function zI(e){return typeof e=="function"?LI(e):void 0}function $I(e){return e?void 0:function(){return MI}}const BI=[zI,$I];var UI=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function qI(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function HI(e,t,r,n,s){var i=s.areStatesEqual,o=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,f,d,p,m;function h(y,w){return u=y,f=w,d=e(u,f),p=t(n,f),m=r(d,p,f),c=!0,m}function x(){return d=e(u,f),t.dependsOnOwnProps&&(p=t(n,f)),m=r(d,p,f),m}function b(){return e.dependsOnOwnProps&&(d=e(u,f)),t.dependsOnOwnProps&&(p=t(n,f)),m=r(d,p,f),m}function g(){var y=e(u,f),w=!l(y,d);return d=y,w&&(m=r(d,p,f)),m}function v(y,w){var N=!o(w,f),j=!i(y,u,w,f);return u=y,f=w,N&&j?x():N?b():j?g():m}return function(w,N){return c?v(w,N):h(w,N)}}function VI(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,i=Nc(t,UI),o=r(e,i),l=n(e,i),c=s(e,i),u=i.pure?HI:qI;return u(o,l,c,e,i)}var WI=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function wd(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function GI(e,t){return e===t}function KI(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?kI:r,s=t.mapStateToPropsFactories,i=s===void 0?FI:s,o=t.mapDispatchToPropsFactories,l=o===void 0?RI:o,c=t.mergePropsFactories,u=c===void 0?BI:c,f=t.selectorFactory,d=f===void 0?VI:f;return function(m,h,x,b){b===void 0&&(b={});var g=b,v=g.pure,y=v===void 0?!0:v,w=g.areStatesEqual,N=w===void 0?GI:w,j=g.areOwnPropsEqual,E=j===void 0?bd:j,C=g.areStatePropsEqual,I=C===void 0?bd:C,D=g.areMergedPropsEqual,O=D===void 0?bd:D,P=Nc(g,WI),R=wd(m,i,"mapStateToProps"),A=wd(h,l,"mapDispatchToProps"),M=wd(x,u,"mergeProps");return n(d,oe({methodName:"connect",getDisplayName:function(F){return"Connect("+F+")"},shouldHandleStateChanges:!!m,initMapStateToProps:R,initMapDispatchToProps:A,initMergeProps:M,pure:y,areStatesEqual:N,areOwnPropsEqual:E,areStatePropsEqual:I,areMergedPropsEqual:O},P))}}const qb=KI();var Hb={exports:{}},nr={},Vb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,_){var B=T.length;T.push(_);e:for(;0<B;){var W=B-1>>>1,q=T[W];if(0<s(q,_))T[W]=_,T[B]=q,B=W;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var _=T[0],B=T.pop();if(B!==_){T[0]=B;e:for(var W=0,q=T.length,J=q>>>1;W<J;){var Y=2*(W+1)-1,fe=T[Y],Se=Y+1,U=T[Se];if(0>s(fe,B))Se<q&&0>s(U,fe)?(T[W]=U,T[Se]=B,W=Se):(T[W]=fe,T[Y]=B,W=Y);else if(Se<q&&0>s(U,B))T[W]=U,T[Se]=B,W=Se;else break e}}return _}function s(T,_){var B=T.sortIndex-_.sortIndex;return B!==0?B:T.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,p=3,m=!1,h=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var _=r(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=T)n(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(u)}}function w(T){if(x=!1,y(T),!h)if(r(c)!==null)h=!0,L(N);else{var _=r(u);_!==null&&F(w,_.startTime-T)}}function N(T,_){h=!1,x&&(x=!1,g(C),C=-1),m=!0;var B=p;try{for(y(_),d=r(c);d!==null&&(!(d.expirationTime>_)||T&&!O());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var q=W(d.expirationTime<=_);_=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(c)&&n(c),y(_)}else n(c);d=r(c)}if(d!==null)var J=!0;else{var Y=r(u);Y!==null&&F(w,Y.startTime-_),J=!1}return J}finally{d=null,p=B,m=!1}}var j=!1,E=null,C=-1,I=5,D=-1;function O(){return!(e.unstable_now()-D<I)}function P(){if(E!==null){var T=e.unstable_now();D=T;var _=!0;try{_=E(!0,T)}finally{_?R():(j=!1,E=null)}}else j=!1}var R;if(typeof v=="function")R=function(){v(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=P,R=function(){M.postMessage(null)}}else R=function(){b(P,0)};function L(T){E=T,j||(j=!0,R())}function F(T,_){C=b(function(){T(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,L(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var B=p;p=_;try{return T()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,_){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var B=p;p=T;try{return _()}finally{p=B}},e.unstable_scheduleCallback=function(T,_,B){var W=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,T){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,T={id:f++,callback:_,priorityLevel:T,startTime:B,expirationTime:q,sortIndex:-1},B>W?(T.sortIndex=B,t(u,T),r(c)===null&&T===r(u)&&(x?(g(C),C=-1):x=!0,F(w,B-W))):(T.sortIndex=q,t(c,T),h||m||(h=!0,L(N))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var _=p;return function(){var B=p;p=_;try{return T.apply(this,arguments)}finally{p=B}}}})(Wb);Vb.exports=Wb;var QI=Vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=te,tr=QI;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gb=new Set,wo={};function la(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(wo[e]=t,e=0;e<t.length;e++)Gb.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,ZI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qg={},Hg={};function XI(e){return Af.call(Hg,e)?!0:Af.call(qg,e)?!1:ZI.test(e)?Hg[e]=!0:(qg[e]=!0,!1)}function JI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eD(e,t,r,n){if(t===null||typeof t>"u"||JI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var km=/[\-:]([a-z])/g;function Im(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(km,Im);yt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(km,Im);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(km,Im);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dm(e,t,r,n){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eD(t,r,s,n)&&(r=null),n||s===null?XI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cn=YI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),ha=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),Yb=Symbol.for("react.offscreen"),Vg=Symbol.iterator;function Ti(e){return e===null||typeof e!="object"?null:(e=Vg&&e[Vg]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Sd;function Vi(e){if(Sd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sd=t&&t[1]||""}return`
`+Sd+e}var Nd=!1;function jd(e,t){if(!e||Nd)return"";Nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vi(e):""}function tD(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=jd(e.type,!1),e;case 11:return e=jd(e.type.render,!1),e;case 1:return e=jd(e.type,!0),e;default:return""}}function Ff(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ga:return"Fragment";case ha:return"Portal";case Rf:return"Profiler";case Tm:return"StrictMode";case Of:return"Suspense";case _f:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qb:return(e.displayName||"Context")+".Consumer";case Kb:return(e._context.displayName||"Context")+".Provider";case Am:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rm:return t=e.displayName||null,t!==null?t:Ff(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Ff(e(t))}catch{}}return null}function rD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ff(t);case 8:return t===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nD(e){var t=Zb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=nD(e))}function Xb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mf(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ms(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jb(e,t){t=t.checked,t!=null&&Dm(e,"checked",t,!1)}function Lf(e,t){Jb(e,t);var r=ms(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zf(e,t.type,r):t.hasOwnProperty("defaultValue")&&zf(e,t.type,ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zf(e,t,r){(t!=="number"||jc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wi=Array.isArray;function Ia(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ms(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $f(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Wi(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ms(r)}}function ew(e,t){var r=ms(t.value),n=ms(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Al,rw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function So(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sD=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(e){sD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xi[t]=Xi[e]})});function nw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xi.hasOwnProperty(e)&&Xi[e]?(""+t).trim():t+"px"}function sw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var aD=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(e,t){if(t){if(aD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function qf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Om(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vf=null,Da=null,Ta=null;function Yg(e){if(e=hl(e)){if(typeof Vf!="function")throw Error(H(280));var t=e.stateNode;t&&(t=_u(t),Vf(e.stateNode,e.type,t))}}function aw(e){Da?Ta?Ta.push(e):Ta=[e]:Da=e}function iw(){if(Da){var e=Da,t=Ta;if(Ta=Da=null,Yg(e),t)for(e=0;e<t.length;e++)Yg(t[e])}}function ow(e,t){return e(t)}function lw(){}var Cd=!1;function cw(e,t,r){if(Cd)return e(t,r);Cd=!0;try{return ow(e,t,r)}finally{Cd=!1,(Da!==null||Ta!==null)&&(lw(),iw())}}function No(e,t){var r=e.stateNode;if(r===null)return null;var n=_u(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Wf=!1;if(wn)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Wf=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Wf=!1}function iD(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Ji=!1,Cc=null,Ec=!1,Gf=null,oD={onError:function(e){Ji=!0,Cc=e}};function lD(e,t,r,n,s,i,o,l,c){Ji=!1,Cc=null,iD.apply(oD,arguments)}function cD(e,t,r,n,s,i,o,l,c){if(lD.apply(this,arguments),Ji){if(Ji){var u=Cc;Ji=!1,Cc=null}else throw Error(H(198));Ec||(Ec=!0,Gf=u)}}function ca(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zg(e){if(ca(e)!==e)throw Error(H(188))}function uD(e){var t=e.alternate;if(!t){if(t=ca(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zg(s),e;if(i===n)return Zg(s),t;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function dw(e){return e=uD(e),e!==null?fw(e):null}function fw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fw(e);if(t!==null)return t;e=e.sibling}return null}var pw=tr.unstable_scheduleCallback,Xg=tr.unstable_cancelCallback,dD=tr.unstable_shouldYield,fD=tr.unstable_requestPaint,tt=tr.unstable_now,pD=tr.unstable_getCurrentPriorityLevel,_m=tr.unstable_ImmediatePriority,mw=tr.unstable_UserBlockingPriority,Pc=tr.unstable_NormalPriority,mD=tr.unstable_LowPriority,hw=tr.unstable_IdlePriority,Tu=null,Zr=null;function hD(e){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Tu,e,void 0,(e.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:xD,gD=Math.log,vD=Math.LN2;function xD(e){return e>>>=0,e===0?32:31-(gD(e)/vD|0)|0}var Rl=64,Ol=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Gi(l):(i&=o,i!==0&&(n=Gi(i)))}else o=r&~s,o!==0?n=Gi(o):i!==0&&(n=Gi(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Mr(t),s=1<<r,n|=e[r],t&=~s;return n}function yD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Mr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=yD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Kf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gw(){var e=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),e}function Ed(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mr(t),e[t]=r}function wD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Mr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Fm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Mr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function vw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xw,Mm,yw,bw,ww,Qf=!1,_l=[],es=null,ts=null,rs=null,jo=new Map,Co=new Map,Mn=[],SD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(e,t){switch(e){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(t.pointerId)}}function Ri(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=hl(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ND(e,t,r,n,s){switch(t){case"focusin":return es=Ri(es,e,t,r,n,s),!0;case"dragenter":return ts=Ri(ts,e,t,r,n,s),!0;case"mouseover":return rs=Ri(rs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return jo.set(i,Ri(jo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Co.set(i,Ri(Co.get(i)||null,e,t,r,n,s)),!0}return!1}function Sw(e){var t=As(e.target);if(t!==null){var r=ca(t);if(r!==null){if(t=r.tag,t===13){if(t=uw(r),t!==null){e.blockedOn=t,ww(e.priority,function(){yw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hf=n,r.target.dispatchEvent(n),Hf=null}else return t=hl(r),t!==null&&Mm(t),e.blockedOn=r,!1;t.shift()}return!0}function ev(e,t,r){nc(e)&&r.delete(t)}function jD(){Qf=!1,es!==null&&nc(es)&&(es=null),ts!==null&&nc(ts)&&(ts=null),rs!==null&&nc(rs)&&(rs=null),jo.forEach(ev),Co.forEach(ev)}function Oi(e,t){e.blockedOn===t&&(e.blockedOn=null,Qf||(Qf=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,jD)))}function Eo(e){function t(s){return Oi(s,e)}if(0<_l.length){Oi(_l[0],e);for(var r=1;r<_l.length;r++){var n=_l[r];n.blockedOn===e&&(n.blockedOn=null)}}for(es!==null&&Oi(es,e),ts!==null&&Oi(ts,e),rs!==null&&Oi(rs,e),jo.forEach(t),Co.forEach(t),r=0;r<Mn.length;r++)n=Mn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mn.length&&(r=Mn[0],r.blockedOn===null);)Sw(r),r.blockedOn===null&&Mn.shift()}var Aa=Cn.ReactCurrentBatchConfig,Ic=!0;function CD(e,t,r,n){var s=Re,i=Aa.transition;Aa.transition=null;try{Re=1,Lm(e,t,r,n)}finally{Re=s,Aa.transition=i}}function ED(e,t,r,n){var s=Re,i=Aa.transition;Aa.transition=null;try{Re=4,Lm(e,t,r,n)}finally{Re=s,Aa.transition=i}}function Lm(e,t,r,n){if(Ic){var s=Yf(e,t,r,n);if(s===null)Fd(e,t,n,Dc,r),Jg(e,n);else if(ND(s,e,t,r,n))n.stopPropagation();else if(Jg(e,n),t&4&&-1<SD.indexOf(e)){for(;s!==null;){var i=hl(s);if(i!==null&&xw(i),i=Yf(e,t,r,n),i===null&&Fd(e,t,n,Dc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Fd(e,t,n,null,r)}}var Dc=null;function Yf(e,t,r,n){if(Dc=null,e=Om(n),e=As(e),e!==null)if(t=ca(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dc=e,null}function Nw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pD()){case _m:return 1;case mw:return 4;case Pc:case mD:return 16;case hw:return 536870912;default:return 16}default:return 16}}var Qn=null,zm=null,sc=null;function jw(){if(sc)return sc;var e,t=zm,r=t.length,n,s="value"in Qn?Qn.value:Qn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return sc=s.slice(e,1<n?1-n:void 0)}function ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fl(){return!0}function tv(){return!1}function sr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fl:tv,this.isPropagationStopped=tv,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),t}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=sr(bi),ml=Ye({},bi,{view:0,detail:0}),PD=sr(ml),Pd,kd,_i,Au=Ye({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Pd=e.screenX-_i.screenX,kd=e.screenY-_i.screenY):kd=Pd=0,_i=e),Pd)},movementY:function(e){return"movementY"in e?e.movementY:kd}}),rv=sr(Au),kD=Ye({},Au,{dataTransfer:0}),ID=sr(kD),DD=Ye({},ml,{relatedTarget:0}),Id=sr(DD),TD=Ye({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),AD=sr(TD),RD=Ye({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OD=sr(RD),_D=Ye({},bi,{data:0}),nv=sr(_D),FD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LD[e])?!!t[e]:!1}function Bm(){return zD}var $D=Ye({},ml,{key:function(e){if(e.key){var t=FD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bm,charCode:function(e){return e.type==="keypress"?ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BD=sr($D),UD=Ye({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=sr(UD),qD=Ye({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bm}),HD=sr(qD),VD=Ye({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),WD=sr(VD),GD=Ye({},Au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KD=sr(GD),QD=[9,13,27,32],Um=wn&&"CompositionEvent"in window,eo=null;wn&&"documentMode"in document&&(eo=document.documentMode);var YD=wn&&"TextEvent"in window&&!eo,Cw=wn&&(!Um||eo&&8<eo&&11>=eo),av=" ",iv=!1;function Ew(e,t){switch(e){case"keyup":return QD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function ZD(e,t){switch(e){case"compositionend":return Pw(t);case"keypress":return t.which!==32?null:(iv=!0,av);case"textInput":return e=t.data,e===av&&iv?null:e;default:return null}}function XD(e,t){if(va)return e==="compositionend"||!Um&&Ew(e,t)?(e=jw(),sc=zm=Qn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cw&&t.locale!=="ko"?null:t.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JD[e.type]:t==="textarea"}function kw(e,t,r,n){aw(n),t=Tc(t,"onChange"),0<t.length&&(r=new $m("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var to=null,Po=null;function eT(e){zw(e,0)}function Ru(e){var t=ba(e);if(Xb(t))return e}function tT(e,t){if(e==="change")return t}var Iw=!1;if(wn){var Dd;if(wn){var Td="oninput"in document;if(!Td){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Td=typeof lv.oninput=="function"}Dd=Td}else Dd=!1;Iw=Dd&&(!document.documentMode||9<document.documentMode)}function cv(){to&&(to.detachEvent("onpropertychange",Dw),Po=to=null)}function Dw(e){if(e.propertyName==="value"&&Ru(Po)){var t=[];kw(t,Po,e,Om(e)),cw(eT,t)}}function rT(e,t,r){e==="focusin"?(cv(),to=t,Po=r,to.attachEvent("onpropertychange",Dw)):e==="focusout"&&cv()}function nT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function sT(e,t){if(e==="click")return Ru(t)}function aT(e,t){if(e==="input"||e==="change")return Ru(t)}function iT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Br=typeof Object.is=="function"?Object.is:iT;function ko(e,t){if(Br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Af.call(t,s)||!Br(e[s],t[s]))return!1}return!0}function uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dv(e,t){var r=uv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uv(r)}}function Tw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Aw(){for(var e=window,t=jc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jc(e.document)}return t}function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oT(e){var t=Aw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tw(r.ownerDocument.documentElement,r)){if(n!==null&&qm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=dv(r,i);var o=dv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lT=wn&&"documentMode"in document&&11>=document.documentMode,xa=null,Zf=null,ro=null,Xf=!1;function fv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xf||xa==null||xa!==jc(n)||(n=xa,"selectionStart"in n&&qm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ro&&ko(ro,n)||(ro=n,n=Tc(Zf,"onSelect"),0<n.length&&(t=new $m("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xa)))}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ya={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Ad={},Rw={};wn&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ou(e){if(Ad[e])return Ad[e];if(!ya[e])return e;var t=ya[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rw)return Ad[e]=t[r];return e}var Ow=Ou("animationend"),_w=Ou("animationiteration"),Fw=Ou("animationstart"),Mw=Ou("transitionend"),Lw=new Map,pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(e,t){Lw.set(e,t),la(t,[e])}for(var Rd=0;Rd<pv.length;Rd++){var Od=pv[Rd],cT=Od.toLowerCase(),uT=Od[0].toUpperCase()+Od.slice(1);ys(cT,"on"+uT)}ys(Ow,"onAnimationEnd");ys(_w,"onAnimationIteration");ys(Fw,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(Mw,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function mv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cD(n,t,void 0,e),e.currentTarget=null}function zw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mv(s,l,u),i=c}}}if(Ec)throw e=Gf,Ec=!1,Gf=null,e}function Be(e,t){var r=t[np];r===void 0&&(r=t[np]=new Set);var n=e+"__bubble";r.has(n)||($w(t,e,2,!1),r.add(n))}function _d(e,t,r){var n=0;t&&(n|=4),$w(r,e,n,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Ll]){e[Ll]=!0,Gb.forEach(function(r){r!=="selectionchange"&&(dT.has(r)||_d(r,!1,e),_d(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,_d("selectionchange",!1,t))}}function $w(e,t,r,n){switch(Nw(t)){case 1:var s=CD;break;case 4:s=ED;break;default:s=Lm}r=s.bind(null,t,r,e),s=void 0,!Wf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Fd(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=As(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cw(function(){var u=i,f=Om(r),d=[];e:{var p=Lw.get(e);if(p!==void 0){var m=$m,h=e;switch(e){case"keypress":if(ac(r)===0)break e;case"keydown":case"keyup":m=BD;break;case"focusin":h="focus",m=Id;break;case"focusout":h="blur",m=Id;break;case"beforeblur":case"afterblur":m=Id;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ID;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HD;break;case Ow:case _w:case Fw:m=AD;break;case Mw:m=WD;break;case"scroll":m=PD;break;case"wheel":m=KD;break;case"copy":case"cut":case"paste":m=OD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sv}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var v=u,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=No(v,g),w!=null&&x.push(Do(v,w,y)))),b)break;v=v.return}0<x.length&&(p=new m(p,h,null,r,f),d.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Hf&&(h=r.relatedTarget||r.fromElement)&&(As(h)||h[Sn]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=u,h=h?As(h):null,h!==null&&(b=ca(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(x=rv,w="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=sv,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?p:ba(m),y=h==null?p:ba(h),p=new x(w,v+"leave",m,r,f),p.target=b,p.relatedTarget=y,w=null,As(f)===u&&(x=new x(g,v+"enter",h,r,f),x.target=y,x.relatedTarget=b,w=x),b=w,m&&h)t:{for(x=m,g=h,v=0,y=x;y;y=pa(y))v++;for(y=0,w=g;w;w=pa(w))y++;for(;0<v-y;)x=pa(x),v--;for(;0<y-v;)g=pa(g),y--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=pa(x),g=pa(g)}x=null}else x=null;m!==null&&hv(d,p,m,x,!1),h!==null&&b!==null&&hv(d,b,h,x,!0)}}e:{if(p=u?ba(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=tT;else if(ov(p))if(Iw)N=aT;else{N=nT;var j=rT}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=sT);if(N&&(N=N(e,u))){kw(d,N,r,f);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&zf(p,"number",p.value)}switch(j=u?ba(u):window,e){case"focusin":(ov(j)||j.contentEditable==="true")&&(xa=j,Zf=u,ro=null);break;case"focusout":ro=Zf=xa=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,fv(d,r,f);break;case"selectionchange":if(lT)break;case"keydown":case"keyup":fv(d,r,f)}var E;if(Um)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else va?Ew(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Cw&&r.locale!=="ko"&&(va||C!=="onCompositionStart"?C==="onCompositionEnd"&&va&&(E=jw()):(Qn=f,zm="value"in Qn?Qn.value:Qn.textContent,va=!0)),j=Tc(u,C),0<j.length&&(C=new nv(C,e,null,r,f),d.push({event:C,listeners:j}),E?C.data=E:(E=Pw(r),E!==null&&(C.data=E)))),(E=YD?ZD(e,r):XD(e,r))&&(u=Tc(u,"onBeforeInput"),0<u.length&&(f=new nv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=E))}zw(d,t)})}function Do(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=No(e,r),i!=null&&n.unshift(Do(e,i,s)),i=No(e,t),i!=null&&n.push(Do(e,i,s))),e=e.return}return n}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=No(r,i),c!=null&&o.unshift(Do(r,c,l))):s||(c=No(r,i),c!=null&&o.push(Do(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var fT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function gv(e){return(typeof e=="string"?e:""+e).replace(fT,`
`).replace(pT,"")}function zl(e,t,r){if(t=gv(t),gv(e)!==t&&r)throw Error(H(425))}function Ac(){}var Jf=null,ep=null;function tp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(e){return vv.resolve(null).then(e).catch(gT)}:rp;function gT(e){setTimeout(function(){throw e})}function Md(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Eo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Eo(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),Kr="__reactFiber$"+wi,To="__reactProps$"+wi,Sn="__reactContainer$"+wi,np="__reactEvents$"+wi,vT="__reactListeners$"+wi,xT="__reactHandles$"+wi;function As(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xv(e);e!==null;){if(r=e[Kr])return r;e=xv(e)}return t}e=r,r=e.parentNode}return null}function hl(e){return e=e[Kr]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function _u(e){return e[To]||null}var sp=[],wa=-1;function bs(e){return{current:e}}function qe(e){0>wa||(e.current=sp[wa],sp[wa]=null,wa--)}function ze(e,t){wa++,sp[wa]=e.current,e.current=t}var hs={},jt=bs(hs),qt=bs(!1),ea=hs;function ti(e,t){var r=e.type.contextTypes;if(!r)return hs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Rc(){qe(qt),qe(jt)}function yv(e,t,r){if(jt.current!==hs)throw Error(H(168));ze(jt,t),ze(qt,r)}function Bw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(H(108,rD(e)||"Unknown",s));return Ye({},r,n)}function Oc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,ea=jt.current,ze(jt,e),ze(qt,qt.current),!0}function bv(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=Bw(e,t,ea),n.__reactInternalMemoizedMergedChildContext=e,qe(qt),qe(jt),ze(jt,e)):qe(qt),ze(qt,r)}var dn=null,Fu=!1,Ld=!1;function Uw(e){dn===null?dn=[e]:dn.push(e)}function yT(e){Fu=!0,Uw(e)}function ws(){if(!Ld&&dn!==null){Ld=!0;var e=0,t=Re;try{var r=dn;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dn=null,Fu=!1}catch(s){throw dn!==null&&(dn=dn.slice(e+1)),pw(_m,ws),s}finally{Re=t,Ld=!1}}return null}var Sa=[],Na=0,_c=null,Fc=0,or=[],lr=0,ta=null,hn=1,gn="";function ks(e,t){Sa[Na++]=Fc,Sa[Na++]=_c,_c=e,Fc=t}function qw(e,t,r){or[lr++]=hn,or[lr++]=gn,or[lr++]=ta,ta=e;var n=hn;e=gn;var s=32-Mr(n)-1;n&=~(1<<s),r+=1;var i=32-Mr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,hn=1<<32-Mr(t)+s|r<<s|n,gn=i+e}else hn=1<<i|r<<s|n,gn=e}function Hm(e){e.return!==null&&(ks(e,1),qw(e,1,0))}function Vm(e){for(;e===_c;)_c=Sa[--Na],Sa[Na]=null,Fc=Sa[--Na],Sa[Na]=null;for(;e===ta;)ta=or[--lr],or[lr]=null,gn=or[--lr],or[lr]=null,hn=or[--lr],or[lr]=null}var Xt=null,Qt=null,He=!1,Rr=null;function Hw(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ta!==null?{id:hn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Qt=null,!0):!1;default:return!1}}function ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ip(e){if(He){var t=Qt;if(t){var r=t;if(!wv(e,t)){if(ap(e))throw Error(H(418));t=ns(r.nextSibling);var n=Xt;t&&wv(e,t)?Hw(n,r):(e.flags=e.flags&-4097|2,He=!1,Xt=e)}}else{if(ap(e))throw Error(H(418));e.flags=e.flags&-4097|2,He=!1,Xt=e}}}function Sv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function $l(e){if(e!==Xt)return!1;if(!He)return Sv(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tp(e.type,e.memoizedProps)),t&&(t=Qt)){if(ap(e))throw Vw(),Error(H(418));for(;t;)Hw(e,t),t=ns(t.nextSibling)}if(Sv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=ns(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Xt?ns(e.stateNode.nextSibling):null;return!0}function Vw(){for(var e=Qt;e;)e=ns(e.nextSibling)}function ri(){Qt=Xt=null,He=!1}function Wm(e){Rr===null?Rr=[e]:Rr.push(e)}var bT=Cn.ReactCurrentBatchConfig;function Fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Bl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nv(e){var t=e._init;return t(e._payload)}function Ww(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=os(g,v),g.index=0,g.sibling=null,g}function i(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,w){return v===null||v.tag!==6?(v=Vd(y,g.mode,w),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,w){var N=y.type;return N===ga?f(g,v,y.props.children,w,y.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_n&&Nv(N)===v.type)?(w=s(v,y.props),w.ref=Fi(g,v,y),w.return=g,w):(w=fc(y.type,y.key,y.props,null,g.mode,w),w.ref=Fi(g,v,y),w.return=g,w)}function u(g,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Wd(y,g.mode,w),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function f(g,v,y,w,N){return v===null||v.tag!==7?(v=Vs(y,g.mode,w,N),v.return=g,v):(v=s(v,y),v.return=g,v)}function d(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vd(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dl:return y=fc(v.type,v.key,v.props,null,g.mode,y),y.ref=Fi(g,null,v),y.return=g,y;case ha:return v=Wd(v,g.mode,y),v.return=g,v;case _n:var w=v._init;return d(g,w(v._payload),y)}if(Wi(v)||Ti(v))return v=Vs(v,g.mode,y,null),v.return=g,v;Bl(g,v)}return null}function p(g,v,y,w){var N=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(g,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:return y.key===N?c(g,v,y,w):null;case ha:return y.key===N?u(g,v,y,w):null;case _n:return N=y._init,p(g,v,N(y._payload),w)}if(Wi(y)||Ti(y))return N!==null?null:f(g,v,y,w,null);Bl(g,y)}return null}function m(g,v,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,l(v,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dl:return g=g.get(w.key===null?y:w.key)||null,c(v,g,w,N);case ha:return g=g.get(w.key===null?y:w.key)||null,u(v,g,w,N);case _n:var j=w._init;return m(g,v,y,j(w._payload),N)}if(Wi(w)||Ti(w))return g=g.get(y)||null,f(v,g,w,N,null);Bl(v,w)}return null}function h(g,v,y,w){for(var N=null,j=null,E=v,C=v=0,I=null;E!==null&&C<y.length;C++){E.index>C?(I=E,E=null):I=E.sibling;var D=p(g,E,y[C],w);if(D===null){E===null&&(E=I);break}e&&E&&D.alternate===null&&t(g,E),v=i(D,v,C),j===null?N=D:j.sibling=D,j=D,E=I}if(C===y.length)return r(g,E),He&&ks(g,C),N;if(E===null){for(;C<y.length;C++)E=d(g,y[C],w),E!==null&&(v=i(E,v,C),j===null?N=E:j.sibling=E,j=E);return He&&ks(g,C),N}for(E=n(g,E);C<y.length;C++)I=m(E,g,C,y[C],w),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?C:I.key),v=i(I,v,C),j===null?N=I:j.sibling=I,j=I);return e&&E.forEach(function(O){return t(g,O)}),He&&ks(g,C),N}function x(g,v,y,w){var N=Ti(y);if(typeof N!="function")throw Error(H(150));if(y=N.call(y),y==null)throw Error(H(151));for(var j=N=null,E=v,C=v=0,I=null,D=y.next();E!==null&&!D.done;C++,D=y.next()){E.index>C?(I=E,E=null):I=E.sibling;var O=p(g,E,D.value,w);if(O===null){E===null&&(E=I);break}e&&E&&O.alternate===null&&t(g,E),v=i(O,v,C),j===null?N=O:j.sibling=O,j=O,E=I}if(D.done)return r(g,E),He&&ks(g,C),N;if(E===null){for(;!D.done;C++,D=y.next())D=d(g,D.value,w),D!==null&&(v=i(D,v,C),j===null?N=D:j.sibling=D,j=D);return He&&ks(g,C),N}for(E=n(g,E);!D.done;C++,D=y.next())D=m(E,g,C,D.value,w),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?C:D.key),v=i(D,v,C),j===null?N=D:j.sibling=D,j=D);return e&&E.forEach(function(P){return t(g,P)}),He&&ks(g,C),N}function b(g,v,y,w){if(typeof y=="object"&&y!==null&&y.type===ga&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:e:{for(var N=y.key,j=v;j!==null;){if(j.key===N){if(N=y.type,N===ga){if(j.tag===7){r(g,j.sibling),v=s(j,y.props.children),v.return=g,g=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_n&&Nv(N)===j.type){r(g,j.sibling),v=s(j,y.props),v.ref=Fi(g,j,y),v.return=g,g=v;break e}r(g,j);break}else t(g,j);j=j.sibling}y.type===ga?(v=Vs(y.props.children,g.mode,w,y.key),v.return=g,g=v):(w=fc(y.type,y.key,y.props,null,g.mode,w),w.ref=Fi(g,v,y),w.return=g,g=w)}return o(g);case ha:e:{for(j=y.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Wd(y,g.mode,w),v.return=g,g=v}return o(g);case _n:return j=y._init,b(g,v,j(y._payload),w)}if(Wi(y))return h(g,v,y,w);if(Ti(y))return x(g,v,y,w);Bl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,y),v.return=g,g=v):(r(g,v),v=Vd(y,g.mode,w),v.return=g,g=v),o(g)):r(g,v)}return b}var ni=Ww(!0),Gw=Ww(!1),Mc=bs(null),Lc=null,ja=null,Gm=null;function Km(){Gm=ja=Lc=null}function Qm(e){var t=Mc.current;qe(Mc),e._currentValue=t}function op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ra(e,t){Lc=e,Gm=ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(Gm!==e)if(e={context:e,memoizedValue:t,next:null},ja===null){if(Lc===null)throw Error(H(308));ja=e,Lc.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Rs=null;function Ym(e){Rs===null?Rs=[e]:Rs.push(e)}function Kw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ym(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fn=!1;function Zm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ss(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,Ym(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function ic(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fm(e,r)}}function jv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zc(e,t,r,n){var s=e.updateQueue;Fn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,x=l;switch(p=t,m=r,x.tag){case 1:if(h=x.payload,typeof h=="function"){d=h.call(m,d,p);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=x.payload,p=typeof h=="function"?h.call(m,d,p):h,p==null)break e;d=Ye({},d,p);break e;case 2:Fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=d):f=f.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);na|=o,e.lanes=o,e.memoizedState=d}}function Cv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var gl={},Xr=bs(gl),Ao=bs(gl),Ro=bs(gl);function Os(e){if(e===gl)throw Error(H(174));return e}function Xm(e,t){switch(ze(Ro,t),ze(Ao,e),ze(Xr,gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bf(t,e)}qe(Xr),ze(Xr,t)}function si(){qe(Xr),qe(Ao),qe(Ro)}function Yw(e){Os(Ro.current);var t=Os(Xr.current),r=Bf(t,e.type);t!==r&&(ze(Ao,e),ze(Xr,r))}function Jm(e){Ao.current===e&&(qe(Xr),qe(Ao))}var Ge=bs(0);function $c(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zd=[];function eh(){for(var e=0;e<zd.length;e++)zd[e]._workInProgressVersionPrimary=null;zd.length=0}var oc=Cn.ReactCurrentDispatcher,$d=Cn.ReactCurrentBatchConfig,ra=0,Qe=null,at=null,ct=null,Bc=!1,no=!1,Oo=0,wT=0;function bt(){throw Error(H(321))}function th(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Br(e[r],t[r]))return!1;return!0}function rh(e,t,r,n,s,i){if(ra=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oc.current=e===null||e.memoizedState===null?CT:ET,e=r(n,s),no){i=0;do{if(no=!1,Oo=0,25<=i)throw Error(H(301));i+=1,ct=at=null,t.updateQueue=null,oc.current=PT,e=r(n,s)}while(no)}if(oc.current=Uc,t=at!==null&&at.next!==null,ra=0,ct=at=Qe=null,Bc=!1,t)throw Error(H(300));return e}function nh(){var e=Oo!==0;return Oo=0,e}function Hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Qe.memoizedState=ct=e:ct=ct.next=e,ct}function gr(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ct===null?Qe.memoizedState:ct.next;if(t!==null)ct=t,at=e;else{if(e===null)throw Error(H(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Qe.memoizedState=ct=e:ct=ct.next=e}return ct}function _o(e,t){return typeof t=="function"?t(e):t}function Bd(e){var t=gr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=at,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((ra&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Qe.lanes|=f,na|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Br(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Qe.lanes|=i,na|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ud(e){var t=gr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Br(i,t.memoizedState)||(Ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Zw(){}function Xw(e,t){var r=Qe,n=gr(),s=t(),i=!Br(n.memoizedState,s);if(i&&(n.memoizedState=s,Ut=!0),n=n.queue,sh(t1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Fo(9,e1.bind(null,r,n,s,t),void 0,null),ut===null)throw Error(H(349));ra&30||Jw(r,t,s)}return s}function Jw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e1(e,t,r,n){t.value=r,t.getSnapshot=n,r1(t)&&n1(e)}function t1(e,t,r){return r(function(){r1(t)&&n1(e)})}function r1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Br(e,r)}catch{return!0}}function n1(e){var t=Nn(e,1);t!==null&&Lr(t,e,1,-1)}function Ev(e){var t=Hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=jT.bind(null,Qe,e),[t.memoizedState,e]}function Fo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s1(){return gr().memoizedState}function lc(e,t,r,n){var s=Hr();Qe.flags|=e,s.memoizedState=Fo(1|t,r,void 0,n===void 0?null:n)}function Mu(e,t,r,n){var s=gr();n=n===void 0?null:n;var i=void 0;if(at!==null){var o=at.memoizedState;if(i=o.destroy,n!==null&&th(n,o.deps)){s.memoizedState=Fo(t,r,i,n);return}}Qe.flags|=e,s.memoizedState=Fo(1|t,r,i,n)}function Pv(e,t){return lc(8390656,8,e,t)}function sh(e,t){return Mu(2048,8,e,t)}function a1(e,t){return Mu(4,2,e,t)}function i1(e,t){return Mu(4,4,e,t)}function o1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l1(e,t,r){return r=r!=null?r.concat([e]):null,Mu(4,4,o1.bind(null,t,e),r)}function ah(){}function c1(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&th(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function u1(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&th(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function d1(e,t,r){return ra&21?(Br(r,t)||(r=gw(),Qe.lanes|=r,na|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function ST(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=$d.transition;$d.transition={};try{e(!1),t()}finally{Re=r,$d.transition=n}}function f1(){return gr().memoizedState}function NT(e,t,r){var n=is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p1(e))m1(t,r);else if(r=Kw(e,t,r,n),r!==null){var s=Tt();Lr(r,e,n,s),h1(r,t,n)}}function jT(e,t,r){var n=is(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p1(e))m1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Br(l,o)){var c=t.interleaved;c===null?(s.next=s,Ym(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Kw(e,t,s,n),r!==null&&(s=Tt(),Lr(r,e,n,s),h1(r,t,n))}}function p1(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function m1(e,t){no=Bc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function h1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fm(e,r)}}var Uc={readContext:hr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},CT={readContext:hr,useCallback:function(e,t){return Hr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Pv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lc(4194308,4,o1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lc(4194308,4,e,t)},useInsertionEffect:function(e,t){return lc(4,2,e,t)},useMemo:function(e,t){var r=Hr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Hr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NT.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=Hr();return e={current:e},t.memoizedState=e},useState:Ev,useDebugValue:ah,useDeferredValue:function(e){return Hr().memoizedState=e},useTransition:function(){var e=Ev(!1),t=e[0];return e=ST.bind(null,e[1]),Hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,s=Hr();if(He){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),ut===null)throw Error(H(349));ra&30||Jw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Pv(t1.bind(null,n,i,e),[e]),n.flags|=2048,Fo(9,e1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Hr(),t=ut.identifierPrefix;if(He){var r=gn,n=hn;r=(n&~(1<<32-Mr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Oo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ET={readContext:hr,useCallback:c1,useContext:hr,useEffect:sh,useImperativeHandle:l1,useInsertionEffect:a1,useLayoutEffect:i1,useMemo:u1,useReducer:Bd,useRef:s1,useState:function(){return Bd(_o)},useDebugValue:ah,useDeferredValue:function(e){var t=gr();return d1(t,at.memoizedState,e)},useTransition:function(){var e=Bd(_o)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Zw,useSyncExternalStore:Xw,useId:f1,unstable_isNewReconciler:!1},PT={readContext:hr,useCallback:c1,useContext:hr,useEffect:sh,useImperativeHandle:l1,useInsertionEffect:a1,useLayoutEffect:i1,useMemo:u1,useReducer:Ud,useRef:s1,useState:function(){return Ud(_o)},useDebugValue:ah,useDeferredValue:function(e){var t=gr();return at===null?t.memoizedState=e:d1(t,at.memoizedState,e)},useTransition:function(){var e=Ud(_o)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Zw,useSyncExternalStore:Xw,useId:f1,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lu={isMounted:function(e){return(e=e._reactInternals)?ca(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tt(),s=is(e),i=vn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ss(e,i,s),t!==null&&(Lr(t,e,s,n),ic(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tt(),s=is(e),i=vn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ss(e,i,s),t!==null&&(Lr(t,e,s,n),ic(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tt(),n=is(e),s=vn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ss(e,s,n),t!==null&&(Lr(t,e,n,r),ic(t,e,n))}};function kv(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ko(r,n)||!ko(s,i):!0}function g1(e,t,r){var n=!1,s=hs,i=t.contextType;return typeof i=="object"&&i!==null?i=hr(i):(s=Ht(t)?ea:jt.current,n=t.contextTypes,i=(n=n!=null)?ti(e,s):hs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Iv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function cp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hr(i):(i=Ht(t)?ea:jt.current,s.context=ti(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lu.enqueueReplaceState(s,s.state,null),zc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var r="",n=t;do r+=tD(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function up(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function v1(e,t,r){r=vn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,bp=n),up(e,t)},r}function x1(e,t,r){r=vn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){up(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){up(e,t),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Dv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=UT.bind(null,e,t,r),t.then(e,e))}function Tv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Av(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vn(-1,1),t.tag=2,ss(r,t,1))),r.lanes|=1),e)}var IT=Cn.ReactCurrentOwner,Ut=!1;function It(e,t,r,n){t.child=e===null?Gw(t,null,r,n):ni(t,e.child,r,n)}function Rv(e,t,r,n,s){r=r.render;var i=t.ref;return Ra(t,s),n=rh(e,t,r,n,i,s),r=nh(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(He&&r&&Hm(t),t.flags|=1,It(e,t,n,s),t.child)}function Ov(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ph(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,y1(e,t,i,n,s)):(e=fc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(o,n)&&e.ref===t.ref)return jn(e,t,s)}return t.flags|=1,e=os(i,n),e.ref=t.ref,e.return=t,t.child=e}function y1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ko(i,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,jn(e,t,s)}return dp(e,t,r,n,s)}function b1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ea,Gt),Gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Ea,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ze(Ea,Gt),Gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ze(Ea,Gt),Gt|=n;return It(e,t,s,r),t.child}function w1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dp(e,t,r,n,s){var i=Ht(r)?ea:jt.current;return i=ti(t,i),Ra(t,s),r=rh(e,t,r,n,i,s),n=nh(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jn(e,t,s)):(He&&n&&Hm(t),t.flags|=1,It(e,t,r,s),t.child)}function _v(e,t,r,n,s){if(Ht(r)){var i=!0;Oc(t)}else i=!1;if(Ra(t,s),t.stateNode===null)cc(e,t),g1(t,r,n),cp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ht(r)?ea:jt.current,u=ti(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Iv(t,o,n,u),Fn=!1;var p=t.memoizedState;o.state=p,zc(t,n,o,s),c=t.memoizedState,l!==n||p!==c||qt.current||Fn?(typeof f=="function"&&(lp(t,r,f,n),c=t.memoizedState),(l=Fn||kv(t,r,l,n,p,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Qw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kr(t.type,l),o.props=u,d=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Ht(r)?ea:jt.current,c=ti(t,c));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==c)&&Iv(t,o,n,c),Fn=!1,p=t.memoizedState,o.state=p,zc(t,n,o,s);var h=t.memoizedState;l!==d||p!==h||qt.current||Fn?(typeof m=="function"&&(lp(t,r,m,n),h=t.memoizedState),(u=Fn||kv(t,r,u,n,p,h,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return fp(e,t,r,n,i,s)}function fp(e,t,r,n,s,i){w1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&bv(t,r,!1),jn(e,t,i);n=t.stateNode,IT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ni(t,e.child,null,i),t.child=ni(t,null,l,i)):It(e,t,l,i),t.memoizedState=n.state,s&&bv(t,r,!0),t.child}function S1(e){var t=e.stateNode;t.pendingContext?yv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yv(e,t.context,!1),Xm(e,t.containerInfo)}function Fv(e,t,r,n,s){return ri(),Wm(s),t.flags|=256,It(e,t,r,n),t.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function N1(e,t,r){var n=t.pendingProps,s=Ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Ge,s&1),e===null)return ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bu(o,n,0,null),e=Vs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mp(r),t.memoizedState=pp,e):ih(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return DT(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=os(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=os(l,i):(i=Vs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?mp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=pp,n}return i=e.child,e=i.sibling,n=os(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ih(e,t){return t=Bu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ul(e,t,r,n){return n!==null&&Wm(n),ni(t,e.child,null,r),e=ih(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DT(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=qd(Error(H(422))),Ul(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Bu({mode:"visible",children:n.children},s,0,null),i=Vs(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ni(t,e.child,null,o),t.child.memoizedState=mp(o),t.memoizedState=pp,i);if(!(t.mode&1))return Ul(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=qd(i,n,void 0),Ul(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ut||l){if(n=ut,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nn(e,s),Lr(n,e,s,-1))}return fh(),n=qd(Error(H(421))),Ul(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qt=ns(s.nextSibling),Xt=t,He=!0,Rr=null,e!==null&&(or[lr++]=hn,or[lr++]=gn,or[lr++]=ta,hn=e.id,gn=e.overflow,ta=t),t=ih(t,n.children),t.flags|=4096,t)}function Mv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),op(e.return,t,r)}function Hd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function j1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(It(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mv(e,r,t);else if(e.tag===19)Mv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$c(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Hd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$c(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Hd(t,!0,r,null,i);break;case"together":Hd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),na|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=os(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=os(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TT(e,t,r){switch(t.tag){case 3:S1(t),ri();break;case 5:Yw(t);break;case 1:Ht(t.type)&&Oc(t);break;case 4:Xm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ze(Mc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?N1(e,t,r):(ze(Ge,Ge.current&1),e=jn(e,t,r),e!==null?e.sibling:null);ze(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return j1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,b1(e,t,r)}return jn(e,t,r)}var C1,hp,E1,P1;C1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hp=function(){};E1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Os(Xr.current);var i=null;switch(r){case"input":s=Mf(e,s),n=Mf(e,n),i=[];break;case"select":s=Ye({},s,{value:void 0}),n=Ye({},n,{value:void 0}),i=[];break;case"textarea":s=$f(e,s),n=$f(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ac)}Uf(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};P1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function AT(e,t,r){var n=t.pendingProps;switch(Vm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ht(t.type)&&Rc(),wt(t),null;case 3:return n=t.stateNode,si(),qe(qt),qe(jt),eh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rr!==null&&(Np(Rr),Rr=null))),hp(e,t),wt(t),null;case 5:Jm(t);var s=Os(Ro.current);if(r=t.type,e!==null&&t.stateNode!=null)E1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return wt(t),null}if(e=Os(Xr.current),$l(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Kr]=t,n[To]=i,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(s=0;s<Ki.length;s++)Be(Ki[s],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Wg(n,i),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Be("invalid",n);break;case"textarea":Kg(n,i),Be("invalid",n)}Uf(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&zl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zl(n.textContent,l,e),s=["children",""+l]):wo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",n)}switch(r){case"input":Tl(n),Gg(n,i,!0);break;case"textarea":Tl(n),Qg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ac)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Kr]=t,e[To]=n,C1(e,t,!1,!1),t.stateNode=e;e:{switch(o=qf(r,n),r){case"dialog":Be("cancel",e),Be("close",e),s=n;break;case"iframe":case"object":case"embed":Be("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ki.length;s++)Be(Ki[s],e);s=n;break;case"source":Be("error",e),s=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=n;break;case"details":Be("toggle",e),s=n;break;case"input":Wg(e,n),s=Mf(e,n),Be("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ye({},n,{value:void 0}),Be("invalid",e);break;case"textarea":Kg(e,n),s=$f(e,n),Be("invalid",e);break;default:s=n}Uf(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sw(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rw(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&So(e,c):typeof c=="number"&&So(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&Dm(e,i,c,o))}switch(r){case"input":Tl(e),Gg(e,n,!1);break;case"textarea":Tl(e),Qg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ms(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ia(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ia(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)P1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Os(Ro.current),Os(Xr.current),$l(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(i=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:zl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return wt(t),null;case 13:if(qe(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Qt!==null&&t.mode&1&&!(t.flags&128))Vw(),ri(),t.flags|=98560,i=!1;else if(i=$l(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Kr]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else Rr!==null&&(Np(Rr),Rr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?lt===0&&(lt=3):fh())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return si(),hp(e,t),e===null&&Io(t.stateNode.containerInfo),wt(t),null;case 10:return Qm(t.type._context),wt(t),null;case 17:return Ht(t.type)&&Rc(),wt(t),null;case 19:if(qe(Ge),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Mi(i,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$c(e),o!==null){for(t.flags|=128,Mi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>ii&&(t.flags|=128,n=!0,Mi(i,!1),t.lanes=4194304)}else{if(!n)if(e=$c(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return wt(t),null}else 2*tt()-i.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,n=!0,Mi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=Ge.current,ze(Ge,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return dh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function RT(e,t){switch(Vm(t),t.tag){case 1:return Ht(t.type)&&Rc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),qe(qt),qe(jt),eh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jm(t),null;case 13:if(qe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ge),null;case 4:return si(),null;case 10:return Qm(t.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var ql=!1,Nt=!1,OT=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ca(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xe(e,t,n)}else r.current=null}function gp(e,t,r){try{r()}catch(n){Xe(e,t,n)}}var Lv=!1;function _T(e,t){if(Jf=Ic,e=Aw(),qm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++f===n&&(c=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ep={focusedElem:e,selectionRange:r},Ic=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var x=h.memoizedProps,b=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:kr(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return h=Lv,Lv=!1,h}function so(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(t,r,i)}s=s.next}while(s!==n)}}function zu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k1(e){var t=e.alternate;t!==null&&(e.alternate=null,k1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[To],delete t[np],delete t[vT],delete t[xT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I1(e){return e.tag===5||e.tag===3||e.tag===4}function zv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ac));else if(n!==4&&(e=e.child,e!==null))for(xp(e,t,r),e=e.sibling;e!==null;)xp(e,t,r),e=e.sibling}function yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yp(e,t,r),e=e.sibling;e!==null;)yp(e,t,r),e=e.sibling}var ht=null,Tr=!1;function Rn(e,t,r){for(r=r.child;r!==null;)D1(e,t,r),r=r.sibling}function D1(e,t,r){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Tu,r)}catch{}switch(r.tag){case 5:Nt||Ca(r,t);case 6:var n=ht,s=Tr;ht=null,Rn(e,t,r),ht=n,Tr=s,ht!==null&&(Tr?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Tr?(e=ht,r=r.stateNode,e.nodeType===8?Md(e.parentNode,r):e.nodeType===1&&Md(e,r),Eo(e)):Md(ht,r.stateNode));break;case 4:n=ht,s=Tr,ht=r.stateNode.containerInfo,Tr=!0,Rn(e,t,r),ht=n,Tr=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(r,t,o),s=s.next}while(s!==n)}Rn(e,t,r);break;case 1:if(!Nt&&(Ca(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Xe(r,t,l)}Rn(e,t,r);break;case 21:Rn(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Rn(e,t,r),Nt=n):Rn(e,t,r);break;default:Rn(e,t,r)}}function $v(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OT),t.forEach(function(n){var s=HT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Cr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Tr=!1;break e;case 3:ht=l.stateNode.containerInfo,Tr=!0;break e;case 4:ht=l.stateNode.containerInfo,Tr=!0;break e}l=l.return}if(ht===null)throw Error(H(160));D1(i,o,s),ht=null,Tr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T1(t,e),t=t.sibling}function T1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cr(t,e),qr(e),n&4){try{so(3,e,e.return),zu(3,e)}catch(x){Xe(e,e.return,x)}try{so(5,e,e.return)}catch(x){Xe(e,e.return,x)}}break;case 1:Cr(t,e),qr(e),n&512&&r!==null&&Ca(r,r.return);break;case 5:if(Cr(t,e),qr(e),n&512&&r!==null&&Ca(r,r.return),e.flags&32){var s=e.stateNode;try{So(s,"")}catch(x){Xe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jb(s,i),qf(l,o);var u=qf(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?sw(s,d):f==="dangerouslySetInnerHTML"?rw(s,d):f==="children"?So(s,d):Dm(s,f,d,u)}switch(l){case"input":Lf(s,i);break;case"textarea":ew(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ia(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ia(s,!!i.multiple,i.defaultValue,!0):Ia(s,!!i.multiple,i.multiple?[]:"",!1))}s[To]=i}catch(x){Xe(e,e.return,x)}}break;case 6:if(Cr(t,e),qr(e),n&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Xe(e,e.return,x)}}break;case 3:if(Cr(t,e),qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(x){Xe(e,e.return,x)}break;case 4:Cr(t,e),qr(e);break;case 13:Cr(t,e),qr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ch=tt())),n&4&&$v(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||f,Cr(t,e),Nt=u):Cr(t,e),qr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Z=e,f=e.child;f!==null;){for(d=Z=f;Z!==null;){switch(p=Z,m=p.child,p.tag){case 0:case 11:case 14:case 15:so(4,p,p.return);break;case 1:Ca(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(x){Xe(n,r,x)}}break;case 5:Ca(p,p.return);break;case 22:if(p.memoizedState!==null){Uv(d);continue}}m!==null?(m.return=p,Z=m):Uv(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nw("display",o))}catch(x){Xe(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Xe(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cr(t,e),qr(e),n&4&&$v(e);break;case 21:break;default:Cr(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I1(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(So(s,""),n.flags&=-33);var i=zv(e);yp(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=zv(e);xp(e,l,o);break;default:throw Error(H(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FT(e,t,r){Z=e,A1(e)}function A1(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ql;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=ql;var u=Nt;if(ql=o,(Nt=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?qv(s):c!==null?(c.return=o,Z=c):qv(s);for(;i!==null;)Z=i,A1(i),i=i.sibling;Z=s,ql=l,Nt=u}Bv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):Bv(e)}}function Bv(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||zu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cv(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||t.flags&512&&vp(t)}catch(p){Xe(t,t.return,p)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Uv(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function qv(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zu(4,t)}catch(c){Xe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Xe(t,s,c)}}var i=t.return;try{vp(t)}catch(c){Xe(t,i,c)}break;case 5:var o=t.return;try{vp(t)}catch(c){Xe(t,o,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var MT=Math.ceil,qc=Cn.ReactCurrentDispatcher,oh=Cn.ReactCurrentOwner,dr=Cn.ReactCurrentBatchConfig,ke=0,ut=null,rt=null,xt=0,Gt=0,Ea=bs(0),lt=0,Mo=null,na=0,$u=0,lh=0,ao=null,Bt=null,ch=0,ii=1/0,un=null,Hc=!1,bp=null,as=null,Hl=!1,Yn=null,Vc=0,io=0,wp=null,uc=-1,dc=0;function Tt(){return ke&6?tt():uc!==-1?uc:uc=tt()}function is(e){return e.mode&1?ke&2&&xt!==0?xt&-xt:bT.transition!==null?(dc===0&&(dc=gw()),dc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Nw(e.type)),e):1}function Lr(e,t,r,n){if(50<io)throw io=0,wp=null,Error(H(185));pl(e,r,n),(!(ke&2)||e!==ut)&&(e===ut&&(!(ke&2)&&($u|=r),lt===4&&Ln(e,xt)),Vt(e,n),r===1&&ke===0&&!(t.mode&1)&&(ii=tt()+500,Fu&&ws()))}function Vt(e,t){var r=e.callbackNode;bD(e,t);var n=kc(e,e===ut?xt:0);if(n===0)r!==null&&Xg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xg(r),t===1)e.tag===0?yT(Hv.bind(null,e)):Uw(Hv.bind(null,e)),hT(function(){!(ke&6)&&ws()}),r=null;else{switch(vw(n)){case 1:r=_m;break;case 4:r=mw;break;case 16:r=Pc;break;case 536870912:r=hw;break;default:r=Pc}r=$1(r,R1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function R1(e,t){if(uc=-1,dc=0,ke&6)throw Error(H(327));var r=e.callbackNode;if(Oa()&&e.callbackNode!==r)return null;var n=kc(e,e===ut?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wc(e,n);else{t=n;var s=ke;ke|=2;var i=_1();(ut!==e||xt!==t)&&(un=null,ii=tt()+500,Hs(e,t));do try{$T();break}catch(l){O1(e,l)}while(!0);Km(),qc.current=i,ke=s,rt!==null?t=0:(ut=null,xt=0,t=lt)}if(t!==0){if(t===2&&(s=Kf(e),s!==0&&(n=s,t=Sp(e,s))),t===1)throw r=Mo,Hs(e,0),Ln(e,n),Vt(e,tt()),r;if(t===6)Ln(e,n);else{if(s=e.current.alternate,!(n&30)&&!LT(s)&&(t=Wc(e,n),t===2&&(i=Kf(e),i!==0&&(n=i,t=Sp(e,i))),t===1))throw r=Mo,Hs(e,0),Ln(e,n),Vt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:Is(e,Bt,un);break;case 3:if(Ln(e,n),(n&130023424)===n&&(t=ch+500-tt(),10<t)){if(kc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rp(Is.bind(null,e,Bt,un),t);break}Is(e,Bt,un);break;case 4:if(Ln(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Mr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MT(n/1960))-n,10<n){e.timeoutHandle=rp(Is.bind(null,e,Bt,un),n);break}Is(e,Bt,un);break;case 5:Is(e,Bt,un);break;default:throw Error(H(329))}}}return Vt(e,tt()),e.callbackNode===r?R1.bind(null,e):null}function Sp(e,t){var r=ao;return e.current.memoizedState.isDehydrated&&(Hs(e,t).flags|=256),e=Wc(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Np(t)),e}function Np(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function LT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Br(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t){for(t&=~lh,t&=~$u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mr(t),n=1<<r;e[r]=-1,t&=~n}}function Hv(e){if(ke&6)throw Error(H(327));Oa();var t=kc(e,0);if(!(t&1))return Vt(e,tt()),null;var r=Wc(e,t);if(e.tag!==0&&r===2){var n=Kf(e);n!==0&&(t=n,r=Sp(e,n))}if(r===1)throw r=Mo,Hs(e,0),Ln(e,t),Vt(e,tt()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Is(e,Bt,un),Vt(e,tt()),null}function uh(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(ii=tt()+500,Fu&&ws())}}function sa(e){Yn!==null&&Yn.tag===0&&!(ke&6)&&Oa();var t=ke;ke|=1;var r=dr.transition,n=Re;try{if(dr.transition=null,Re=1,e)return e()}finally{Re=n,dr.transition=r,ke=t,!(ke&6)&&ws()}}function dh(){Gt=Ea.current,qe(Ea)}function Hs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mT(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(Vm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rc();break;case 3:si(),qe(qt),qe(jt),eh();break;case 5:Jm(n);break;case 4:si();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:Qm(n.type._context);break;case 22:case 23:dh()}r=r.return}if(ut=e,rt=e=os(e.current,null),xt=Gt=t,lt=0,Mo=null,lh=$u=na=0,Bt=ao=null,Rs!==null){for(t=0;t<Rs.length;t++)if(r=Rs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Rs=null}return e}function O1(e,t){do{var r=rt;try{if(Km(),oc.current=Uc,Bc){for(var n=Qe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bc=!1}if(ra=0,ct=at=Qe=null,no=!1,Oo=0,oh.current=null,r===null||r.return===null){lt=1,Mo=t,rt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Tv(o);if(m!==null){m.flags&=-257,Av(m,o,l,i,t),m.mode&1&&Dv(i,u,t),t=m,c=u;var h=t.updateQueue;if(h===null){var x=new Set;x.add(c),t.updateQueue=x}else h.add(c);break e}else{if(!(t&1)){Dv(i,u,t),fh();break e}c=Error(H(426))}}else if(He&&l.mode&1){var b=Tv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Av(b,o,l,i,t),Wm(ai(c,l));break e}}i=c=ai(c,l),lt!==4&&(lt=2),ao===null?ao=[i]:ao.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=v1(i,c,t);jv(i,g);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=x1(i,l,t);jv(i,w);break e}}i=i.return}while(i!==null)}M1(r)}catch(N){t=N,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function _1(){var e=qc.current;return qc.current=Uc,e===null?Uc:e}function fh(){(lt===0||lt===3||lt===2)&&(lt=4),ut===null||!(na&268435455)&&!($u&268435455)||Ln(ut,xt)}function Wc(e,t){var r=ke;ke|=2;var n=_1();(ut!==e||xt!==t)&&(un=null,Hs(e,t));do try{zT();break}catch(s){O1(e,s)}while(!0);if(Km(),ke=r,qc.current=n,rt!==null)throw Error(H(261));return ut=null,xt=0,lt}function zT(){for(;rt!==null;)F1(rt)}function $T(){for(;rt!==null&&!dD();)F1(rt)}function F1(e){var t=z1(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?M1(e):rt=t,oh.current=null}function M1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RT(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}else if(r=AT(r,t,Gt),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function Is(e,t,r){var n=Re,s=dr.transition;try{dr.transition=null,Re=1,BT(e,t,r,n)}finally{dr.transition=s,Re=n}return null}function BT(e,t,r,n){do Oa();while(Yn!==null);if(ke&6)throw Error(H(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wD(e,i),e===ut&&(rt=ut=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hl||(Hl=!0,$1(Pc,function(){return Oa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dr.transition,dr.transition=null;var o=Re;Re=1;var l=ke;ke|=4,oh.current=null,_T(e,r),T1(r,e),oT(ep),Ic=!!Jf,ep=Jf=null,e.current=r,FT(r),fD(),ke=l,Re=o,dr.transition=i}else e.current=r;if(Hl&&(Hl=!1,Yn=e,Vc=s),i=e.pendingLanes,i===0&&(as=null),hD(r.stateNode),Vt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hc)throw Hc=!1,e=bp,bp=null,e;return Vc&1&&e.tag!==0&&Oa(),i=e.pendingLanes,i&1?e===wp?io++:(io=0,wp=e):io=0,ws(),null}function Oa(){if(Yn!==null){var e=vw(Vc),t=dr.transition,r=Re;try{if(dr.transition=null,Re=16>e?16:e,Yn===null)var n=!1;else{if(e=Yn,Yn=null,Vc=0,ke&6)throw Error(H(331));var s=ke;for(ke|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var f=Z;switch(f.tag){case 0:case 11:case 15:so(8,f,i)}var d=f.child;if(d!==null)d.return=f,Z=d;else for(;Z!==null;){f=Z;var p=f.sibling,m=f.return;if(k1(f),f===u){Z=null;break}if(p!==null){p.return=m,Z=p;break}Z=m}}}var h=i.alternate;if(h!==null){var x=h.child;if(x!==null){h.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:so(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var v=e.current;for(Z=v;Z!==null;){o=Z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Z=y;else e:for(o=v;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zu(9,l)}}catch(N){Xe(l,l.return,N)}if(l===o){Z=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Z=w;break e}Z=l.return}}if(ke=s,ws(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Tu,e)}catch{}n=!0}return n}finally{Re=r,dr.transition=t}}return!1}function Vv(e,t,r){t=ai(r,t),t=v1(e,t,1),e=ss(e,t,1),t=Tt(),e!==null&&(pl(e,1,t),Vt(e,t))}function Xe(e,t,r){if(e.tag===3)Vv(e,e,r);else for(;t!==null;){if(t.tag===3){Vv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){e=ai(r,e),e=x1(t,e,1),t=ss(t,e,1),e=Tt(),t!==null&&(pl(t,1,e),Vt(t,e));break}}t=t.return}}function UT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(xt&r)===r&&(lt===4||lt===3&&(xt&130023424)===xt&&500>tt()-ch?Hs(e,0):lh|=r),Vt(e,t)}function L1(e,t){t===0&&(e.mode&1?(t=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):t=1);var r=Tt();e=Nn(e,t),e!==null&&(pl(e,t,r),Vt(e,r))}function qT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),L1(e,r)}function HT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),L1(e,r)}var z1;z1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,TT(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,He&&t.flags&1048576&&qw(t,Fc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cc(e,t),e=t.pendingProps;var s=ti(t,jt.current);Ra(t,r),s=rh(null,t,n,e,s,r);var i=nh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(i=!0,Oc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zm(t),s.updater=Lu,t.stateNode=s,s._reactInternals=t,cp(t,n,e,r),t=fp(null,t,n,!0,i,r)):(t.tag=0,He&&i&&Hm(t),It(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=WT(n),e=kr(n,e),s){case 0:t=dp(null,t,n,e,r);break e;case 1:t=_v(null,t,n,e,r);break e;case 11:t=Rv(null,t,n,e,r);break e;case 14:t=Ov(null,t,n,kr(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kr(n,s),dp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kr(n,s),_v(e,t,n,s,r);case 3:e:{if(S1(t),e===null)throw Error(H(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Qw(e,t),zc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ai(Error(H(423)),t),t=Fv(e,t,n,r,s);break e}else if(n!==s){s=ai(Error(H(424)),t),t=Fv(e,t,n,r,s);break e}else for(Qt=ns(t.stateNode.containerInfo.firstChild),Xt=t,He=!0,Rr=null,r=Gw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ri(),n===s){t=jn(e,t,r);break e}It(e,t,n,r)}t=t.child}return t;case 5:return Yw(t),e===null&&ip(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,tp(n,s)?o=null:i!==null&&tp(n,i)&&(t.flags|=32),w1(e,t),It(e,t,o,r),t.child;case 6:return e===null&&ip(t),null;case 13:return N1(e,t,r);case 4:return Xm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ni(t,null,n,r):It(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kr(n,s),Rv(e,t,n,s,r);case 7:return It(e,t,t.pendingProps,r),t.child;case 8:return It(e,t,t.pendingProps.children,r),t.child;case 12:return It(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(Mc,n._currentValue),n._currentValue=o,i!==null)if(Br(i.value,o)){if(i.children===s.children&&!qt.current){t=jn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=vn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),op(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),op(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ra(t,r),s=hr(s),n=n(s),t.flags|=1,It(e,t,n,r),t.child;case 14:return n=t.type,s=kr(n,t.pendingProps),s=kr(n.type,s),Ov(e,t,n,s,r);case 15:return y1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kr(n,s),cc(e,t),t.tag=1,Ht(n)?(e=!0,Oc(t)):e=!1,Ra(t,r),g1(t,n,s),cp(t,n,s,r),fp(null,t,n,!0,e,r);case 19:return j1(e,t,r);case 22:return b1(e,t,r)}throw Error(H(156,t.tag))};function $1(e,t){return pw(e,t)}function VT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new VT(e,t,r,n)}function ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WT(e){if(typeof e=="function")return ph(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Am)return 11;if(e===Rm)return 14}return 2}function os(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ph(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ga:return Vs(r.children,s,i,t);case Tm:o=8,s|=8;break;case Rf:return e=cr(12,r,t,s|2),e.elementType=Rf,e.lanes=i,e;case Of:return e=cr(13,r,t,s),e.elementType=Of,e.lanes=i,e;case _f:return e=cr(19,r,t,s),e.elementType=_f,e.lanes=i,e;case Yb:return Bu(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kb:o=10;break e;case Qb:o=9;break e;case Am:o=11;break e;case Rm:o=14;break e;case _n:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=cr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Vs(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function Bu(e,t,r,n){return e=cr(22,e,n,t),e.elementType=Yb,e.lanes=r,e.stateNode={isHidden:!1},e}function Vd(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function Wd(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ed(0),this.expirationTimes=Ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ed(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mh(e,t,r,n,s,i,o,l,c){return e=new GT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(i),e}function KT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function B1(e){if(!e)return hs;e=e._reactInternals;e:{if(ca(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Ht(r))return Bw(e,r,t)}return t}function U1(e,t,r,n,s,i,o,l,c){return e=mh(r,n,!0,e,s,i,o,l,c),e.context=B1(null),r=e.current,n=Tt(),s=is(r),i=vn(n,s),i.callback=t??null,ss(r,i,s),e.current.lanes=s,pl(e,s,n),Vt(e,n),e}function Uu(e,t,r,n){var s=t.current,i=Tt(),o=is(s);return r=B1(r),t.context===null?t.context=r:t.pendingContext=r,t=vn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ss(s,t,o),e!==null&&(Lr(e,s,o,i),ic(e,s,o)),o}function Gc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hh(e,t){Wv(e,t),(e=e.alternate)&&Wv(e,t)}function QT(){return null}var q1=typeof reportError=="function"?reportError:function(e){console.error(e)};function gh(e){this._internalRoot=e}qu.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Uu(e,t,null,null)};qu.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){Uu(null,e,null,null)}),t[Sn]=null}};function qu(e){this._internalRoot=e}qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=bw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mn.length&&t!==0&&t<Mn[r].priority;r++);Mn.splice(r,0,e),r===0&&Sw(e)}};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function YT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Gc(o);i.call(u)}}var o=U1(t,n,e,0,null,!1,!1,"",Gv);return e._reactRootContainer=o,e[Sn]=o.current,Io(e.nodeType===8?e.parentNode:e),sa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Gc(c);l.call(u)}}var c=mh(e,0,!1,null,null,!1,!1,"",Gv);return e._reactRootContainer=c,e[Sn]=c.current,Io(e.nodeType===8?e.parentNode:e),sa(function(){Uu(t,c,r,n)}),c}function Vu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Gc(o);l.call(c)}}Uu(t,o,e,s)}else o=YT(r,t,e,s,n);return Gc(o)}xw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gi(t.pendingLanes);r!==0&&(Fm(t,r|1),Vt(t,tt()),!(ke&6)&&(ii=tt()+500,ws()))}break;case 13:sa(function(){var n=Nn(e,1);if(n!==null){var s=Tt();Lr(n,e,1,s)}}),hh(e,1)}};Mm=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=Tt();Lr(t,e,134217728,r)}hh(e,134217728)}};yw=function(e){if(e.tag===13){var t=is(e),r=Nn(e,t);if(r!==null){var n=Tt();Lr(r,e,t,n)}hh(e,t)}};bw=function(){return Re};ww=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};Vf=function(e,t,r){switch(t){case"input":if(Lf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_u(n);if(!s)throw Error(H(90));Xb(n),Lf(n,s)}}}break;case"textarea":ew(e,r);break;case"select":t=r.value,t!=null&&Ia(e,!!r.multiple,t,!1)}};ow=uh;lw=sa;var ZT={usingClientEntryPoint:!1,Events:[hl,ba,_u,aw,iw,uh]},Li={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XT={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dw(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||QT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{Tu=Vl.inject(XT),Zr=Vl}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZT;nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(H(200));return KT(e,t,null,r)};nr.createRoot=function(e,t){if(!vh(e))throw Error(H(299));var r=!1,n="",s=q1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mh(e,1,!1,null,null,r,!1,n,s),e[Sn]=t.current,Io(e.nodeType===8?e.parentNode:e),new gh(t)};nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=dw(t),e=e===null?null:e.stateNode,e};nr.flushSync=function(e){return sa(e)};nr.hydrate=function(e,t,r){if(!Hu(t))throw Error(H(200));return Vu(null,e,t,!0,r)};nr.hydrateRoot=function(e,t,r){if(!vh(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=q1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=U1(t,null,e,1,r??null,s,!1,i,o),e[Sn]=t.current,Io(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new qu(t)};nr.render=function(e,t,r){if(!Hu(t))throw Error(H(200));return Vu(null,e,t,!1,r)};nr.unmountComponentAtNode=function(e){if(!Hu(e))throw Error(H(40));return e._reactRootContainer?(sa(function(){Vu(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};nr.unstable_batchedUpdates=uh;nr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hu(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Vu(e,t,r,!1,n)};nr.version="18.3.1-next-f1338f8080-20240426";function H1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H1)}catch(e){console.error(e)}}H1(),Hb.exports=nr;var V1=Hb.exports;const JT=Mp(V1);Vk(V1.unstable_batchedUpdates);function e4(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function W1(e,t){var r=te.useState(function(){return{inputs:t,result:e()}})[0],n=te.useRef(!0),s=te.useRef(r),i=n.current||!!(t&&s.current.inputs&&e4(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return te.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function t4(e,t){return W1(function(){return e},t)}var Pe=W1,ne=t4,r4="Invariant failed";function n4(e,t){throw new Error(r4)}var _r=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,l=s-r,c={top:r,right:n,bottom:s,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},xh=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Kv=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},s4=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Gd={top:0,right:0,bottom:0,left:0},yh=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Gd:n,i=t.border,o=i===void 0?Gd:i,l=t.padding,c=l===void 0?Gd:l,u=_r(xh(r,s)),f=_r(Kv(r,o)),d=_r(Kv(f,c));return{marginBox:u,borderBox:_r(r),paddingBox:f,contentBox:d,margin:s,border:o,padding:c}},ar=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&n4(),s},a4=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Kc=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,o=t.padding,l=s4(n,r);return yh({borderBox:l,border:s,margin:i,padding:o})},Qc=function(t,r){return r===void 0&&(r=a4()),Kc(t,r)},G1=function(t,r){var n={top:ar(r.marginTop),right:ar(r.marginRight),bottom:ar(r.marginBottom),left:ar(r.marginLeft)},s={top:ar(r.paddingTop),right:ar(r.paddingRight),bottom:ar(r.paddingBottom),left:ar(r.paddingLeft)},i={top:ar(r.borderTopWidth),right:ar(r.borderRightWidth),bottom:ar(r.borderBottomWidth),left:ar(r.borderLeftWidth)};return yh({borderBox:t,margin:n,padding:s,border:i})},K1=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return G1(r,n)},Qv=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function i4(e,t){return!!(e===t||Qv(e)&&Qv(t))}function o4(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!i4(e[r],t[r]))return!1;return!0}function dt(e,t){t===void 0&&(t=o4);var r,n=[],s,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(s=e.apply(this,l),i=!0,r=this,n=l),s}return o}var Lo=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function Q1(e,t){}Q1.bind(null,"warn");Q1.bind(null,"error");function ls(){}function l4(e,t){return oe({},e,{},t)}function ur(e,t,r){var n=t.map(function(s){var i=l4(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(function(i){i()})}}var c4="Invariant failed";function Yc(e){this.message=e}Yc.prototype.toString=function(){return this.message};function G(e,t){throw new Yc(c4)}var u4=function(e){Cb(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=ls,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Yc&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=ur(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof Yc){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Ue.Component),d4=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Zc=function(t){return t+1},f4=function(t){return`
  You have lifted an item in position `+Zc(t.source.index)+`
`},Y1=function(t,r){var n=t.droppableId===r.droppableId,s=Zc(t.index),i=Zc(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},Z1=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},p4=function(t){var r=t.destination;if(r)return Y1(t.source,r);var n=t.combine;return n?Z1(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Yv=function(t){return`
  The item has returned to its starting position
  of `+Zc(t.index)+`
`},m4=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Yv(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Y1(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+Z1(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Yv(t.source)+`
  `},pc={dragHandleUsageInstructions:d4,onDragStart:f4,onDragUpdate:p4,onDragEnd:m4},ft={x:0,y:0},vt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Yt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},cs=function(t,r){return t.x===r.x&&t.y===r.y},Si=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},aa=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},zo=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Zv=function(t,r){return Math.min.apply(Math,r.map(function(n){return zo(t,n)}))},X1=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},h4=function(e,t){var r=_r({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},vl=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Xv=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},g4={top:0,right:0,bottom:0,left:0},v4=function(t,r){return r?vl(t,r.scroll.diff.displacement):t},x4=function(t,r,n){if(n&&n.increasedBy){var s;return oe({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},y4=function(t,r){return r&&r.shouldClipSubject?h4(r.pageMarginBox,t):_r(t)},oi=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,i=v4(t.marginBox,s),o=x4(i,n,r),l=y4(o,s);return{page:t,withPlaceholder:r,active:l}},bh=function(e,t){e.frame||G();var r=e.frame,n=Yt(t,r.scroll.initial),s=Si(n),i=oe({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),o=oi({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=oe({},e,{frame:i,subject:o});return l};function Xc(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function wh(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ss(e,t){if(e.find)return e.find(t);var r=wh(e,t);if(r!==-1)return e[r]}function J1(e){return Array.prototype.slice.call(e)}var eS=dt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),tS=dt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Wu=dt(function(e){return Xc(e)}),b4=dt(function(e){return Xc(e)}),Ni=dt(function(e,t){var r=b4(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function Sh(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Gu(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ku=dt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),w4=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Sh(i);if(!o)return null;function l(x){var b={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return oe({},i,{at:b})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var f=Ku(r,s);if(!u){if(!f.length)return null;var d=f[f.length-1];return l(d.descriptor.id)}var p=wh(f,function(x){return x.descriptor.id===u});p===-1&&G();var m=p-1;if(m<0)return null;var h=f[m];return l(h.descriptor.id)},ji=function(e,t){return e.descriptor.droppableId===t.descriptor.id},rS={point:ft,value:0},$o={invisible:{},visible:{},all:[]},S4={displaced:$o,displacedBy:rS,at:null},fr=function(e,t){return function(r){return e<=r&&r<=t}},nS=function(e){var t=fr(e.top,e.bottom),r=fr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var d=c&&o||u&&i;return d}},N4=function(e){var t=fr(e.top,e.bottom),r=fr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Nh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},sS={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},j4=function(e){return function(t){var r=fr(t.top,t.bottom),n=fr(t.left,t.right);return function(s){return e===Nh?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},C4=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:ft;return vl(t,n)},E4=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},P4=function(t,r,n){return n(r)(t)},jh=function(t){var r=t.target,n=t.destination,s=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?C4(r,n):r;return E4(l,n,o)&&P4(l,s,o)},k4=function(t){return jh(oe({},t,{isVisibleThroughFrameFn:nS}))},aS=function(t){return jh(oe({},t,{isVisibleThroughFrameFn:N4}))},I4=function(t){return jh(oe({},t,{isVisibleThroughFrameFn:j4(t.destination.axis)}))},D4=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,i=r.visible;if(s[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function T4(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return _r(xh(r,n))}function Bo(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var f=T4(u,n),d=u.descriptor.id;c.all.push(d);var p=k4({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var m=D4(d,o,i),h={draggableId:d,shouldAnimate:m};return c.visible[d]=h,c},{all:[],visible:{},invisible:{}})}function A4(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Jv(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,i=A4(t,{inHomeList:r});return{displaced:$o,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function Jc(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=ji(t,n);if(l==null)return Jv({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=Ss(r,function(x){return x.descriptor.index===l});if(!f)return Jv({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=Ku(t,r),p=r.indexOf(f),m=d.slice(p),h=Bo({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:s.frame,forceShouldAnimate:c});return{displaced:h,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function gs(e,t){return!!t.effected[e]}var R4=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=s.draggableId,l=n[o],c=l.descriptor.index,u=gs(o,i);return u?t?c:c-1:t?c+1:c},O4=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var i=s.index,o=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return o<l||o>u?null:o},_4=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,f=l.at;if(f||G(),f.type==="REORDER"){var d=O4({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:o});return d==null?null:Jc({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})}var p=R4({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:f.combine,afterCritical:u});return p==null?null:Jc({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})},F4=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return gs(n,r)?i?ft:Si(s.point):i?s.point:ft},M4=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Gu(r);s||G();var i=s.draggableId,o=n[i].page.borderBox.center,l=F4({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return vt(o,l)},iS=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},L4=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ch=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},ex=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return aa(r.line,n.marginBox[r.end]+iS(r,s),Ch(r,n.marginBox,s))},tx=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return aa(r.line,n.marginBox[r.start]-L4(r,s),Ch(r,n.marginBox,s))},z4=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return aa(r.line,n.contentBox[r.start]+iS(r,s),Ch(r,n.contentBox,s))},$4=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,i=e.afterCritical,o=Ni(s.descriptor.id,n),l=r.page,c=s.axis;if(!o.length)return z4({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,f=t.displacedBy,d=u.all[0];if(d){var p=n[d];if(gs(d,i))return tx({axis:c,moveRelativeTo:p.page,isMoving:l});var m=Kc(p.page,f.point);return tx({axis:c,moveRelativeTo:m,isMoving:l})}var h=o[o.length-1];if(h.descriptor.id===r.descriptor.id)return l.borderBox.center;if(gs(h.descriptor.id,i)){var x=Kc(h.page,Si(i.displacedBy.point));return ex({axis:c,moveRelativeTo:x,isMoving:l})}return ex({axis:c,moveRelativeTo:h.page,isMoving:l})},jp=function(e,t){var r=e.frame;return r?vt(t,r.scroll.diff.displacement):t},B4=function(t){var r=t.impact,n=t.draggable,s=t.droppable,i=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?$4({impact:r,draggable:n,draggables:i,droppable:s,afterCritical:o}):M4({impact:r,draggables:i,afterCritical:o})},Qu=function(e){var t=B4(e),r=e.droppable,n=r?jp(r,t):t;return n},oS=function(e,t){var r=Yt(t,e.scroll.initial),n=Si(r),s=_r({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function rx(e,t){return e.map(function(r){return t[r]})}function U4(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var q4=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,i=e.maxScrollChange,o=oS(r,vt(r.scroll.current,i)),l=n.frame?bh(n,vt(n.frame.scroll.current,i)):n,c=t.displaced,u=Bo({afterDragging:rx(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),f=Bo({afterDragging:rx(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),d={},p={},m=[c,u,f];c.all.forEach(function(x){var b=U4(x,m);if(b){p[x]=b;return}d[x]=!0});var h=oe({},t,{displaced:{all:c.all,invisible:d,visible:p}});return h},H4=function(e,t){return vt(e.scroll.diff.displacement,t)},Eh=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=H4(n,t),i=Yt(s,r.page.borderBox.center);return vt(r.client.borderBox.center,i)},lS=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Yt(n,t.page.borderBox.center),u=vl(t.page.borderBox,c),f={target:u,destination:r,withDroppableDisplacement:i,viewport:s};return l?I4(f):aS(f)},V4=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=Ni(n.descriptor.id,s),d=ji(r,n),p=w4({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||_4({isMovingForward:t,isInHomeList:d,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;var m=Qu({impact:p,draggable:r,droppable:n,draggables:s,afterCritical:u}),h=lS({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var x=Eh({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:x,impact:p,scrollJumpRequest:null}}var b=Yt(m,l),g=q4({impact:p,viewport:o,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:g,scrollJumpRequest:b}},Et=function(t){var r=t.subject.active;return r||G(),r},W4=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=fr(o[l.start],o[l.end]),u=Wu(s).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return nS(i.frame)(Et(d))}).filter(function(d){var p=Et(d);return t?o[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(d){var p=Et(d),m=fr(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(d,p){var m=Et(d)[l.crossAxisStart],h=Et(p)[l.crossAxisStart];return t?m-h:h-m}).filter(function(d,p,m){return Et(d)[l.crossAxisStart]===Et(m[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(d){var p=fr(Et(d)[l.start],Et(d)[l.end]);return p(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(d,p){return Et(d)[l.start]-Et(p)[l.start]})[0]:u.sort(function(d,p){var m=Zv(r,Xv(Et(d))),h=Zv(r,Xv(Et(p)));return m!==h?m-h:Et(d)[l.start]-Et(p)[l.start]})[0]},nx=function(t,r){var n=t.page.borderBox.center;return gs(t.descriptor.id,r)?Yt(n,r.displacedBy.point):n},G4=function(t,r){var n=t.page.borderBox;return gs(t.descriptor.id,r)?vl(n,Si(r.displacedBy.point)):n},K4=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,i=e.afterCritical,o=s.filter(function(l){return aS({target:G4(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=zo(t,jp(n,nx(l,i))),f=zo(t,jp(n,nx(c,i)));return u<f?-1:f<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null},xl=dt(function(t,r){var n=r[t.line];return{value:n,point:aa(t.line,n)}}),Q4=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return aa(s.line,r[s.line]);var i=t.subject.page.contentBox[s.size],o=Ni(t.descriptor.id,n),l=o.reduce(function(f,d){return f+d.client.marginBox[s.size]},0),c=l+r[s.line],u=c-i;return u<=0?null:aa(s.line,u)},cS=function(t,r){return oe({},t,{scroll:oe({},t.scroll,{max:r})})},uS=function(t,r,n){var s=t.frame;ji(r,t)&&G(),t.subject.withPlaceholder&&G();var i=xl(t.axis,r.displaceBy).point,o=Q4(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=oi({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return oe({},t,{subject:c})}var u=o?vt(s.scroll.max,o):s.scroll.max,f=cS(s,u),d=oi({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return oe({},t,{subject:d,frame:f})},Y4=function(t){var r=t.subject.withPlaceholder;r||G();var n=t.frame;if(!n){var s=oi({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return oe({},t,{subject:s})}var i=r.oldFrameMaxScroll;i||G();var o=cS(n,i),l=oi({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return oe({},t,{subject:l,frame:o})},Z4=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:$o,displacedBy:rS,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=Qu({impact:u,draggable:s,droppable:o,draggables:i,afterCritical:c}),d=ji(s,o)?o:uS(o,s,i),p=lS({draggable:s,destination:d,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],h=function(){var b=r.descriptor.index;return r.descriptor.id===s.descriptor.id||m?b:b+1}(),x=xl(o.axis,s.displaceBy);return Jc({draggable:s,insideDestination:n,destination:o,viewport:l,displacedBy:x,last:$o,index:h})},X4=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=W4({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:o,viewport:l});if(!u)return null;var f=Ni(u.descriptor.id,i),d=K4({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:f,afterCritical:c}),p=Z4({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:f,viewport:l,afterCritical:c});if(!p)return null;var m=Qu({impact:p,draggable:n,droppable:u,draggables:i,afterCritical:c}),h=Eh({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:h,impact:p,scrollJumpRequest:null}},Jt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},J4=function(t,r){var n=Jt(t);return n?r[n]:null},eA=function(e){var t=e.state,r=e.type,n=J4(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,h=p.droppables;return c?V4({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):X4({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,isOver:o,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Ds(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function dS(e){var t=fr(e.top,e.bottom),r=fr(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function tA(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function rA(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=aa(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:zo(s,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function nA(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Wu(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!tA(t,o))return!1;if(dS(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],f=t[l.crossAxisEnd],d=fr(o[l.crossAxisStart],o[l.crossAxisEnd]),p=d(u),m=d(f);return!p&&!m?!0:p?u<c:f>c});return s.length?s.length===1?s[0].descriptor.id:rA({pageBorderBox:t,draggable:r,candidates:s}):null}var fS=function(t,r){return _r(vl(t,r))},sA=function(e,t){var r=e.frame;return r?fS(t,r.scroll.diff.value):t};function pS(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function aA(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var iA=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,u=xl(n.axis,r.displaceBy),f=u.value,d=t[c.start],p=t[c.end],m=Ku(r,s),h=Ss(m,function(b){var g=b.descriptor.id,v=b.page.borderBox.center[c.line],y=gs(g,l),w=pS({displaced:i,id:g});return y?w?p<=v:d<v-f:w?p<=v+f:d<v}),x=aA({draggable:r,closest:h,inHomeList:ji(r,n)});return Jc({draggable:r,insideDestination:s,destination:n,viewport:o,last:i,displacedBy:u,index:x})},oA=4,lA=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,i=e.insideDestination,o=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=xl(s.axis,t.displaceBy),u=c.value,f=r[l.start],d=r[l.end],p=Ku(t,i),m=Ss(p,function(x){var b=x.descriptor.id,g=x.page.borderBox,v=g[l.size],y=v/oA,w=gs(b,o),N=pS({displaced:n.displaced,id:b});return w?N?d>g[l.start]+y&&d<g[l.end]-y:f>g[l.start]-u+y&&f<g[l.end]-u-y:N?d>g[l.start]+u+y&&d<g[l.end]+u-y:f>g[l.start]+y&&f<g[l.end]-y});if(!m)return null;var h={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}};return h},mS=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=fS(r.page.borderBox,t),u=nA({pageBorderBox:c,draggable:r,droppables:s});if(!u)return S4;var f=s[u],d=Ni(f.descriptor.id,n),p=sA(f,c);return lA({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:i,destination:f,insideDestination:d,afterCritical:l})||iA({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:f,insideDestination:d,last:i.displaced,viewport:o,afterCritical:l})},Ph=function(e,t){var r;return oe({},e,(r={},r[t.descriptor.id]=t,r))},cA=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,i=Jt(r),o=Jt(n);if(!i||i===o)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=Y4(l);return Ph(s,c)},uA=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,i=e.impact,o=cA({previousImpact:s,impact:i,droppables:n}),l=Jt(i);if(!l)return o;var c=n[l];if(ji(t,c)||c.subject.withPlaceholder)return o;var u=uS(c,t,r);return Ph(o,u)},oo=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,f=Yt(u,t.initial.client.selection),d={offset:f,selection:u,borderBoxCenter:vt(t.initial.client.borderBoxCenter,f)},p={selection:vt(d.selection,l.scroll.current),borderBoxCenter:vt(d.borderBoxCenter,l.scroll.current),offset:vt(d.offset,l.scroll.diff.value)},m={client:d,page:p};if(t.phase==="COLLECTING")return oe({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var h=c.draggables[t.critical.draggable.id],x=i||mS({pageOffset:p.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=uA({draggable:h,impact:x,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),g=oe({},t,{current:m,dimensions:{draggables:c.draggables,droppables:b},impact:x,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function dA(e,t){return e.map(function(r){return t[r]})}var hS=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=dA(o.all,n),c=Bo({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return oe({},t,{displaced:c})},gS=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,i=e.viewport,o=e.afterCritical,l=Qu({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:o});return Eh({pageBorderBoxCenter:l,draggable:r,viewport:i})},vS=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&G();var s=t.impact,i=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],f=Jt(s);f||G();var d=c[f],p=hS({impact:s,viewport:i,destination:d,draggables:l}),m=gS({impact:p,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return oo({impact:p,clientSelection:m,state:t,dimensions:o,viewport:i})},fA=function(e){return{index:e.index,droppableId:e.droppableId}},xS=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,i=xl(r.axis,t.displaceBy),o=Ni(r.descriptor.id,n),l=o.indexOf(t);l===-1&&G();var c=o.slice(l+1),u=c.reduce(function(m,h){return m[h.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},d=Bo({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),p={displaced:d,displacedBy:i,at:{type:"REORDER",destination:fA(t.descriptor)}};return{impact:p,afterCritical:f}},pA=function(e,t){return{draggables:e.draggables,droppables:Ph(e.droppables,t)}},mA=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Kc(t.client,r),i=Qc(s,n),o=oe({},t,{placeholder:oe({},t.placeholder,{client:s}),client:s,page:i});return o},hA=function(e){var t=e.frame;return t||G(),t},gA=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=hA(l),u=c.scroll.diff.value,f=vt(s,u),d=mA({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return d})},vA=function(e){var t=e.state,r=e.published,n=r.modified.map(function(y){var w=t.dimensions.droppables[y.droppableId],N=bh(w,y.scroll);return N}),s=oe({},t.dimensions.droppables,{},eS(n)),i=tS(gA({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),o=oe({},t.dimensions.draggables,{},i);r.removals.forEach(function(y){delete o[y]});var l={droppables:s,draggables:o},c=Jt(t.impact),u=c?l.droppables[c]:null,f=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],p=xS({draggable:f,home:d,draggables:o,viewport:t.viewport}),m=p.impact,h=p.afterCritical,x=u&&u.isCombineEnabled?t.impact:m,b=mS({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:t.viewport,afterCritical:h}),g=oe({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var v=oe({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},Cp=function(t){return t.movementMode==="SNAP"},Kd=function(t,r,n){var s=pA(t.dimensions,r);return!Cp(t)||n?oo({state:t,dimensions:s}):vS({state:t,dimensions:s})};function Qd(e){return e.isDragging&&e.movementMode==="SNAP"?oe({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var sx={phase:"IDLE",completed:null,shouldFlush:!1},xA=function(e,t){if(e===void 0&&(e=sx),t.type==="FLUSH")return oe({},sx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&G();var r=t.payload,n=r.critical,s=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:ft},d={client:f,page:{selection:vt(f.selection,i.scroll.initial),borderBoxCenter:vt(f.selection,i.scroll.initial),offset:vt(f.selection,i.scroll.diff.value)}},p=Wu(o.droppables).every(function(X){return!X.isFixedOnPage}),m=xS({draggable:c,home:u,draggables:o.draggables,viewport:i}),h=m.impact,x=m.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:x,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&G();var g=oe({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||G(),vA({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ds(e)||G();var v=t.payload.client;return cs(v,e.current.client.selection)?e:oo({state:e,clientSelection:v,impact:Cp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qd(e);Ds(e)||G();var y=t.payload,w=y.id,N=y.newScroll,j=e.dimensions.droppables[w];if(!j)return e;var E=bh(j,N);return Kd(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ds(e)||G();var C=t.payload,I=C.id,D=C.isEnabled,O=e.dimensions.droppables[I];O||G(),O.isEnabled===D&&G();var P=oe({},O,{isEnabled:D});return Kd(e,P,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ds(e)||G();var R=t.payload,A=R.id,M=R.isCombineEnabled,L=e.dimensions.droppables[A];L||G(),L.isCombineEnabled===M&&G();var F=oe({},L,{isCombineEnabled:M});return Kd(e,F,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ds(e)||G(),e.isWindowScrollAllowed||G();var T=t.payload.newScroll;if(cs(e.viewport.scroll.current,T))return Qd(e);var _=oS(e.viewport,T);return Cp(e)?vS({state:e,viewport:_}):oo({state:e,viewport:_})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ds(e))return e;var B=t.payload.maxScroll;if(cs(B,e.viewport.scroll.max))return e;var W=oe({},e.viewport,{scroll:oe({},e.viewport.scroll,{max:B})});return oe({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&G();var q=eA({state:e,type:t.type});return q?oo({state:e,impact:q.impact,clientSelection:q.clientSelection,scrollJumpRequest:q.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var J=t.payload.reason;e.phase!=="COLLECTING"&&G();var Y=oe({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:J});return Y}if(t.type==="DROP_ANIMATE"){var fe=t.payload,Se=fe.completed,U=fe.dropDuration,ie=fe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||G();var be={phase:"DROP_ANIMATING",completed:Se,dropDuration:U,newHomeClientOffset:ie,dimensions:e.dimensions};return be}if(t.type==="DROP_COMPLETE"){var re=t.payload.completed;return{phase:"IDLE",completed:re,shouldFlush:!1}}return e},yA=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},bA=function(t){return{type:"LIFT",payload:t}},wA=function(t){return{type:"INITIAL_PUBLISH",payload:t}},SA=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},NA=function(){return{type:"COLLECTION_STARTING",payload:null}},jA=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},CA=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},EA=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},yS=function(t){return{type:"MOVE",payload:t}},PA=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},kA=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},IA=function(){return{type:"MOVE_UP",payload:null}},DA=function(){return{type:"MOVE_DOWN",payload:null}},TA=function(){return{type:"MOVE_RIGHT",payload:null}},AA=function(){return{type:"MOVE_LEFT",payload:null}},kh=function(){return{type:"FLUSH",payload:null}},RA=function(t){return{type:"DROP_ANIMATE",payload:t}},Ih=function(t){return{type:"DROP_COMPLETE",payload:t}},bS=function(t){return{type:"DROP",payload:t}},OA=function(t){return{type:"DROP_PENDING",payload:t}},wS=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},_A=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var o=i.payload,l=o.id,c=o.clientSelection,u=o.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(Ih({completed:f.completed})),r().phase!=="IDLE"&&G(),n(kh()),n(yA({draggableId:l,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},p={draggableId:l,scrollOptions:d},m=e.startPublishing(p),h=m.critical,x=m.dimensions,b=m.viewport;n(wA({critical:h,dimensions:x,clientSelection:c,movementMode:u,viewport:b}))}}}},FA=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Dh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Uo={opacity:{drop:0,combining:.7},scale:{drop:.75}},Th={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ps=Th.outOfTheWay+"s "+Dh.outOfTheWay,lo={fluid:"opacity "+Ps,snap:"transform "+Ps+", opacity "+Ps,drop:function(t){var r=t+"s "+Dh.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Ps,placeholder:"height "+Ps+", width "+Ps+", margin "+Ps},ax=function(t){return cs(t,ft)?null:"translate("+t.x+"px, "+t.y+"px)"},Ep={moveTo:ax,drop:function(t,r){var n=ax(t);return n?r?n+" scale("+Uo.scale.drop+")":n:null}},Pp=Th.minDropTime,SS=Th.maxDropTime,MA=SS-Pp,ix=1500,LA=.6,zA=function(e){var t=e.current,r=e.destination,n=e.reason,s=zo(t,r);if(s<=0)return Pp;if(s>=ix)return SS;var i=s/ix,o=Pp+MA*i,l=n==="CANCEL"?o*LA:o;return Number(l.toFixed(2))},$A=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=Jt(t),u=c?l[c]:null,f=l[r.descriptor.droppableId],d=gS({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:u||f,viewport:s}),p=Yt(d,r.client.borderBox.center);return p},BA=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=hS({draggables:t,impact:o,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=oe({},n,{displaced:$o});return{impact:c,didDropInsideDroppable:!0}},UA=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var i=t(),o=s.payload.reason;if(i.phase==="COLLECTING"){r(OA({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&G(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||G();var c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],d=BA({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=d.impact,m=d.didDropInsideDroppable,h=m?Sh(p):null,x=m?Gu(p):null,b={index:c.draggable.index,droppableId:c.droppable.id},g={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:o,mode:i.movementMode,destination:h,combine:x},v=$A({impact:p,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:p},w=!cs(i.current.client.offset,v)||!!g.combine;if(!w){r(Ih({completed:y}));return}var N=zA({current:i.current.client.offset,destination:v,reason:o}),j={newHomeClientOffset:v,dropDuration:N,completed:y};r(RA(j))}}}},NS=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qA(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function HA(e){var t=e.onWindowScroll;function r(){t(NS())}var n=Lo(r),s=qA(n),i=ls;function o(){return i!==ls}function l(){o()&&G(),i=ur(window,[s])}function c(){o()||G(),n.cancel(),i(),i=ls}return{start:l,stop:c,isActive:o}}var VA=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},WA=function(e){var t=HA({onWindowScroll:function(n){e.dispatch(PA({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&VA(n)&&t.stop(),r(n)}}},GA=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return s.wasCalled=function(){return t},s},KA=function(){var e=[],t=function(i){var o=wh(e,function(u){return u.timerId===i});o===-1&&G();var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},QA=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},YA=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},ZA=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},zi=function(t,r){r()},Wl=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Yd=function(t,r,n,s){if(!t){n(s(r));return}var i=GA(n),o={announce:i};t(r,o),i.wasCalled()||n(s(r))},XA=function(e,t){var r=KA(),n=null,s=function(p,m){n&&G(),zi("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var x={draggableId:p,mode:m};h(x)}})},i=function(p,m){n&&G(),zi("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(Wl(p,m))})},o=function(p,m){n&&G();var h=Wl(p,m);n={mode:m,lastCritical:p,lastLocation:h.source,lastCombine:null},r.add(function(){zi("onDragStart",function(){return Yd(e().onDragStart,h,t,pc.onDragStart)})})},l=function(p,m){var h=Sh(m),x=Gu(m);n||G();var b=!ZA(p,n.lastCritical);b&&(n.lastCritical=p);var g=!QA(n.lastLocation,h);g&&(n.lastLocation=h);var v=!YA(n.lastCombine,x);if(v&&(n.lastCombine=x),!(!b&&!g&&!v)){var y=oe({},Wl(p,n.mode),{combine:x,destination:h});r.add(function(){zi("onDragUpdate",function(){return Yd(e().onDragUpdate,y,t,pc.onDragUpdate)})})}},c=function(){n||G(),r.flush()},u=function(p){n||G(),n=null,zi("onDragEnd",function(){return Yd(e().onDragEnd,p,t,pc.onDragEnd)})},f=function(){if(n){var p=oe({},Wl(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:c,drop:u,abort:f}},JA=function(e,t){var r=XA(e,t);return function(n){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),s(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},eR=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&G(),e.dispatch(Ih({completed:n.completed}))}}},tR=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(wS())}};r=requestAnimationFrame(function(){r=null,t=ur(window,[o])})}}}},rR=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},nR=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},sR=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},aR=function(e){return function(t){return function(r){return function(n){if(sR(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&G(),e.start(s);return}r(n),e.scroll(t.getState())}}}},iR=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(bS({reason:n.reason})))}}}},oR=Pb,lR=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,o=e.autoScroller;return Eb(xA,oR(qk(FA(n),rR(t),_A(t),UA,eR,tR,iR,aR(o),WA,nR(r),JA(s,i))))},Zd=function(){return{additions:{},removals:{},modified:{}}};function cR(e){var t=e.registry,r=e.callbacks,n=Zd(),s=null,i=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,d=f.additions,p=f.removals,m=f.modified,h=Object.keys(d).map(function(g){return t.draggable.getById(g).getDimension(ft)}).sort(function(g,v){return g.descriptor.index-v.descriptor.index}),x=Object.keys(m).map(function(g){var v=t.droppable.getById(g),y=v.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),b={additions:h,removals:Object.keys(p),modified:x};n=Zd(),r.publish(b)}))},o=function(f){var d=f.descriptor.id;n.additions[d]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},l=function(f){var d=f.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Zd())};return{add:o,remove:l,stop:c}}var jS=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,i=Yt({x:r,y:t},{x:s,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},CS=function(){var e=document.documentElement;return e||G(),e},ES=function(){var e=CS(),t=jS({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},uR=function(){var e=NS(),t=ES(),r=e.y,n=e.x,s=CS(),i=s.clientWidth,o=s.clientHeight,l=n+i,c=r+o,u=_r({top:r,left:n,right:l,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:ft,displacement:ft}}};return f},dR=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=uR(),i=s.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(i)}),u={draggables:tS(c),droppables:eS(l)},f={dimensions:u,critical:t,viewport:s};return f};function ox(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var fR=function(e,t){var r=null,n=cR({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(m,h){e.droppable.exists(m)||G(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=function(m,h){r&&(e.droppable.exists(m)||G(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=function(m,h){r&&(e.droppable.exists(m)||G(),t.updateDroppableScroll({id:m,newScroll:h}))},l=function(m,h){r&&e.droppable.getById(m).callbacks.scroll(h)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(h){return h.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(m){r||G();var h=r.critical.draggable;m.type==="ADDITION"&&ox(e,h,m.value)&&n.add(m.value),m.type==="REMOVAL"&&ox(e,h,m.value)&&n.remove(m.value)},f=function(m){r&&G();var h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),b={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(u);return r={critical:b,unsubscribe:g},dR({critical:b,registry:e,scrollOptions:m.scrollOptions})},d={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:f,stopPublishing:c};return d},PS=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},pR=function(e){window.scrollBy(e.x,e.y)},mR=dt(function(e){return Wu(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),hR=function(t,r){var n=Ss(mR(r),function(s){return s.frame||G(),dS(s.frame.pageMarginBox)(t)});return n},gR=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var i=hR(t,n);return i},us={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},vR=function(e,t){var r=e[t.size]*us.startFromPercentage,n=e[t.size]*us.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},kS=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var i=n-t,o=i/s;return o},Ah=1,xR=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return us.maxPixelScroll;if(e===t.startScrollingFrom)return Ah;var r=kS({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=us.maxPixelScroll*us.ease(n);return Math.ceil(s)},lx=us.durationDampening.accelerateAt,cx=us.durationDampening.stopDampeningAt,yR=function(e,t){var r=t,n=cx,s=Date.now(),i=s-r;if(i>=cx)return e;if(i<lx)return Ah;var o=kS({startOfRange:lx,endOfRange:n,current:i}),l=e*us.ease(o);return Math.ceil(l)},ux=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=xR(t,r);return i===0?0:s?Math.max(yR(i,n),Ah):i},dx=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,o=vR(t,s),l=r[s.end]<r[s.start];return l?ux({distanceToEdge:r[s.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*ux({distanceToEdge:r[s.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},bR=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,i=r.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}},wR=X1(function(e){return e===0?0:e}),IS=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,i=e.shouldUseTimeDampening,o={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=dx({container:r,distanceToEdges:o,dragStartTime:t,axis:Nh,shouldUseTimeDampening:i}),c=dx({container:r,distanceToEdges:o,dragStartTime:t,axis:sS,shouldUseTimeDampening:i}),u=wR({x:c,y:l});if(cs(u,ft))return null;var f=bR({container:r,subject:n,proposedScroll:u});return f?cs(f,ft)?null:f:null},SR=X1(function(e){return e===0?0:e>0?1:-1}),Rh=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,i=vt(r,s),o={x:e(i.x,n.x),y:e(i.y,n.y)};return cs(o,ft)?null:o}}(),DS=function(t){var r=t.max,n=t.current,s=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=SR(s),l=Rh({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Oh=function(t,r){return DS({current:t.scroll.current,max:t.scroll.max,change:r})},NR=function(t,r){if(!Oh(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return Rh({current:s,max:n,change:r})},_h=function(t,r){var n=t.frame;return n?DS({current:n.scroll.current,max:n.scroll.max,change:r}):!1},jR=function(t,r){var n=t.frame;return!n||!_h(t,r)?null:Rh({current:n.scroll.current,max:n.scroll.max,change:r})},CR=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=IS({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Oh(t,o)?o:null},ER=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=IS({dragStartTime:s,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&_h(t,l)?l:null},fx=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,f=CR({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(f){s(f);return}}var d=gR({center:o,destination:Jt(t.impact),droppables:t.dimensions.droppables});if(d){var p=ER({dragStartTime:r,droppable:d,subject:c,center:o,shouldUseTimeDampening:n});p&&i(d.descriptor.id,p)}},PR=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Lo(t),s=Lo(r),i=null,o=function(f){i||G();var d=i,p=d.shouldUseTimeDampening,m=d.dragStartTime;fx({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:p})},l=function(f){i&&G();var d=Date.now(),p=!1,m=function(){p=!0};fx({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:d,shouldUseTimeDampening:p},p&&o(f)},c=function(){i&&(n.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:o}},kR=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,f){var d=vt(u.current.client.selection,f);t({client:d})},i=function(u,f){if(!_h(u,f))return f;var d=jR(u,f);if(!d)return r(u.descriptor.id,f),null;var p=Yt(f,d);r(u.descriptor.id,p);var m=Yt(f,p);return m},o=function(u,f,d){if(!u||!Oh(f,d))return d;var p=NR(f,d);if(!p)return n(d),null;var m=Yt(d,p);n(m);var h=Yt(d,m);return h},l=function(u){var f=u.scrollJumpRequest;if(f){var d=Jt(u.impact);d||G();var p=i(u.dimensions.droppables[d],f);if(p){var m=u.viewport,h=o(u.isWindowScrollAllowed,m,p);h&&s(u,h)}}};return l},IR=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=PR({scrollWindow:r,scrollDroppable:t}),i=kR({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:o,start:s.start,stop:s.stop};return l},li="data-rbd",ci=function(){var e=li+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),kp=function(){var e=li+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),DR=function(){var e=li+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),px={contextId:li+"-scroll-container-context-id"},TR=function(t){return function(r){return"["+r+'="'+t+'"]'}},$i=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},AR="pointer-events: none;",RR=function(e){var t=TR(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ci.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:AR,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+lo.outOfTheWay+`;
    `;return{selector:t(kp.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(DR.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,s,i];return{always:$i(o,"always"),resting:$i(o,"resting"),dragging:$i(o,"dragging"),dropAnimating:$i(o,"dropAnimating"),userCancel:$i(o,"userCancel")}},er=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?te.useLayoutEffect:te.useEffect,Xd=function(){var t=document.querySelector("head");return t||G(),t},mx=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function OR(e,t){var r=Pe(function(){return RR(e)},[e]),n=te.useRef(null),s=te.useRef(null),i=ne(dt(function(d){var p=s.current;p||G(),p.textContent=d}),[]),o=ne(function(d){var p=n.current;p||G(),p.textContent=d},[]);er(function(){!n.current&&!s.current||G();var d=mx(t),p=mx(t);return n.current=d,s.current=p,d.setAttribute(li+"-always",e),p.setAttribute(li+"-dynamic",e),Xd().appendChild(d),Xd().appendChild(p),o(r.always),i(r.resting),function(){var m=function(x){var b=x.current;b||G(),Xd().removeChild(b),x.current=null};m(n),m(s)}},[t,o,i,r.always,r.resting,e]);var l=ne(function(){return i(r.dragging)},[i,r.dragging]),c=ne(function(d){if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=ne(function(){s.current&&i(r.resting)},[i,r.resting]),f=Pe(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return f}var TS=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Yu(e){return e instanceof TS(e).HTMLElement}function _R(e,t){var r="["+ci.contextId+'="'+e+'"]',n=J1(document.querySelectorAll(r));if(!n.length)return null;var s=Ss(n,function(i){return i.getAttribute(ci.draggableId)===t});return!s||!Yu(s)?null:s}function FR(e){var t=te.useRef({}),r=te.useRef(null),n=te.useRef(null),s=te.useRef(!1),i=ne(function(p,m){var h={id:p,focus:m};return t.current[p]=h,function(){var b=t.current,g=b[p];g!==h&&delete b[p]}},[]),o=ne(function(p){var m=_R(e,p);m&&m!==document.activeElement&&m.focus()},[e]),l=ne(function(p,m){r.current===p&&(r.current=m)},[]),c=ne(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&o(p)}))},[o]),u=ne(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(ci.draggableId)===p&&(r.current=p)},[]);er(function(){return s.current=!0,function(){s.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var f=Pe(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return f}function MR(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var m=t.indexOf(d);m!==-1&&t.splice(m,1)}}function n(d){t.length&&t.forEach(function(p){return p(d)})}function s(d){return e.draggables[d]||null}function i(d){var p=s(d);return p||G(),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var h=e.draggables[m.descriptor.id];h&&h.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,h=s(m);h&&p.uniqueId===h.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:i,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Xc(e.draggables).filter(function(m){return m.descriptor.type===p})}};function l(d){return e.droppables[d]||null}function c(d){var p=l(d);return p||G(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=l(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return Xc(e.droppables).filter(function(m){return m.descriptor.type===p})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:f}}function LR(){var e=Pe(MR,[]);return te.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Fh=Ue.createContext(null),eu=function(){var e=document.body;return e||G(),e},zR={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},$R=function(t){return"rbd-announcement-"+t};function BR(e){var t=Pe(function(){return $R(e)},[e]),r=te.useRef(null);te.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),oe(i.style,zR),eu().appendChild(i),function(){setTimeout(function(){var c=eu();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=ne(function(s){var i=r.current;if(i){i.textContent=s;return}},[]);return n}var UR=0,qR={separator:"::"};function Mh(e,t){return t===void 0&&(t=qR),Pe(function(){return""+e+t.separator+UR++},[t.separator,e])}function HR(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function VR(e){var t=e.contextId,r=e.text,n=Mh("hidden-text",{separator:"-"}),s=Pe(function(){return HR({contextId:t,uniqueId:n})},[n,t]);return te.useEffect(function(){var o=document.createElement("div");return o.id=s,o.textContent=r,o.style.display="none",eu().appendChild(o),function(){var c=eu();c.contains(o)&&c.removeChild(o)}},[s,r]),s}var Zu=Ue.createContext(null);function AS(e){var t=te.useRef(e);return te.useEffect(function(){t.current=e}),t}function WR(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&G();var l={abandon:o};return e=l,l}function s(){e||G(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}var GR=9,KR=13,Lh=27,RS=32,QR=33,YR=34,ZR=35,XR=36,JR=37,eO=38,tO=39,rO=40,Gl,nO=(Gl={},Gl[KR]=!0,Gl[GR]=!0,Gl),OS=function(e){nO[e.keyCode]&&e.preventDefault()},Xu=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ss(t,function(n){return"on"+n in document});return r||e}(),_S=0,hx=5;function sO(e,t){return Math.abs(t.x-e.x)>=hx||Math.abs(t.y-e.y)>=hx}var gx={type:"IDLE"};function aO(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===_S){var f={x:c,y:u},d=n();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(f);return}d.type!=="PENDING"&&G();var p=d.point;if(sO(p,f)){o.preventDefault();var m=d.actions.fluidLift(f);s({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===Lh){o.preventDefault(),t();return}OS(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&G(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Xu,fn:t}]}function iO(e){var t=te.useRef(gx),r=te.useRef(ls),n=Pe(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===_S&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var p=e.findClosestDraggableId(d);if(p){var m=e.tryGetLock(p,o,{sourceEvent:d});if(m){d.preventDefault();var h={x:d.clientX,y:d.clientY};r.current(),u(m,h)}}}}}},[e]),s=Pe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var p=e.findClosestDraggableId(d);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&d.preventDefault())}}}}},[e]),i=ne(function(){var d={passive:!1,capture:!0};r.current=ur(window,[s,n],d)},[s,n]),o=ne(function(){var f=t.current;f.type!=="IDLE"&&(t.current=gx,r.current(),i())},[i]),l=ne(function(){var f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),c=ne(function(){var d={capture:!0,passive:!1},p=aO({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});r.current=ur(window,p,d)},[l,o]),u=ne(function(d,p){t.current.type!=="IDLE"&&G(),t.current={type:"PENDING",point:p,actions:d},c()},[c]);er(function(){return i(),function(){r.current()}},[i])}var ma;function oO(){}var lO=(ma={},ma[YR]=!0,ma[QR]=!0,ma[XR]=!0,ma[ZR]=!0,ma);function cO(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Lh){i.preventDefault(),r();return}if(i.keyCode===RS){i.preventDefault(),n();return}if(i.keyCode===rO){i.preventDefault(),e.moveDown();return}if(i.keyCode===eO){i.preventDefault(),e.moveUp();return}if(i.keyCode===tO){i.preventDefault(),e.moveRight();return}if(i.keyCode===JR){i.preventDefault(),e.moveLeft();return}if(lO[i.keyCode]){i.preventDefault();return}OS(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Xu,fn:r}]}function uO(e){var t=te.useRef(oO),r=Pe(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==RS)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,f,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function f(){c||G(),c=!1,t.current(),n()}t.current=ur(window,cO(u,f),{capture:!0,passive:!1})}}},[e]),n=ne(function(){var i={passive:!1,capture:!0};t.current=ur(window,[r],i)},[r]);er(function(){return n(),function(){t.current()}},[n])}var Jd={type:"IDLE"},dO=120,fO=.15;function pO(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===Lh&&s.preventDefault(),t()}},{eventName:Xu,fn:t}]}function mO(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,f={x:c,y:u};i.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&G();var l=i.touches[0];if(l){var c=l.force>=fO;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Xu,fn:t}]}function hO(e){var t=te.useRef(Jd),r=te.useRef(ls),n=ne(function(){return t.current},[]),s=ne(function(m){t.current=m},[]),i=Pe(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var h=e.findClosestDraggableId(m);if(h){var x=e.tryGetLock(h,l,{sourceEvent:m});if(x){var b=m.touches[0],g=b.clientX,v=b.clientY,y={x:g,y:v};r.current(),d(x,y)}}}}}},[e]),o=ne(function(){var m={capture:!0,passive:!1};r.current=ur(window,[i],m)},[i]),l=ne(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Jd),r.current(),o())},[o,s]),c=ne(function(){var p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=ne(function(){var m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},x=ur(window,mO(h),m),b=ur(window,pO(h),m);r.current=function(){x(),b()}},[c,n,l]),f=ne(function(){var m=n();m.type!=="PENDING"&&G();var h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[n,s]),d=ne(function(m,h){n().type!=="IDLE"&&G();var x=setTimeout(f,dO);s({type:"PENDING",point:h,actions:m,longPressTimerId:x}),u()},[u,n,s,f]);er(function(){return o(),function(){r.current();var h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(Jd))}},[n,o,s]),er(function(){var m=ur(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var gO={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function FS(e,t){if(t==null)return!1;var r=!!gO[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:FS(e,t.parentElement)}function vO(e,t){var r=t.target;return Yu(r)?FS(e,r):!1}var xO=function(e){return _r(e.getBoundingClientRect()).center};function yO(e){return e instanceof TS(e).Element}var bO=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ss(t,function(n){return n in Element.prototype});return r||e}();function MS(e,t){return e==null?null:e[bO](t)?e:MS(e.parentElement,t)}function wO(e,t){return e.closest?e.closest(t):MS(e,t)}function SO(e){return"["+ci.contextId+'="'+e+'"]'}function NO(e,t){var r=t.target;if(!yO(r))return null;var n=SO(e),s=wO(r,n);return!s||!Yu(s)?null:s}function jO(e,t){var r=NO(e,t);return r?r.getAttribute(ci.draggableId):null}function CO(e,t){var r="["+kp.contextId+'="'+e+'"]',n=J1(document.querySelectorAll(r)),s=Ss(n,function(i){return i.getAttribute(kp.id)===t});return!s||!Yu(s)?null:s}function EO(e){e.preventDefault()}function Kl(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function LS(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!PS(r.getState(),s))}function PO(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=LS({lockAPI:t,store:n,registry:s,draggableId:i});if(!c)return null;var u=s.draggable.getById(i),f=CO(r,u.descriptor.id);if(!f||l&&!u.options.canDragInteractiveElements&&vO(f,l))return null;var d=t.claim(o||ls),p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function h(){return t.isActive(d)}function x(j,E){Kl({expected:j,phase:p,isLockActive:h,shouldWarn:!0})&&n.dispatch(E())}var b=x.bind(null,"DRAGGING");function g(j){function E(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(E(),p!=="PRE_DRAG"&&G()),n.dispatch(bA(j.liftActionArgs)),p="DRAGGING";function C(I,D){if(D===void 0&&(D={shouldBlockNextClick:!1}),j.cleanup(),D.shouldBlockNextClick){var O=ur(window,[{eventName:"click",fn:EO,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}E(),n.dispatch(bS({reason:I}))}return oe({isActive:function(){return Kl({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(D){return C("DROP",D)},cancel:function(D){return C("CANCEL",D)}},j.actions)}function v(j){var E=Lo(function(I){b(function(){return yS({client:I})})}),C=g({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return oe({},C,{move:E})}function y(){var j={moveUp:function(){return b(IA)},moveRight:function(){return b(TA)},moveDown:function(){return b(DA)},moveLeft:function(){return b(AA)}};return g({liftActionArgs:{id:i,clientSelection:xO(f),movementMode:"SNAP"},cleanup:ls,actions:j})}function w(){var j=Kl({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0});j&&t.release()}var N={isActive:function(){return Kl({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:v,snapLift:y,abort:w};return N}var kO=[iO,uO,hO];function IO(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?kO:[],s||[]),l=te.useState(function(){return WR()})[0],c=ne(function(v,y){v.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);er(function(){var v=r.getState(),y=r.subscribe(function(){var w=r.getState();c(v,w),v=w});return y},[l,r,c]),er(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=ne(function(g){return LS({lockAPI:l,registry:n,store:r,draggableId:g})},[l,n,r]),f=ne(function(g,v,y){return PO({lockAPI:l,registry:n,contextId:t,store:r,draggableId:g,forceSensorStop:v,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,n,r]),d=ne(function(g){return jO(t,g)},[t]),p=ne(function(g){var v=n.draggable.findById(g);return v?v.options:null},[n.draggable]),m=ne(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(kh()))},[l,r]),h=ne(l.isClaimed,[l]),x=Pe(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:h}},[u,f,d,p,m,h]),b=0;b<o.length;b++)o[b](x)}var DO=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Bi(e){return e.current||G(),e.current}function TO(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,o=te.useRef(null),l=AS(e),c=ne(function(){return DO(l.current)},[l]),u=BR(t),f=VR({contextId:t,text:i}),d=OR(t,s),p=ne(function(I){Bi(o).dispatch(I)},[]),m=Pe(function(){return Og({publishWhileDragging:SA,updateDroppableScroll:jA,updateDroppableIsEnabled:CA,updateDroppableIsCombineEnabled:EA,collectionStarting:NA},p)},[p]),h=LR(),x=Pe(function(){return fR(h,m)},[h,m]),b=Pe(function(){return IR(oe({scrollWindow:pR,scrollDroppable:x.scrollDroppable},Og({move:yS},p)))},[x.scrollDroppable,p]),g=FR(t),v=Pe(function(){return lR({announce:u,autoScroller:b,dimensionMarshal:x,focusMarshal:g,getResponders:c,styleMarshal:d})},[u,b,x,g,c,d]);o.current=v;var y=ne(function(){var I=Bi(o),D=I.getState();D.phase!=="IDLE"&&I.dispatch(kh())},[]),w=ne(function(){var I=Bi(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),N=Pe(function(){return{isDragging:w,tryAbort:y}},[w,y]);r(N);var j=ne(function(I){return PS(Bi(o).getState(),I)},[]),E=ne(function(){return Ds(Bi(o).getState())},[]),C=Pe(function(){return{marshal:x,focus:g,contextId:t,canLift:j,isMovementAllowed:E,dragHandleUsageInstructionsId:f,registry:h}},[t,x,f,g,j,E,h]);return IO({contextId:t,store:v,registry:h,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),te.useEffect(function(){return y},[y]),Ue.createElement(Zu.Provider,{value:C},Ue.createElement(Kk,{context:Fh,store:v},e.children))}var AO=0;function RO(){return Pe(function(){return""+AO++},[])}function OO(e){var t=RO(),r=e.dragHandleUsageInstructions||pc.dragHandleUsageInstructions;return Ue.createElement(u4,null,function(n){return Ue.createElement(TO,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var zS=function(t){return function(r){return t===r}},_O=zS("scroll"),FO=zS("auto"),vx=function(t,r){return r(t.overflowX)||r(t.overflowY)},MO=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return vx(n,_O)||vx(n,FO)},LO=function(){return!1},zO=function e(t){return t==null?null:t===document.body?LO()?t:null:t===document.documentElement?null:MO(t)?t:e(t.parentElement)},Ip=function(e){return{x:e.scrollLeft,y:e.scrollTop}},$O=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},BO=function(e){var t=zO(e),r=$O(e);return{closestScrollable:t,isFixedOnPage:r}},UO=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var m=c.scrollSize,h=c.client,x=jS({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:ft,displacement:ft}}}}(),f=i==="vertical"?Nh:sS,d=oi({page:l,withPlaceholder:null,axis:f,frame:u}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:o,page:l,frame:u,subject:d};return p},qO=function(t,r){var n=K1(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=s+r.scrollHeight,l=i+r.scrollWidth,c={top:s,right:l,bottom:o,left:i},u=xh(c,n.border),f=yh({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},HO=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=qO(t,u),d=Qc(f,s),p=function(){if(!u)return null;var h=K1(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:h,page:Qc(h,s),scroll:Ip(u),scrollSize:x,shouldClipSubject:c}}(),m=UO({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:d,closest:p});return m},VO={passive:!1},WO={passive:!0},xx=function(e){return e.shouldPublishImmediately?VO:WO};function tu(e){var t=te.useContext(e);return t||G(),t}var Ql=function(t){return t&&t.env.closestScrollable||null};function GO(e){var t=te.useRef(null),r=tu(Zu),n=Mh("droppable"),s=r.registry,i=r.marshal,o=AS(e),l=Pe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=te.useRef(l),u=Pe(function(){return dt(function(w,N){t.current||G();var j={x:w,y:N};i.updateDroppableScroll(l.id,j)})},[l.id,i]),f=ne(function(){var w=t.current;return!w||!w.env.closestScrollable?ft:Ip(w.env.closestScrollable)},[]),d=ne(function(){var w=f();u(w.x,w.y)},[f,u]),p=Pe(function(){return Lo(d)},[d]),m=ne(function(){var w=t.current,N=Ql(w);w&&N||G();var j=w.scrollOptions;if(j.shouldPublishImmediately){d();return}p()},[p,d]),h=ne(function(w,N){t.current&&G();var j=o.current,E=j.getDroppableRef();E||G();var C=BO(E),I={ref:E,descriptor:l,env:C,scrollOptions:N};t.current=I;var D=HO({ref:E,descriptor:l,env:C,windowScroll:w,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),O=C.closestScrollable;return O&&(O.setAttribute(px.contextId,r.contextId),O.addEventListener("scroll",m,xx(I.scrollOptions))),D},[r.contextId,l,m,o]),x=ne(function(){var w=t.current,N=Ql(w);return w&&N||G(),Ip(N)},[]),b=ne(function(){var w=t.current;w||G();var N=Ql(w);t.current=null,N&&(p.cancel(),N.removeAttribute(px.contextId),N.removeEventListener("scroll",m,xx(w.scrollOptions)))},[m,p]),g=ne(function(w){var N=t.current;N||G();var j=Ql(N);j||G(),j.scrollTop+=w.y,j.scrollLeft+=w.x},[]),v=Pe(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:x,dragStopped:b,scroll:g}},[b,h,x,g]),y=Pe(function(){return{uniqueId:n,descriptor:l,callbacks:v}},[v,l,n]);er(function(){return c.current=y.descriptor,s.droppable.register(y),function(){t.current&&b(),s.droppable.unregister(y)}},[v,l,b,y,i,s.droppable]),er(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),er(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function ef(){}var yx={width:0,height:0,margin:g4},KO=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?yx:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},QO=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,i=KO({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?lo.placeholder:null}};function YO(e){var t=te.useRef(null),r=ne(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=te.useState(e.animate==="open"),c=l[0],u=l[1];te.useEffect(function(){return c?n!=="open"?(r(),u(!1),ef):t.current?ef:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):ef},[n,c,r]);var f=ne(function(p){p.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),d=QO({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Ue.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})}var ZO=Ue.memo(YO),zh=Ue.createContext(null),XO=function(e){Cb(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Ue.PureComponent),bx={dragging:5e3,dropAnimating:4500},JO=function(t,r){return r?lo.drop(r.duration):t?lo.snap:lo.fluid},e3=function(t,r){return t?r?Uo.opacity.drop:Uo.opacity.combining:null},t3=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function r3(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,i=e.dropping,o=!!s,l=t3(e),c=!!i,u=c?Ep.drop(n,o):Ep.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:JO(l,i),transform:u,opacity:e3(o,c),zIndex:c?bx.dropAnimating:bx.dragging,pointerEvents:"none"};return f}function n3(e){return{transform:Ep.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function s3(e){return e.type==="DRAGGING"?r3(e):n3(e)}function a3(e,t,r){r===void 0&&(r=ft);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=G1(s,n),o=Qc(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return u}function i3(e){var t=Mh("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Pe(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),u=ne(function(m){var h=s();return h||G(),a3(r,h,m)},[r,s]),f=Pe(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),d=te.useRef(f),p=te.useRef(!0);er(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),er(function(){if(p.current){p.current=!1;return}var m=d.current;d.current=f,n.draggable.update(f,m)},[f,n.draggable])}function o3(e){e.preventDefault()}function l3(e){var t=te.useRef(null),r=ne(function(I){t.current=I},[]),n=ne(function(){return t.current},[]),s=tu(Zu),i=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=tu(zh),u=c.type,f=c.droppableId,d=Pe(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),p=e.children,m=e.draggableId,h=e.isEnabled,x=e.shouldRespectForcePress,b=e.canDragInteractiveElements,g=e.isClone,v=e.mapped,y=e.dropAnimationFinished;if(!g){var w=Pe(function(){return{descriptor:d,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:x,isEnabled:h}},[d,l,n,b,x,h]);i3(w)}var N=Pe(function(){return h?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:o3}:null},[i,o,m,h]),j=ne(function(I){v.type==="DRAGGING"&&v.dropping&&I.propertyName==="transform"&&y()},[y,v]),E=Pe(function(){var I=s3(v),D=v.type==="DRAGGING"&&v.dropping?j:null,O={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:I,onTransitionEnd:D},dragHandleProps:N};return O},[i,N,m,v,j,r]),C=Pe(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return p(E,v.snapshot,C)}var $S=function(e,t){return e===t},BS=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},c3=function(t){return t.combine?t.combine.draggableId:null},u3=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function d3(){var e=dt(function(s,i){return{x:s,y:i}}),t=dt(function(s,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=dt(function(s,i,o,l,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:o,forceShouldAnimate:f,snapshot:t(i,l,c,u,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],u=Jt(i.impact),f=u3(i.impact),d=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,u,f,d)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==o.draggableId)return null;var m=o.isClone,h=i.dimensions.draggables[o.draggableId],x=p.result,b=x.mode,g=BS(x),v=c3(x),y=i.dropDuration,w={duration:y,curve:Dh.drop,moveTo:i.newHomeClientOffset,opacity:v?Uo.opacity.drop:null,scale:v?Uo.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:h,dropping:w,draggingOver:g,combineWith:v,mode:b,forceShouldAnimate:null,snapshot:t(b,m,g,v,w)}}}return null};return n}function US(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var f3={mapped:{type:"SECONDARY",offset:ft,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:US(null)}};function p3(){var e=dt(function(o,l){return{x:o,y:l}}),t=dt(US),r=dt(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(ft,l,!0):null},s=function(l,c,u,f){var d=u.displaced.visible[l],p=!!(f.inVirtualList&&f.effected[l]),m=Gu(u),h=m&&m.draggableId===l?c:null;if(!d){if(!p)return n(h);if(u.displaced.invisible[l])return null;var x=Si(f.displacedBy.point),b=e(x.x,x.y);return r(b,h,!0)}if(p)return n(h);var g=u.displacedBy.point,v=e(g.x,g.y);return r(v,h,d.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var m3=function(){var t=d3(),r=p3(),n=function(i,o){return t(i,o)||r(i,o)||f3};return n},h3={dropAnimationFinished:wS},g3=qb(m3,h3,null,{context:Fh,pure:!0,areStatePropsEqual:$S})(l3);function qS(e){var t=tu(zh),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Ue.createElement(g3,e)}function v3(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Ue.createElement(qS,oe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function x3(e){var t=te.useContext(Zu);t||G();var r=t.contextId,n=t.isMovementAllowed,s=te.useRef(null),i=te.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,f=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,h=e.snapshot,x=e.useClone,b=e.updateViewportMaxScroll,g=e.getContainerForClone,v=ne(function(){return s.current},[]),y=ne(function(O){s.current=O},[]);ne(function(){return i.current},[]);var w=ne(function(O){i.current=O},[]),N=ne(function(){n()&&b({maxScroll:ES()})},[n,b]);GO({droppableId:l,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:v});var j=Ue.createElement(XO,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(O){var P=O.onClose,R=O.data,A=O.animate;return Ue.createElement(ZO,{placeholder:R,onClose:P,innerRef:w,animate:A,contextId:r,onTransitionEnd:N})}),E=Pe(function(){return{innerRef:y,placeholder:j,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,j,y]),C=x?x.dragging.draggableId:null,I=Pe(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);function D(){if(!x)return null;var O=x.dragging,P=x.render,R=Ue.createElement(qS,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(A,M){return P(A,M,O)});return JT.createPortal(R,g())}return Ue.createElement(zh.Provider,{value:I},o(E,h),D())}var tf=function(t,r){return t===r.droppable.type},wx=function(t,r){return r.draggables[t.draggable.id]},y3=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=oe({},t,{shouldAnimatePlaceholder:!1}),n=dt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),s=dt(function(o,l,c,u,f,d){var p=f.descriptor.id,m=f.descriptor.droppableId===o;if(m){var h=d?{render:d,dragging:n(f.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:h}}if(!l)return r;if(!u)return t;var b={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(l,c){var u=c.droppableId,f=c.type,d=!c.isDropDisabled,p=c.renderClone;if(l.isDragging){var m=l.critical;if(!tf(f,m))return r;var h=wx(m,l.dimensions),x=Jt(l.impact)===u;return s(u,d,x,x,h,p)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!tf(f,b.critical))return r;var g=wx(b.critical,l.dimensions);return s(u,d,BS(b.result)===u,Jt(b.impact)===u,g,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!tf(f,v.critical))return r;var y=Jt(v.impact)===u,w=!!(v.impact.at&&v.impact.at.type==="COMBINE"),N=v.critical.droppable.id===u;return y?w?t:r:N?t:r}return r};return i},b3={updateViewportMaxScroll:kA};function w3(){return document.body||G(),document.body}var S3={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:w3},HS=qb(y3,b3,null,{context:Fh,pure:!0,areStatePropsEqual:$S})(x3);HS.defaultProps=S3;const N3=({onImagesSelected:e,onImagesWithLabelsSelected:t,buttonLabel:r="Upload Images",className:n,bucketName:s="gallery",folderPath:i,acceptedFileTypes:o="image/*",maxFileSize:l=10*1024*1024,maxFiles:c=10,currentImages:u=[],currentImagesWithLabels:f=[],enableLabels:d=!1})=>{const[p,m]=S.useState(!1),[h,x]=S.useState(u),[b,g]=S.useState(f),[v,y]=S.useState(null),[w,N]=S.useState({}),j=S.useRef(null),{toast:E}=Ae();K.useEffect(()=>{d?g(f):x(u)},[u,f,d]);const C=async R=>{const A=R.target.files;if(!A||A.length===0)return;const M=Array.from(A),L=d?b.length:h.length;if(L+M.length>c){E({title:"Too many files",description:`Maximum ${c} images allowed. You currently have ${L} images.`,variant:"destructive"});return}for(const F of M)if(F.size>l){const T=Math.round(l/1048576);E({title:"File too large",description:`${F.name} exceeds ${T}MB limit`,variant:"destructive"});return}await I(M)},I=async R=>{m(!0),y(null),N({}),console.log(`Starting upload for ${R.length} file(s)`);try{const A=[];for(let M=0;M<R.length;M++){const L=R[M],F=`${L.name}-${M}`;N(U=>({...U,[F]:0}));const T=L.name.split(".").pop(),_=Date.now(),B=Math.random().toString(36).substring(2,15),W=`${_}-${B}-${M}.${T}`,q=i?`${i}/${W}`:W;if(console.log(`Uploading file ${M+1}/${R.length}:`,q),M===0){const{data:U,error:ie}=await z.storage.listBuckets();if(!ie&&U&&!U.find(re=>re.name===s)){console.log(`Bucket ${s} not found. Creating...`);const{error:re}=await z.storage.createBucket(s,{public:!0,fileSizeLimit:52428800});re&&console.warn("Could not create bucket:",re)}}N(U=>({...U,[F]:50}));const{data:J,error:Y}=await z.storage.from(s).upload(q,L,{cacheControl:"3600",upsert:!0});if(Y)throw console.error(`Upload error for file ${L.name}:`,Y),new Error(`Failed to upload ${L.name}: ${Y.message}`);if(!J)throw new Error(`No data returned from upload for ${L.name}`);const{data:fe}=z.storage.from(s).getPublicUrl(q),Se=fe.publicUrl;A.push(Se),N(U=>({...U,[F]:100})),console.log(`File ${M+1}/${R.length} uploaded successfully:`,Se)}if(d){const M=[...b,...A.map(L=>({url:L,label:""}))];g(M),t&&t(M)}else{const M=[...h,...A];x(M),e(M)}E({title:`${R.length} image${R.length>1?"s":""} uploaded`,description:`Successfully uploaded ${R.length} image${R.length>1?"s":""}`})}catch(A){console.error("Error uploading files:",A),y(A.message||"Upload failed"),E({title:"Upload failed",description:A.message||"There was an error uploading your files. Please try again.",variant:"destructive"})}finally{m(!1),N({})}},D=R=>{if(d){const A=b.filter((M,L)=>L!==R);g(A),t&&t(A)}else{const A=h.filter((M,L)=>L!==R);x(A),e(A)}},O=(R,A)=>{if(!d)return;const M=[...b];M[R]={...M[R],label:A},g(M),t&&t(M)},P=()=>{j.current&&j.current.click()};return a.jsxs("div",{className:`space-y-4 ${n||""}`,children:[a.jsx("input",{ref:j,type:"file",accept:o,onChange:C,multiple:!0,className:"hidden"}),a.jsx($,{type:"button",onClick:P,disabled:p||(d?b.length:h.length)>=c,className:"w-full",variant:"outline",children:p?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ds,{className:"mr-2 h-4 w-4"}),r," (",d?b.length:h.length,"/",c,")"]})}),p&&Object.keys(w).length>0&&a.jsx("div",{className:"space-y-2",children:Object.entries(w).map(([R,A])=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[A,"%"]})]},R))}),v&&a.jsx("p",{className:"text-center text-xs text-red-500",children:v}),(d?b.length>0:h.length>0)&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d?b.map((R,A)=>a.jsxs("div",{className:"relative group border rounded-lg p-3",children:[a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:R.url,alt:`Preview ${A+1}`,className:"w-full h-24 object-cover rounded-md border",onError:M=>{const L=M.target;L.src="/placeholder.svg"}}),a.jsx($,{type:"button",onClick:()=>D(A),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity",size:"icon",children:a.jsx(tn,{size:12})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(di,{size:14,className:"text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Label:"})]}),a.jsx(pe,{type:"text",placeholder:"Enter image label...",value:R.label,onChange:M=>O(A,M.target.value),className:"text-sm"})]})]},A)):h.map((R,A)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:R,alt:`Preview ${A+1}`,className:"w-full h-24 object-cover rounded-md border",onError:M=>{const L=M.target;L.src="/placeholder.svg"}}),a.jsx($,{type:"button",onClick:()=>D(A),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity",size:"icon",children:a.jsx(tn,{size:12})})]},A))})]})},j3=({categoryKey:e,categoryName:t})=>{const[r,n]=S.useState([]),[s,i]=S.useState(!0),[o,l]=S.useState(!1),[c,u]=S.useState(null),{toast:f}=Ae();S.useEffect(()=>{d()},[e]);const d=async()=>{try{i(!0),console.log("[CategoryGallery] Loading images for category:",e);const{data:g,error:v}=await z.from("content_sections").select("content_value").eq("section_key",`category_${e}_images`).single();if(v&&v.code!=="PGRST116")throw console.error("[CategoryGallery] Database error:",v),v;if(g!=null&&g.content_value)try{const y=JSON.parse(g.content_value);console.log("[CategoryGallery] Loaded data:",y);let w=[];Array.isArray(y)&&(y.length>0&&typeof y[0]=="string"?w=y.filter(N=>N&&N.trim()).map((N,j)=>({id:`${j}`,url:N.trim(),order:j,label:""})):w=y.filter(N=>N&&N.url&&N.url.trim()).map((N,j)=>({id:`${j}`,url:N.url.trim(),order:j,label:N.label||""}))),n(w),console.log("[CategoryGallery] Set gallery images:",w)}catch(y){console.error("[CategoryGallery] JSON parse error:",y),n([])}else console.log("[CategoryGallery] No existing images found"),n([])}catch(g){console.error("[CategoryGallery] Error loading images:",g),f({title:"Error",description:`Failed to load gallery images: ${g.message||g}`,variant:"destructive"}),n([])}finally{i(!1)}},p=async g=>{try{l(!0);const v=g.filter(j=>j.url).sort((j,E)=>j.order-E.order).map(j=>({url:j.url,label:j.label||""}));console.log("[CategoryGallery] Saving images with labels:",v);const{data:y,error:w}=await z.from("content_sections").select("id").eq("section_key",`category_${e}_images`).single();if(w&&w.code!=="PGRST116")throw console.error("[CategoryGallery] Error checking existing section:",w),w;let N;if(y?N=await z.from("content_sections").update({content_value:JSON.stringify(v),updated_at:new Date().toISOString()}).eq("section_key",`category_${e}_images`):N=await z.from("content_sections").insert({section_key:`category_${e}_images`,section_name:`Category Images: ${t}`,content_type:"json",content_value:JSON.stringify(v),metadata:{section:"categories"},is_active:!0}),N.error)throw console.error("[CategoryGallery] Database error:",N.error),N.error;console.log("[CategoryGallery] Images saved successfully"),f({title:"Success",description:"Gallery images saved successfully"})}catch(v){console.error("[CategoryGallery] Error saving images:",v),f({title:"Error",description:`Failed to save gallery images: ${v.message||v}`,variant:"destructive"})}finally{l(!1)}},m=async(g,v)=>{if(!g.type.startsWith("image/")){f({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}if(g.size>52428800){f({title:"File too large",description:"Please select an image smaller than 50MB",variant:"destructive"});return}u(v);try{const y=g.name.split(".").pop(),w=`category-${e}-${Date.now()}-${Math.random().toString(36).substring(2)}.${y}`,N=`categories/${e}/${w}`,{error:j}=await z.storage.from("admin-uploads").upload(N,g,{cacheControl:"3600",upsert:!1});if(j)throw j;const{data:E}=z.storage.from("admin-uploads").getPublicUrl(N),C=[...r];v<C.length?C[v]={...C[v],url:E.publicUrl}:C.push({id:Date.now().toString(),url:E.publicUrl,order:C.length}),n(C),await p(C),f({title:"Success",description:"Image uploaded successfully"})}catch(y){console.error("Upload error:",y),f({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{u(null)}},h=()=>{const g={id:Date.now().toString(),url:"",order:r.length};n([...r,g])},x=async g=>{try{console.log("[CategoryGallery] Removing image at index:",g);const v=r.filter((y,w)=>w!==g).map((y,w)=>({...y,order:w,id:w.toString()}));console.log("[CategoryGallery] New images after removal:",v),n(v),await p(v)}catch(v){console.error("[CategoryGallery] Error removing image:",v),f({title:"Error",description:"Failed to remove image",variant:"destructive"})}},b=async g=>{if(g.destination)try{console.log("[CategoryGallery] Reordering images");const v=Array.from(r),[y]=v.splice(g.source.index,1);v.splice(g.destination.index,0,y);const w=v.map((N,j)=>({...N,order:j,id:j.toString()}));console.log("[CategoryGallery] Reordered images:",w),n(w),await p(w)}catch(v){console.error("[CategoryGallery] Error reordering images:",v),f({title:"Error",description:"Failed to reorder images",variant:"destructive"})}};return s?a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Gallery"]})}),a.jsx(ue,{children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(ye,{className:"h-8 w-8 animate-spin"})})})]}):a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[t," Gallery",a.jsxs($,{onClick:h,size:"sm",children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Add Image"]})]})}),a.jsxs(ue,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Multiple Image Upload"}),a.jsx(N3,{onImagesWithLabelsSelected:g=>{const v=g.map((y,w)=>({id:`${Date.now()}-${w}`,url:y.url,label:y.label,order:w}));n(v),p(v)},currentImagesWithLabels:r.map(g=>({url:g.url,label:g.label||""})),buttonLabel:"Upload Multiple Images with Labels",bucketName:"admin-uploads",folderPath:`categories/${e}`,maxFiles:20,enableLabels:!0,className:"border-2 border-dashed border-gray-300 rounded-lg p-4"})]}),a.jsx("div",{className:"border-t border-gray-200 my-6",children:a.jsx("p",{className:"text-center text-sm text-gray-500 -mt-3 bg-white px-4 inline-block",children:"OR use individual upload slots below"})}),a.jsx(OO,{onDragEnd:b,children:a.jsx(HS,{droppableId:"gallery-images",children:g=>a.jsxs("div",{...g.droppableProps,ref:g.innerRef,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.map((v,y)=>a.jsx(v3,{draggableId:v.id,index:y,children:w=>a.jsxs("div",{ref:w.innerRef,...w.draggableProps,className:"border rounded-lg p-4 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{...w.dragHandleProps,children:a.jsx(Aj,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Image ",y+1]}),a.jsx($,{variant:"destructive",size:"sm",onClick:()=>x(y),children:a.jsx(fi,{className:"h-4 w-4"})})]}),v.url?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:v.url,alt:`${t} ${y+1}`,className:"w-full h-32 object-cover rounded"}),v.label&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 rounded-b",children:v.label})]}):a.jsx("div",{className:"w-full h-32 bg-gray-100 rounded flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-gray-400",children:"No image"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{type:"file",accept:"image/*",onChange:N=>{var E;const j=(E=N.target.files)==null?void 0:E[0];j&&m(j,y)},disabled:c===y,className:"w-full"}),a.jsx(pe,{type:"text",placeholder:"Image label (optional)",value:v.label||"",onChange:N=>{const j=[...r];j[y]={...j[y],label:N.target.value},n(j),p(j)},className:"w-full text-sm"})]}),c===y&&a.jsxs("div",{className:"flex items-center justify-center mt-2",children:[a.jsx(ye,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm",children:"Uploading..."})]})]})},v.id)),g.placeholder]})})}),o&&a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(ye,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm",children:"Saving changes..."})]})]})]})},VS=({labels:e,onChange:t,placeholder:r="Add a label (e.g., lauree, matrimoni, compleanno)",disabled:n=!1})=>{const[s,i]=S.useState(""),o=()=>{const u=s.trim();u&&!e.includes(u)&&(t([...e,u]),i(""))},l=u=>{t(e.filter(f=>f!==u))},c=u=>{u.key==="Enter"&&(u.preventDefault(),o())};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ee,{className:"flex items-center gap-2",children:[a.jsx(di,{className:"w-4 h-4"}),"Labels/Tags"]}),e.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((u,f)=>a.jsxs(ot,{variant:"secondary",className:"flex items-center gap-1",children:[u,!n&&a.jsx($,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4 hover:bg-transparent",onClick:()=>l(u),children:a.jsx(tn,{className:"w-3 h-3"})})]},f))}),!n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{value:s,onChange:u=>i(u.target.value),onKeyPress:c,placeholder:r,className:"flex-1"}),a.jsx($,{type:"button",onClick:o,disabled:!s.trim()||e.includes(s.trim()),size:"sm",children:a.jsx(ds,{className:"w-4 h-4"})})]}),e.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No labels added yet. Labels help categorize and organize your items."})]})},C3=({categoryKey:e,categoryName:t})=>{const[r,n]=S.useState([]),[s,i]=S.useState(!0),[o,l]=S.useState(!1),{toast:c}=Ae();S.useEffect(()=>{u()},[e]);const u=async()=>{try{i(!0),console.log("[CategoryLabels] Loading labels for category:",e);const{data:d,error:p}=await z.from("categories").select("labels").eq("slug",e).single();if(p&&p.code!=="PGRST116")throw console.error("[CategoryLabels] Database error:",p),p;if(d!=null&&d.labels){const m=Array.isArray(d.labels)?d.labels:[];console.log("[CategoryLabels] Loaded labels:",m),n(m)}else console.log("[CategoryLabels] No existing labels found"),n([])}catch(d){console.error("[CategoryLabels] Error loading labels:",d),c({title:"Error",description:`Failed to load category labels: ${d.message||d}`,variant:"destructive"}),n([])}finally{i(!1)}},f=async()=>{try{l(!0),console.log("[CategoryLabels] Saving labels for category:",e,r);const{error:d}=await z.from("categories").update({labels:r,updated_at:new Date().toISOString()}).eq("slug",e);if(d)throw console.error("[CategoryLabels] Database error:",d),d;console.log("[CategoryLabels] Labels saved successfully"),c({title:"Success",description:"Category labels saved successfully"})}catch(d){console.error("[CategoryLabels] Error saving labels:",d),c({title:"Error",description:`Failed to save category labels: ${d.message||d}`,variant:"destructive"})}finally{l(!1)}};return s?a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Labels"]})}),a.jsx(ue,{children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(ye,{className:"h-8 w-8 animate-spin"})})})]}):a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Labels"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(VS,{labels:r,onChange:n,placeholder:`Add labels for ${t} (e.g., lauree, matrimoni, compleanno)`,disabled:o}),a.jsx($,{onClick:f,disabled:o,className:"w-full",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving Labels..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Save Labels"]})})]})]})},E3=()=>{const[e,t]=S.useState(!0),[r,n]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState({matrimoni:{explanation:"",features:[]},fiori_piante:{explanation:"",features:[]},fiori_finti:{explanation:"",features:[]},funerali:{explanation:"",features:[]}}),{toast:c}=Ae(),u=[{key:"matrimoni",name:"Matrimoni",title:"Matrimoni"},{key:"fiori_piante",name:"Fiori & Piante",title:"Fiori & Piante"},{key:"fiori_finti",name:"Fiori Finti",title:"Fiori Finti"},{key:"funerali",name:"Funerali",title:"Funerali"}];S.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0),console.log("[CategoriesAdmin] Loading category content...");const{data:g,error:v}=await z.from("content_sections").select("*").contains("metadata",{section:"categories"});if(v)throw console.error("[CategoriesAdmin] Database error:",v),v;console.log("[CategoriesAdmin] Loaded content sections:",g);const y={};u.forEach(w=>{const N=g==null?void 0:g.find(C=>C.section_key===`category_${w.key}_explanation`),j=g==null?void 0:g.find(C=>C.section_key===`category_${w.key}_features`);let E=[];if(j!=null&&j.content_value)try{const C=JSON.parse(j.content_value);E=Array.isArray(C)?C.filter(I=>I&&I.trim()):[]}catch(C){console.error(`[CategoriesAdmin] Error parsing features for ${w.key}:`,C),E=[]}y[w.key]={explanation:(N==null?void 0:N.content_value)||"",features:E},console.log(`[CategoriesAdmin] Content for ${w.key}:`,y[w.key])}),l(y),console.log("[CategoriesAdmin] Category content loaded successfully")}catch(g){console.error("[CategoriesAdmin] Error loading category content:",g),c({title:"Error",description:`Failed to load category content: ${g.message||g}`,variant:"destructive"})}finally{t(!1)}},d=async(g,v)=>{var y;try{n(`${g}_${v}`);const w=o[g];let N;if(v==="explanation")N=w.explanation;else{const O=w.features.filter(P=>P&&P.trim());N=JSON.stringify(O)}console.log(`[CategoriesAdmin] Saving ${v} for ${g}:`,N);const j=`category_${g}_${v}`,E=`${(y=u.find(O=>O.key===g))==null?void 0:y.name} - ${v==="explanation"?"Explanation":"Features"}`,{data:C,error:I}=await z.from("content_sections").select("id").eq("section_key",j).single();if(I&&I.code!=="PGRST116")throw console.error("[CategoriesAdmin] Error checking existing section:",I),I;let D;if(C?D=await z.from("content_sections").update({content_value:N,updated_at:new Date().toISOString()}).eq("section_key",j):D=await z.from("content_sections").insert({section_key:j,section_name:E,content_type:v==="explanation"?"textarea":"json",content_value:N,metadata:{section:"categories"},is_active:!0}),D.error)throw console.error("[CategoriesAdmin] Database error:",D.error),D.error;console.log(`[CategoriesAdmin] ${v} saved successfully for ${g}`),c({title:"Success",description:`${v} saved successfully`})}catch(w){console.error(`[CategoriesAdmin] Error saving ${v}:`,w),c({title:"Error",description:`Failed to save ${v}: ${w.message||w}`,variant:"destructive"})}finally{n(null)}},p=(g,v,y)=>{l(w=>({...w,[g]:{...w[g],[v]:y}}))},m=g=>{const v=[...o[g].features,""];p(g,"features",v)},h=(g,v,y)=>{const w=[...o[g].features];w[v]=y,p(g,"features",w)},x=(g,v)=>{try{console.log(`[CategoriesAdmin] Removing feature at index ${v} for ${g}`);const w=o[g].features.filter((N,j)=>j!==v);console.log("[CategoriesAdmin] Features after removal:",w),p(g,"features",w)}catch(y){console.error("[CategoriesAdmin] Error removing feature:",y),c({title:"Error",description:"Failed to remove feature",variant:"destructive"})}},b=async()=>{i(!0);try{await xu()?(c({title:"Success",description:"Database initialized successfully"}),await f()):c({title:"Error",description:"Failed to initialize database",variant:"destructive"})}catch(g){console.error("Error initializing database:",g),c({title:"Error",description:"Failed to initialize database",variant:"destructive"})}finally{i(!1)}};return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(ye,{className:"h-8 w-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Categories Gallery Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage gallery images, descriptions, and features for each category"})]}),a.jsx($,{onClick:b,disabled:s,variant:"outline",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Initializing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"mr-2 h-4 w-4"}),"Initialize Database"]})})]})}),a.jsxs(el,{defaultValue:"matrimoni",className:"space-y-6",children:[a.jsx(Js,{className:"grid w-full grid-cols-4",children:u.map(g=>a.jsx(Ee,{value:g.key,children:g.title},g.key))}),u.map(g=>{var v,y;return a.jsxs(We,{value:g.key,className:"space-y-6",children:[a.jsx(j3,{categoryKey:g.key,categoryName:g.name}),a.jsx(C3,{categoryKey:g.key,categoryName:g.name}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Description"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx(nn,{value:((v=o[g.key])==null?void 0:v.explanation)||"",onChange:w=>p(g.key,"explanation",w.target.value),rows:6,placeholder:"Enter category description...",className:"min-h-[150px]"}),a.jsx($,{onClick:()=>d(g.key,"explanation"),disabled:r===`${g.key}_explanation`,className:"w-full",children:r===`${g.key}_explanation`?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Save Description"]})})]})]}),a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Features"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-2",children:(y=o[g.key])==null?void 0:y.features.map((w,N)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:j=>h(g.key,N,j.target.value),placeholder:"Enter feature...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),a.jsx($,{variant:"destructive",size:"sm",onClick:()=>x(g.key,N),children:"Remove"})]},N))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>m(g.key),className:"flex-1",children:"Add Feature"}),a.jsx($,{onClick:()=>d(g.key,"features"),disabled:r===`${g.key}_features`,children:r===`${g.key}_features`?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Save Features"]})})]})]})]})]})]},g.key)})]})]})};function Sx(e,[t,r]){return Math.min(r,Math.max(t,e))}function WS(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var P3=[" ","Enter","ArrowUp","ArrowDown"],k3=[" ","Enter"],ia="Select",[Ju,ed,I3]=_x(ia),[Ci,n_]=ui(ia,[I3,vi]),td=vi(),[D3,Ns]=Ci(ia),[T3,A3]=Ci(ia),GS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:p,required:m,form:h}=e,x=td(t),[b,g]=S.useState(null),[v,y]=S.useState(null),[w,N]=S.useState(!1),j=QN(u),[E,C]=co({prop:n,defaultProp:s??!1,onChange:i,caller:ia}),[I,D]=co({prop:o,defaultProp:l,onChange:c,caller:ia}),O=S.useRef(null),P=b?h||!!b.closest("form"):!0,[R,A]=S.useState(new Set),M=Array.from(R).map(L=>L.props.value).join(";");return a.jsx(u0,{...x,children:a.jsxs(D3,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:su(),value:I,onValueChange:D,open:E,onOpenChange:C,dir:j,triggerPointerDownPosRef:O,disabled:p,children:[a.jsx(Ju.Provider,{scope:t,children:a.jsx(T3,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(L=>{A(F=>new Set(F).add(L))},[]),onNativeOptionRemove:S.useCallback(L=>{A(F=>{const T=new Set(F);return T.delete(L),T})},[]),children:r})}),P?a.jsxs(vN,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:d,value:I,onChange:L=>D(L.target.value),disabled:p,form:h,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},M):null]})})};GS.displayName=ia;var KS="SelectTrigger",QS=S.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=td(r),o=Ns(KS,r),l=o.disabled||n,c=st(t,o.onTriggerChange),u=ed(r),f=S.useRef("touch"),[d,p,m]=yN(x=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===o.value),v=bN(b,x,g);v!==void 0&&o.onValueChange(v.value)}),h=x=>{l||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(fu,{asChild:!0,...i,children:a.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xN(o.value)?"":void 0,...s,ref:c,onClick:ve(s.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&h(x)}),onPointerDown:ve(s.onPointerDown,x=>{f.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(h(x),x.preventDefault())}),onKeyDown:ve(s.onKeyDown,x=>{const b=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(b&&x.key===" ")&&P3.includes(x.key)&&(h(),x.preventDefault())})})})});QS.displayName=KS;var YS="SelectValue",ZS=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Ns(YS,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=st(t,c.onValueNodeChange);return pr(()=>{u(f)},[u,f]),a.jsx(Te.span,{...l,ref:d,style:{pointerEvents:"none"},children:xN(c.value)?a.jsx(a.Fragment,{children:o}):i})});ZS.displayName=YS;var R3="SelectIcon",XS=S.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Te.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});XS.displayName=R3;var O3="SelectPortal",JS=e=>a.jsx(_p,{asChild:!0,...e});JS.displayName=O3;var oa="SelectContent",eN=S.forwardRef((e,t)=>{const r=Ns(oa,e.__scopeSelect),[n,s]=S.useState();if(pr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Go.createPortal(a.jsx(tN,{scope:e.__scopeSelect,children:a.jsx(Ju.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(rN,{...e,ref:t})});eN.displayName=oa;var Pr=10,[tN,js]=Ci(oa),_3="SelectContentImpl",F3=Lx("SelectContent.RemoveScroll"),rN=S.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:h,hideWhenDetached:x,avoidCollisions:b,...g}=e,v=Ns(oa,r),[y,w]=S.useState(null),[N,j]=S.useState(null),E=st(t,U=>w(U)),[C,I]=S.useState(null),[D,O]=S.useState(null),P=ed(r),[R,A]=S.useState(!1),M=S.useRef(!1);S.useEffect(()=>{if(y)return Fx(y)},[y]),zx();const L=S.useCallback(U=>{const[ie,...be]=P().map(V=>V.ref.current),[re]=be.slice(-1),X=document.activeElement;for(const V of U)if(V===X||(V==null||V.scrollIntoView({block:"nearest"}),V===ie&&N&&(N.scrollTop=0),V===re&&N&&(N.scrollTop=N.scrollHeight),V==null||V.focus(),document.activeElement!==X))return},[P,N]),F=S.useCallback(()=>L([C,y]),[L,C,y]);S.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:T,triggerPointerDownPosRef:_}=v;S.useEffect(()=>{if(y){let U={x:0,y:0};const ie=re=>{var X,V;U={x:Math.abs(Math.round(re.pageX)-(((X=_.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(re.pageY)-(((V=_.current)==null?void 0:V.y)??0))}},be=re=>{U.x<=10&&U.y<=10?re.preventDefault():y.contains(re.target)||T(!1),document.removeEventListener("pointermove",ie),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",be,{capture:!0})}}},[y,T,_]),S.useEffect(()=>{const U=()=>T(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[T]);const[B,W]=yN(U=>{const ie=P().filter(X=>!X.disabled),be=ie.find(X=>X.ref.current===document.activeElement),re=bN(ie,U,be);re&&setTimeout(()=>re.ref.current.focus())}),q=S.useCallback((U,ie,be)=>{const re=!M.current&&!be;(v.value!==void 0&&v.value===ie||re)&&(I(U),re&&(M.current=!0))},[v.value]),J=S.useCallback(()=>y==null?void 0:y.focus(),[y]),Y=S.useCallback((U,ie,be)=>{const re=!M.current&&!be;(v.value!==void 0&&v.value===ie||re)&&O(U)},[v.value]),fe=n==="popper"?Dp:nN,Se=fe===Dp?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:p,collisionPadding:m,sticky:h,hideWhenDetached:x,avoidCollisions:b}:{};return a.jsx(tN,{scope:r,content:y,viewport:N,onViewportChange:j,itemRefCallback:q,selectedItem:C,onItemLeave:J,itemTextRefCallback:Y,focusSelectedItem:F,selectedItemText:D,position:n,isPositioned:R,searchRef:B,children:a.jsx(Mx,{as:F3,allowPinchZoom:!0,children:a.jsx($x,{asChild:!0,trapped:v.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:ve(s,U=>{var ie;(ie=v.trigger)==null||ie.focus({preventScroll:!0}),U.preventDefault()}),children:a.jsx(Fp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:U=>U.preventDefault(),...g,...Se,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ve(g.onKeyDown,U=>{const ie=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!ie&&U.key.length===1&&W(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let re=P().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(U.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const X=U.target,V=re.indexOf(X);re=re.slice(V+1)}setTimeout(()=>L(re)),U.preventDefault()}})})})})})})});rN.displayName=_3;var M3="SelectItemAlignedPosition",nN=S.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Ns(oa,r),o=js(oa,r),[l,c]=S.useState(null),[u,f]=S.useState(null),d=st(t,E=>f(E)),p=ed(r),m=S.useRef(!1),h=S.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=o,y=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&b&&g){const E=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),D=g.getBoundingClientRect();if(i.dir!=="rtl"){const X=D.left-C.left,V=I.left-X,le=E.left-V,xe=E.width+le,Fe=Math.max(xe,C.width),Ve=window.innerWidth-Pr,Je=Sx(V,[Pr,Math.max(Pr,Ve-Fe)]);l.style.minWidth=xe+"px",l.style.left=Je+"px"}else{const X=C.right-D.right,V=window.innerWidth-I.right-X,le=window.innerWidth-E.right-V,xe=E.width+le,Fe=Math.max(xe,C.width),Ve=window.innerWidth-Pr,Je=Sx(V,[Pr,Math.max(Pr,Ve-Fe)]);l.style.minWidth=xe+"px",l.style.right=Je+"px"}const O=p(),P=window.innerHeight-Pr*2,R=x.scrollHeight,A=window.getComputedStyle(u),M=parseInt(A.borderTopWidth,10),L=parseInt(A.paddingTop,10),F=parseInt(A.borderBottomWidth,10),T=parseInt(A.paddingBottom,10),_=M+L+R+T+F,B=Math.min(b.offsetHeight*5,_),W=window.getComputedStyle(x),q=parseInt(W.paddingTop,10),J=parseInt(W.paddingBottom,10),Y=E.top+E.height/2-Pr,fe=P-Y,Se=b.offsetHeight/2,U=b.offsetTop+Se,ie=M+L+U,be=_-ie;if(ie<=Y){const X=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-x.offsetTop-x.offsetHeight,le=Math.max(fe,Se+(X?J:0)+V+F),xe=ie+le;l.style.height=xe+"px"}else{const X=O.length>0&&b===O[0].ref.current;l.style.top="0px";const le=Math.max(Y,M+x.offsetTop+(X?q:0)+Se)+be;l.style.height=le+"px",x.scrollTop=ie-Y+x.offsetTop}l.style.margin=`${Pr}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,l,u,x,b,g,i.dir,n]);pr(()=>y(),[y]);const[w,N]=S.useState();pr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=S.useCallback(E=>{E&&h.current===!0&&(y(),v==null||v(),h.current=!1)},[y,v]);return a.jsx(z3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(Te.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});nN.displayName=M3;var L3="SelectPopperPosition",Dp=S.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Pr,...i}=e,o=td(r);return a.jsx(tm,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dp.displayName=L3;var[z3,$h]=Ci(oa,{}),Tp="SelectViewport",sN=S.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=js(Tp,r),o=$h(Tp,r),l=st(t,i.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ju.Slot,{scope:r,children:a.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&d){const m=Math.abs(c.current-f.scrollTop);if(m>0){const h=window.innerHeight-Pr*2,x=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),g=Math.max(x,b);if(g<h){const v=g+m,y=Math.min(h,v),w=v-y;d.style.height=y+"px",d.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});sN.displayName=Tp;var aN="SelectGroup",[$3,B3]=Ci(aN),U3=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=su();return a.jsx($3,{scope:r,id:s,children:a.jsx(Te.div,{role:"group","aria-labelledby":s,...n,ref:t})})});U3.displayName=aN;var iN="SelectLabel",oN=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=B3(iN,r);return a.jsx(Te.div,{id:s.id,...n,ref:t})});oN.displayName=iN;var ru="SelectItem",[q3,lN]=Ci(ru),cN=S.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Ns(ru,r),c=js(ru,r),u=l.value===n,[f,d]=S.useState(i??""),[p,m]=S.useState(!1),h=st(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,n,s)}),x=su(),b=S.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(q3,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:S.useCallback(v=>{d(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Ju.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(Te.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:h,onFocus:ve(o.onFocus,()=>m(!0)),onBlur:ve(o.onBlur,()=>m(!1)),onClick:ve(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:ve(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:ve(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:ve(o.onPointerMove,v=>{var y;b.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ve(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(k3.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});cN.displayName=ru;var Qi="SelectItemText",uN=S.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Ns(Qi,r),l=js(Qi,r),c=lN(Qi,r),u=A3(Qi,r),[f,d]=S.useState(null),p=st(t,g=>d(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),m=f==null?void 0:f.textContent,h=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return pr(()=>(x(h),()=>b(h)),[x,b,h]),a.jsxs(a.Fragment,{children:[a.jsx(Te.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Go.createPortal(i.children,o.valueNode):null]})});uN.displayName=Qi;var dN="SelectItemIndicator",fN=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lN(dN,r).isSelected?a.jsx(Te.span,{"aria-hidden":!0,...n,ref:t}):null});fN.displayName=dN;var Ap="SelectScrollUpButton",pN=S.forwardRef((e,t)=>{const r=js(Ap,e.__scopeSelect),n=$h(Ap,e.__scopeSelect),[s,i]=S.useState(!1),o=st(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(hN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pN.displayName=Ap;var Rp="SelectScrollDownButton",mN=S.forwardRef((e,t)=>{const r=js(Rp,e.__scopeSelect),n=$h(Rp,e.__scopeSelect),[s,i]=S.useState(!1),o=st(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(hN,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mN.displayName=Rp;var hN=S.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=js("SelectScrollButton",r),o=S.useRef(null),l=ed(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),pr(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(Te.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ve(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{c()})})}),H3="SelectSeparator",gN=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Te.div,{"aria-hidden":!0,...n,ref:t})});gN.displayName=H3;var Op="SelectArrow",V3=S.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=td(r),i=Ns(Op,r),o=js(Op,r);return i.open&&o.position==="popper"?a.jsx(rm,{...s,...n,ref:t}):null});V3.displayName=Op;var W3="SelectBubbleInput",vN=S.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=S.useRef(null),i=st(n,s),o=WS(t);return S.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[o,t]),a.jsx(Te.select,{...r,style:{...Zx,...r.style},ref:i,defaultValue:t})});vN.displayName=W3;function xN(e){return e===""||e===void 0}function yN(e){const t=Ka(e),r=S.useRef(""),n=S.useRef(0),s=S.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function bN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=G3(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function G3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var K3=GS,wN=QS,Q3=ZS,Y3=XS,Z3=JS,SN=eN,X3=sN,NN=oN,jN=cN,J3=uN,e5=fN,CN=pN,EN=mN,PN=gN;const Bh=K3,Uh=Q3,rd=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(wN,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Y3,{asChild:!0,children:a.jsx(Sy,{className:"h-4 w-4 opacity-50"})})]}));rd.displayName=wN.displayName;const kN=S.forwardRef(({className:e,...t},r)=>a.jsx(CN,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ij,{className:"h-4 w-4"})}));kN.displayName=CN.displayName;const IN=S.forwardRef(({className:e,...t},r)=>a.jsx(EN,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Sy,{className:"h-4 w-4"})}));IN.displayName=EN.displayName;const nd=S.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(Z3,{children:a.jsxs(SN,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(kN,{}),a.jsx(X3,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(IN,{})]})}));nd.displayName=SN.displayName;const t5=S.forwardRef(({className:e,...t},r)=>a.jsx(NN,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));t5.displayName=NN.displayName;const Wt=S.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(jN,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(e5,{children:a.jsx(wy,{className:"h-4 w-4"})})}),a.jsx(J3,{children:t})]}));Wt.displayName=jN.displayName;const r5=S.forwardRef(({className:e,...t},r)=>a.jsx(PN,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));r5.displayName=PN.displayName;var sd="Switch",[n5,s_]=ui(sd),[s5,a5]=n5(sd),DN=S.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[p,m]=S.useState(null),h=st(t,y=>m(y)),x=S.useRef(!1),b=p?f||!!p.closest("form"):!0,[g,v]=co({prop:s,defaultProp:i??!1,onChange:u,caller:sd});return a.jsxs(s5,{scope:r,checked:g,disabled:l,children:[a.jsx(Te.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":ON(g),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:h,onClick:ve(e.onClick,y=>{v(w=>!w),b&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),b&&a.jsx(RN,{control:p,bubbles:!x.current,name:n,value:c,checked:g,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});DN.displayName=sd;var TN="SwitchThumb",AN=S.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=a5(TN,r);return a.jsx(Te.span,{"data-state":ON(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});AN.displayName=TN;var i5="SwitchBubbleInput",RN=S.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=S.useRef(null),l=st(o,i),c=WS(r),u=e0(t);return S.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&m){const h=new Event("click",{bubbles:n});m.call(f,r),f.dispatchEvent(h)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RN.displayName=i5;function ON(e){return e?"checked":"unchecked"}var _N=DN,o5=AN;const vs=S.forwardRef(({className:e,...t},r)=>a.jsx(_N,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(o5,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));vs.displayName=_N.displayName;const l5=({currentValue:e,onUpload:t,className:r})=>{const[n,s]=S.useState(!1);S.useRef(null);const{toast:i}=Ae(),o=async c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(u){if(!u.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}if(u.size>52428800){i({title:"File too large",description:"Please select an image smaller than 50MB",variant:"destructive"});return}s(!0);try{const d=u.name.split(".").pop(),p=`${Date.now()}-${Math.random().toString(36).substring(2)}.${d}`,m=`products/${p}`;console.log("Uploading file:",p);const{data:h,error:x}=await z.storage.listBuckets();if(!x&&!(h==null?void 0:h.find(y=>y.name==="admin-uploads"))){console.log("Creating admin-uploads bucket...");const{error:y}=await z.storage.createBucket("admin-uploads",{public:!0,fileSizeLimit:52428800});y&&console.warn("Could not create bucket:",y)}const{error:b}=await z.storage.from("admin-uploads").upload(m,u,{cacheControl:"3600",upsert:!1});if(b)throw console.error("Upload error:",b),b;const{data:g}=z.storage.from("admin-uploads").getPublicUrl(m);console.log("Upload successful:",g.publicUrl),t(g.publicUrl),i({title:"Success",description:"Image uploaded successfully"})}catch(d){console.error("Upload error:",d),i({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{s(!1)}}},l=()=>{t("")};return a.jsxs("div",{className:`space-y-4 ${r}`,children:[e&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Current image",className:"max-w-xs h-32 object-cover rounded border"}),a.jsx($,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:l,children:a.jsx(tn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pe,{type:"file",accept:"image/*",onChange:o,disabled:n,className:"flex-1"}),a.jsx($,{type:"button",disabled:n,variant:"outline",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Iy,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]})},c5=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(!1),[s,i]=S.useState(!1),[o,l]=S.useState({name:"",description:"",price:0,slug:"",category_id:"",image_url:"",is_active:!0,is_featured:!1,stock_quantity:0,compare_price:0,sort_order:0,meta_title:"",meta_description:"",labels:[]}),{toast:c}=Ae(),u=lm(),{data:f,isLoading:d}=go({queryKey:["admin-products"],queryFn:async()=>{const{data:P,error:R}=await z.from("products").select(`
          *,
          categories (
            id,
            name,
            slug
          )
        `).order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(R)throw R;return P}}),{data:p,isLoading:m,error:h}=go({queryKey:["admin-categories"],queryFn:async()=>{console.log("[ProductsAdmin] Fetching categories...");const{data:P,error:R}=await z.from("categories").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(R)throw console.error("[ProductsAdmin] Categories fetch error:",R),R;if(!P||P.length===0)if(console.log("[ProductsAdmin] No categories found, attempting to initialize..."),await Df()){const{data:M,error:L}=await z.from("categories").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(L)throw L;return M}else throw new Error("Failed to initialize categories");return console.log("[ProductsAdmin] Categories loaded:",P),P}}),x=vd({mutationFn:async P=>{const{data:R,error:A}=await z.from("products").insert(P).select().single();if(A)throw A;return R},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),c({title:"Success",description:"Product created successfully"}),v()},onError:P=>{c({title:"Error",description:`Failed to create product: ${P.message}`,variant:"destructive"})}}),b=vd({mutationFn:async({id:P,...R})=>{const{data:A,error:M}=await z.from("products").update(R).eq("id",P).select().single();if(M)throw M;return A},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),c({title:"Success",description:"Product updated successfully"}),v()},onError:P=>{c({title:"Error",description:`Failed to update product: ${P.message}`,variant:"destructive"})}}),g=vd({mutationFn:async P=>{console.log("[ProductsAdmin] Attempting to delete product with ID:",P);const{error:R}=await z.from("products").delete().eq("id",P);if(R)throw console.error("[ProductsAdmin] Delete error:",R),R;console.log("[ProductsAdmin] Product deleted successfully")},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),u.invalidateQueries({queryKey:["products"]}),c({title:"Success",description:"Product deleted successfully"})},onError:P=>{console.error("[ProductsAdmin] Delete mutation error:",P),c({title:"Error",description:`Failed to delete product: ${P.message}`,variant:"destructive"})}}),v=()=>{l({name:"",description:"",price:0,slug:"",category_id:"",image_url:"",is_active:!0,is_featured:!1,stock_quantity:0,compare_price:0,sort_order:0,meta_title:"",meta_description:"",labels:[]}),t(null),n(!1)},y=P=>{t(P),l({name:P.name,description:P.description||"",price:P.price,slug:P.slug,category_id:P.category_id||"",image_url:P.image_url||"",is_active:P.is_active??!0,is_featured:P.is_featured??!1,stock_quantity:P.stock_quantity||0,compare_price:P.compare_price||0,sort_order:P.sort_order||0,meta_title:P.meta_title||"",meta_description:P.meta_description||"",labels:P.labels||[]}),n(!1)},w=()=>{v(),n(!0)},N=P=>P.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),j=P=>{l(R=>({...R,name:P,slug:N(P)}))},E=P=>{if(P.preventDefault(),!o.name||!o.price||!o.category_id){c({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const R={...o,price:Number(o.price),stock_quantity:Number(o.stock_quantity),compare_price:Number(o.compare_price),sort_order:Number(o.sort_order)};e?b.mutate({id:e.id,...R}):x.mutate(R)},C=P=>{window.confirm("Are you sure you want to delete this product?")&&g.mutate(P)},I=P=>{b.mutate({id:P.id,is_active:!P.is_active})},D=P=>{b.mutate({id:P.id,is_featured:!P.is_featured})},O=async()=>{if(window.confirm(` WARNING: This will initialize the database with default categories and products.

This action will:
 Add default categories if none exist
 Add default products if none exist
 Only run during initial setup

Continue?`)){i(!0);try{if(console.log("[ProductsAdmin] Initializing categories..."),!await Df())throw new Error("Failed to initialize categories");await db(!1)?(u.invalidateQueries({queryKey:["admin-products"]}),u.invalidateQueries({queryKey:["admin-categories"]}),c({title:"Success! ",description:"Database initialized with default categories and products"})):c({title:"Error",description:"Failed to initialize products. Check console for details.",variant:"destructive"})}catch(R){console.error("[ProductsAdmin] Initialization error:",R),c({title:"Error",description:`Failed to initialize: ${R.message}`,variant:"destructive"})}finally{i(!1)}}};return d||m?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ye,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:m?"Loading categories...":"Loading products..."})]})}):h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(pi,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load categories"}),a.jsx($,{onClick:()=>u.invalidateQueries({queryKey:["admin-categories"]}),children:"Retry"})]})}):a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold tracking-tight",children:"Products Management"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage your product catalog"})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[(!p||p.length===0)&&a.jsx($,{onClick:O,disabled:s,variant:"outline",className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"Initializing..."}),a.jsx("span",{className:"sm:hidden",children:"Init..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Default Categories & Products"}),a.jsx("span",{className:"sm:hidden",children:"Add Defaults"})]})}),a.jsxs($,{onClick:w,disabled:r||e||!p||p.length===0,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(ds,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Product"}),a.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),(r||e)&&a.jsxs(ce,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center justify-between text-base md:text-lg",children:[a.jsx("span",{children:e?"Edit Product":"Create New Product"}),a.jsx($,{variant:"ghost",size:"sm",onClick:v,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(tn,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),a.jsx(ue,{className:"px-3 md:px-6",children:a.jsxs("form",{onSubmit:E,className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"name",className:"text-sm font-medium",children:"Product Name *"}),a.jsx(pe,{id:"name",value:o.name,onChange:P=>j(P.target.value),placeholder:"Enter product name",required:!0,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"slug",className:"text-sm font-medium",children:"Slug"}),a.jsx(pe,{id:"slug",value:o.slug,onChange:P=>l(R=>({...R,slug:P.target.value})),placeholder:"product-slug",className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),a.jsx(nn,{id:"description",value:o.description,onChange:P=>l(R=>({...R,description:P.target.value})),placeholder:"Enter product description",rows:3,className:"text-sm md:text-base resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"price",className:"text-sm font-medium",children:"Price () *"}),a.jsx(pe,{id:"price",type:"number",step:"0.01",min:"0",value:o.price,onChange:P=>l(R=>({...R,price:parseFloat(P.target.value)||0})),required:!0,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"compare_price",className:"text-sm font-medium",children:"Compare Price ()"}),a.jsx(pe,{id:"compare_price",type:"number",step:"0.01",min:"0",value:o.compare_price,onChange:P=>l(R=>({...R,compare_price:parseFloat(P.target.value)||0})),className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"stock_quantity",className:"text-sm font-medium",children:"Stock Quantity"}),a.jsx(pe,{id:"stock_quantity",type:"number",min:"0",value:o.stock_quantity,onChange:P=>l(R=>({...R,stock_quantity:parseInt(P.target.value)||0})),className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"category_id",className:"text-sm font-medium",children:"Category *"}),a.jsxs(Bh,{value:o.category_id,onValueChange:P=>l(R=>({...R,category_id:P})),children:[a.jsx(rd,{className:"text-sm md:text-base",children:a.jsx(Uh,{placeholder:"Select a category"})}),a.jsx(nd,{children:p&&p.length>0?p.map(P=>a.jsx(Wt,{value:P.id,className:"text-sm md:text-base",children:P.name},P.id)):a.jsx(Wt,{value:"",disabled:!0,className:"text-sm md:text-base",children:"No categories available - Initialize first"})})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"sort_order",className:"text-sm font-medium",children:"Sort Order"}),a.jsx(pe,{id:"sort_order",type:"number",min:"0",value:o.sort_order,onChange:P=>l(R=>({...R,sort_order:parseInt(P.target.value)||0})),className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"image_url",className:"text-sm font-medium",children:"Product Image"}),a.jsx(l5,{currentValue:o.image_url,onUpload:P=>l(R=>({...R,image_url:P})),className:"w-full"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"meta_title",className:"text-sm font-medium",children:"Meta Title (SEO)"}),a.jsx(pe,{id:"meta_title",value:o.meta_title,onChange:P=>l(R=>({...R,meta_title:P.target.value})),placeholder:"SEO title",className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"meta_description",className:"text-sm font-medium",children:"Meta Description (SEO)"}),a.jsx(pe,{id:"meta_description",value:o.meta_description,onChange:P=>l(R=>({...R,meta_description:P.target.value})),placeholder:"SEO description",className:"text-sm md:text-base"})]})]}),a.jsx(VS,{labels:o.labels,onChange:P=>l(R=>({...R,labels:P})),placeholder:"Add a label (e.g., lauree, matrimoni, compleanno)"}),a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:space-x-6 md:gap-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vs,{id:"is_active",checked:o.is_active,onCheckedChange:P=>l(R=>({...R,is_active:P}))}),a.jsx(ee,{htmlFor:"is_active",className:"text-sm font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vs,{id:"is_featured",checked:o.is_featured,onCheckedChange:P=>l(R=>({...R,is_featured:P}))}),a.jsx(ee,{htmlFor:"is_featured",className:"text-sm font-medium",children:"Featured"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsx($,{type:"submit",disabled:x.isPending||b.isPending,className:"w-full md:w-auto text-sm",size:"sm",children:x.isPending||b.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4 animate-spin"}),e?"Updating...":"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),e?"Update Product":"Create Product"]})}),a.jsx($,{type:"button",variant:"outline",onClick:v,className:"w-full md:w-auto text-sm",size:"sm",children:"Cancel"})]})]})})]}),a.jsxs(ce,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(Or,{className:"h-4 w-4 md:h-5 md:w-5"}),"Products (",(f==null?void 0:f.length)||0,")"]})}),a.jsx(ue,{className:"px-3 md:px-6",children:f&&f.length>0?a.jsx("div",{className:"space-y-3 md:space-y-4",children:f.map(P=>{var R;return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between p-3 md:p-4 border rounded-lg hover:bg-gray-50 space-y-3 md:space-y-0",children:[a.jsxs("div",{className:"flex items-start space-x-3 md:space-x-4",children:[P.image_url?a.jsx("img",{src:P.image_url,alt:P.name,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded-lg flex-shrink-0",onError:A=>{const M=A.target;M.src="/placeholder.svg"}}):a.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(Up,{className:"h-4 w-4 md:h-6 md:w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm md:text-base truncate",children:P.name}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate",children:((R=P.categories)==null?void 0:R.name)||"No category"}),a.jsxs("p",{className:"text-base md:text-lg font-bold text-emerald-600",children:["",P.price.toFixed(2)]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mt-1",children:[P.is_featured&&a.jsx(ot,{variant:"secondary",className:"text-xs",children:"Featured"}),P.is_active?a.jsx(ot,{variant:"outline",className:"text-xs text-green-600",children:"Active"}):a.jsx(ot,{variant:"outline",className:"text-xs text-red-600",children:"Inactive"}),P.stock_quantity!==null&&a.jsxs(ot,{variant:"outline",className:"text-xs",children:["Stock: ",P.stock_quantity]})]}),P.labels&&P.labels.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:P.labels.map((A,M)=>a.jsxs(ot,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[a.jsx(di,{className:"w-3 h-3 mr-1"}),A]},M))})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-1 md:space-x-2 flex-shrink-0",children:[a.jsx($,{variant:"ghost",size:"sm",onClick:()=>I(P),title:P.is_active?"Deactivate":"Activate",className:"h-8 w-8 md:h-9 md:w-9",children:P.is_active?a.jsx(uo,{className:"h-3 w-3 md:h-4 md:w-4"}):a.jsx(mc,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>D(P),title:P.is_featured?"Remove from featured":"Add to featured",className:"h-8 w-8 md:h-9 md:w-9",children:P.is_featured?a.jsx(Lj,{className:"h-3 w-3 md:h-4 md:w-4 fill-current text-yellow-500"}):a.jsx(Mj,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>y(P),className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(Py,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>C(P.id),disabled:g.isPending,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(fi,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]},P.id)})}):a.jsxs("div",{className:"text-center py-6 md:py-8",children:[a.jsx(Or,{className:"h-8 w-8 md:h-12 md:w-12 text-gray-400 mx-auto mb-3 md:mb-4"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"No products found. Create your first product!"})]})})]})]})},u5=()=>{const[e,t,r]=Nk(),n=async()=>{const l=await t(e);Ui(l?{title:"Logo updated",description:"Your website logo has been changed"}:{title:"Logo updated locally",description:"Settings saved locally and will sync when connection is restored"})},s=l=>{t({...e,logoUrl:l})},i={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},o=async()=>{const l=await t(i);Ui(l?{title:"Logo reset",description:"Your logo has been reset to the default"}:{title:"Logo reset locally",description:"Settings reset locally and will sync when connection is restored"})};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-peach-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Logo Settings"}),a.jsxs($,{onClick:n,variant:"default",className:"flex items-center gap-2",children:[a.jsx(en,{size:16})," Save Changes"]})]}),a.jsxs(ce,{children:[a.jsxs(Ne,{children:[a.jsx(je,{children:"Website Logo"}),a.jsx(cm,{children:"Upload and customize your flower shop logo"})]}),a.jsx(ue,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-md p-6 flex flex-col items-center justify-center space-y-4",children:[a.jsx("div",{className:"bg-slate-100 p-3 rounded-full",children:a.jsx("img",{src:e.logoUrl,alt:e.altText,className:"h-32 w-32 object-contain"})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Logo"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"Upload New Logo"}),a.jsx(rl,{onImageSelected:s,buttonLabel:"Choose Logo Image",bucketName:"uploads",folderPath:"logos",className:"w-full"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: Square image, at least 200x200 pixels, PNG or SVG with transparent background"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"logo-alt-text",children:"Alternative Text"}),a.jsx(pe,{id:"logo-alt-text",value:e.altText,onChange:l=>t({...e,altText:l.target.value}),placeholder:"Describe your logo for screen readers"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This text helps with accessibility and SEO"})]})]})}),a.jsxs(O0,{className:"flex justify-between",children:[a.jsxs($,{type:"button",variant:"outline",onClick:o,className:"flex items-center gap-2",children:[a.jsx(Jr,{size:16})," Reset to Default"]}),a.jsxs($,{type:"button",onClick:n,className:"flex items-center gap-2",children:[a.jsx(en,{size:16})," Save Changes"]})]})]})]})};var d5="Separator",Nx="horizontal",f5=["horizontal","vertical"],FN=S.forwardRef((e,t)=>{const{decorative:r,orientation:n=Nx,...s}=e,i=p5(n)?n:Nx,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Te.div,{"data-orientation":i,...l,...s,ref:t})});FN.displayName=d5;function p5(e){return f5.includes(e)}var MN=FN;const Ws=S.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(MN,{ref:s,decorative:r,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ws.displayName=MN.displayName;class m5{constructor(){Le(this,"settings");Le(this,"deliveryZones");this.settings={enabled:!0,restaurantAddress:"Piazza della Repubblica, 10100 Torino TO",restaurantLat:45.0703,restaurantLng:7.6869,maxDeliveryDistance:15,deliveryFee:5,freeDeliveryThreshold:50,googleMapsApiKey:""},this.deliveryZones=[],this.loadSettings()}async loadSettings(){try{const{supabase:t}=await mr(async()=>{const{supabase:o}=await Promise.resolve().then(()=>Zs);return{supabase:o}},void 0),{data:r,error:n}=await t.from("settings").select("value").eq("key","shippingZoneSettings").single();!n&&r&&(this.settings={...this.settings,...r.value});const{data:s,error:i}=await t.from("settings").select("value").eq("key","deliveryZones").single();!i&&s&&s.value!==null&&(this.deliveryZones=s.value)}catch(t){console.warn("Failed to load shipping zone settings:",t);const r=localStorage.getItem("shippingZoneSettings");r&&(this.settings={...this.settings,...JSON.parse(r)});const n=localStorage.getItem("deliveryZones");n&&(this.deliveryZones=JSON.parse(n))}}async saveSettings(){try{const{supabase:t}=await mr(async()=>{const{supabase:s}=await Promise.resolve().then(()=>Zs);return{supabase:s}},void 0),{error:r}=await t.from("settings").upsert({key:"shippingZoneSettings",value:this.settings});if(r)throw r;const{error:n}=await t.from("settings").upsert({key:"deliveryZones",value:this.deliveryZones});if(n)throw n}catch(t){console.warn("Failed to save shipping zone settings:",t),localStorage.setItem("shippingZoneSettings",JSON.stringify(this.settings)),localStorage.setItem("deliveryZones",JSON.stringify(this.deliveryZones))}}calculateDistance(t,r,n,s){const o=(n-t)*Math.PI/180,l=(s-r)*Math.PI/180,c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}async geocodeAddress(t){if(!this.settings.googleMapsApiKey)throw new Error("Google Maps API key not configured");try{const n=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${this.settings.googleMapsApiKey}`)).json();if(n.status==="OK"&&n.results.length>0){const s=n.results[0];return{lat:s.geometry.location.lat,lng:s.geometry.location.lng,formattedAddress:s.formatted_address}}return null}catch(r){return console.error("Geocoding error:",r),null}}findDeliveryZone(t){const r=this.deliveryZones.filter(n=>n.isActive);for(const n of r.sort((s,i)=>s.maxDistance-i.maxDistance))if(t<=n.maxDistance)return n;return null}async validateDeliveryAddress(t,r=0){if(!this.settings.enabled)return{isValid:!0,isWithinZone:!0,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0}};try{const n=await this.geocodeAddress(t);if(!n)return{isValid:!1,isWithinZone:!1,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0},error:"Unable to find the address. Please check and try again."};const s=this.calculateDistance(this.settings.restaurantLat,this.settings.restaurantLng,n.lat,n.lng);if(s>this.settings.maxDeliveryDistance)return{isValid:!0,isWithinZone:!1,distance:s,deliveryFee:0,estimatedTime:"N/A",formattedAddress:n.formattedAddress,coordinates:n,error:`Sorry, we don't deliver to this area. Maximum delivery distance is ${this.settings.maxDeliveryDistance}km.`};const i=this.findDeliveryZone(s);if(!i)return{isValid:!0,isWithinZone:!1,distance:s,deliveryFee:0,estimatedTime:"N/A",formattedAddress:n.formattedAddress,coordinates:n,error:"No delivery zone configured for this distance."};const o=r>=this.settings.freeDeliveryThreshold?0:i.deliveryFee;return{isValid:!0,isWithinZone:!0,distance:s,deliveryFee:o,estimatedTime:i.estimatedTime,formattedAddress:n.formattedAddress,coordinates:n}}catch(n){return console.error("Address validation error:",n),{isValid:!1,isWithinZone:!1,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0},error:"Unable to validate address. Please try again."}}}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings()}updateDeliveryZones(t){this.deliveryZones=t,this.saveSettings()}getSettings(){return{...this.settings}}getDeliveryZones(){return[...this.deliveryZones]}async setRestaurantLocation(t){const r=await this.geocodeAddress(t);return r?(this.settings.restaurantAddress=t,this.settings.restaurantLat=r.lat,this.settings.restaurantLng=r.lng,this.saveSettings(),!0):!1}initializeDefaultZones(){this.deliveryZones=[{id:"1",name:"Zone 1 (0-5km)",maxDistance:5,deliveryFee:3,estimatedTime:"20-30 minutes",isActive:!0},{id:"2",name:"Zone 2 (5-10km)",maxDistance:10,deliveryFee:5,estimatedTime:"30-45 minutes",isActive:!0},{id:"3",name:"Zone 3 (10-15km)",maxDistance:15,deliveryFee:8,estimatedTime:"45-60 minutes",isActive:!0}],this.saveSettings()}}const Er=new m5,h5=()=>{const[e,t]=S.useState({enabled:!0,restaurantAddress:"",restaurantLat:0,restaurantLng:0,maxDeliveryDistance:15,deliveryFee:5,freeDeliveryThreshold:50,googleMapsApiKey:""}),[r,n]=S.useState([]),[s,i]=S.useState(""),[o,l]=S.useState(25),[c,u]=S.useState(null),[f,d]=S.useState(!1),{toast:p}=Ae();S.useEffect(()=>{const w=Er.getSettings();t(w);const N=Er.getDeliveryZones();n(N)},[]);const m=(w,N)=>{const j={...e,[w]:N};t(j),Er.updateSettings(j)},h=async()=>{if(!e.restaurantAddress){p({title:"Error",description:"Please enter a restaurant address",variant:"destructive"});return}if(d(!0),await Er.setRestaurantLocation(e.restaurantAddress)){const N=Er.getSettings();t(N),p({title:"Success",description:"Restaurant location set successfully"})}else p({title:"Error",description:"Failed to geocode restaurant address",variant:"destructive"});d(!1)},x=()=>{const w={id:Date.now().toString(),name:`Zone ${r.length+1}`,maxDistance:5,deliveryFee:3,estimatedTime:"30-45 minutes",isActive:!0},N=[...r,w];n(N),Er.updateDeliveryZones(N)},b=(w,N)=>{const j=r.map(E=>E.id===w?{...E,...N}:E);n(j),Er.updateDeliveryZones(j)},g=w=>{const N=r.filter(j=>j.id!==w);n(N),Er.updateDeliveryZones(N),p({title:"Zone Deleted",description:"Delivery zone has been removed"})},v=()=>{Er.initializeDefaultZones();const w=Er.getDeliveryZones();n(w),p({title:"Default Zones Added",description:"Three default delivery zones have been created"})},y=async()=>{if(!s){p({title:"Error",description:"Please enter a test address",variant:"destructive"});return}d(!0);const w=await Er.validateDeliveryAddress(s,o);u(w),d(!1),w.error?p({title:"Test Result",description:w.error,variant:w.isWithinZone?"default":"destructive"}):p({title:"Test Successful",description:`Address is ${w.isWithinZone?"within":"outside"} delivery zone`})};return a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs(ce,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(Hp,{className:"w-4 h-4 md:w-5 md:h-5"}),"Shipping Zone Settings"]})}),a.jsxs(ue,{className:"space-y-4 md:space-y-6 px-3 md:px-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(ee,{htmlFor:"enabled",className:"text-sm font-medium",children:"Enable Delivery Zone Restrictions"}),a.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Limit deliveries based on distance from restaurant"})]}),a.jsx(vs,{id:"enabled",checked:e.enabled,onCheckedChange:w=>m("enabled",w)})]}),a.jsx(Ws,{}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"apiKey",className:"text-sm font-medium",children:"Google Maps API Key"}),a.jsx(pe,{id:"apiKey",type:"password",placeholder:"Enter your Google Maps API Key",value:e.googleMapsApiKey,onChange:w=>m("googleMapsApiKey",w.target.value),disabled:!e.enabled,className:"text-sm md:text-base"}),a.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Required for address validation and distance calculation"})]}),a.jsx(Ws,{}),a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("h4",{className:"font-medium text-sm md:text-base",children:"Restaurant Location"}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"restaurantAddress",className:"text-sm font-medium",children:"Restaurant Address"}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsx(pe,{id:"restaurantAddress",placeholder:"Enter your restaurant address",value:e.restaurantAddress,onChange:w=>m("restaurantAddress",w.target.value),disabled:!e.enabled,className:"flex-1 text-sm md:text-base"}),a.jsxs($,{onClick:h,disabled:!e.enabled||f,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(of,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Set Location"]})]}),e.restaurantLat!==0&&e.restaurantLng!==0&&a.jsxs("p",{className:"text-xs md:text-sm text-green-600",children:[" Location set: ",e.restaurantLat.toFixed(6),", ",e.restaurantLng.toFixed(6)]})]})]}),a.jsx(Ws,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"maxDistance",className:"text-sm font-medium",children:"Max Delivery Distance (km)"}),a.jsx(pe,{id:"maxDistance",type:"number",min:"1",max:"100",value:e.maxDeliveryDistance,onChange:w=>m("maxDeliveryDistance",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"defaultFee",className:"text-sm font-medium",children:"Default Delivery Fee ($)"}),a.jsx(pe,{id:"defaultFee",type:"number",min:"0",step:"0.01",value:e.deliveryFee,onChange:w=>m("deliveryFee",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"freeThreshold",className:"text-sm font-medium",children:"Free Delivery Threshold ($)"}),a.jsx(pe,{id:"freeThreshold",type:"number",min:"0",step:"0.01",value:e.freeDeliveryThreshold,onChange:w=>m("freeDeliveryThreshold",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]})]})]})]}),a.jsxs(ce,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(of,{className:"w-4 h-4 md:w-5 md:h-5"}),"Delivery Zones"]}),a.jsxs($,{onClick:x,disabled:!e.enabled,size:"sm",className:"w-full md:w-auto text-xs md:text-sm",children:[a.jsx(ds,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Add Zone"]})]})}),a.jsxs(ue,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[r.map(w=>a.jsxs("div",{className:"border rounded-lg p-3 md:p-4 space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2",children:[a.jsx(pe,{value:w.name,onChange:N=>b(w.id,{name:N.target.value}),className:"w-full md:w-48 text-sm md:text-base",disabled:!e.enabled}),a.jsx(ot,{variant:w.isActive?"default":"secondary",className:"self-start md:self-auto",children:w.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-2",children:[a.jsx(vs,{checked:w.isActive,onCheckedChange:N=>b(w.id,{isActive:N}),disabled:!e.enabled}),a.jsx($,{onClick:()=>g(w.id),variant:"destructive",size:"sm",disabled:!e.enabled,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(fi,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{className:"text-sm font-medium",children:"Max Distance (km)"}),a.jsx(pe,{type:"number",min:"1",value:w.maxDistance,onChange:N=>b(w.id,{maxDistance:parseFloat(N.target.value)}),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{className:"text-sm font-medium",children:"Delivery Fee ($)"}),a.jsx(pe,{type:"number",min:"0",step:"0.01",value:w.deliveryFee,onChange:N=>b(w.id,{deliveryFee:parseFloat(N.target.value)}),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{className:"text-sm font-medium",children:"Estimated Time"}),a.jsx(pe,{value:w.estimatedTime,onChange:N=>b(w.id,{estimatedTime:N.target.value}),placeholder:"e.g., 30-45 minutes",disabled:!e.enabled,className:"text-sm md:text-base"})]})]})]},w.id)),r.length===0&&a.jsxs("div",{className:"text-center py-6 md:py-8 text-gray-500",children:[a.jsx("p",{className:"mb-3 md:mb-4 text-sm md:text-base",children:"No delivery zones configured."}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:gap-2 md:justify-center",children:[a.jsxs($,{onClick:x,disabled:!e.enabled,variant:"outline",className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(ds,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Add Custom Zone"]}),a.jsx($,{onClick:v,disabled:!e.enabled,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:"Add Default Zones"})]})]})]})]}),a.jsxs(ce,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(fo,{className:"w-4 h-4 md:w-5 md:h-5"}),"Test Address Validation"]})}),a.jsxs(ue,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"testAddress",className:"text-sm font-medium",children:"Test Address"}),a.jsx(pe,{id:"testAddress",value:s,onChange:w=>i(w.target.value),placeholder:"Enter address to test",disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:"testAmount",className:"text-sm font-medium",children:"Order Amount ($)"}),a.jsx(pe,{id:"testAmount",type:"number",min:"0",step:"0.01",value:o,onChange:w=>l(parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{className:"text-sm font-medium md:invisible",children:"Test"}),a.jsx($,{onClick:y,disabled:!e.enabled||f,className:"w-full text-xs md:text-sm",size:"sm",children:f?"Testing...":"Test Address"})]})]}),c&&a.jsxs("div",{className:`p-3 md:p-4 rounded-lg border ${c.isWithinZone?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[a.jsx("h5",{className:"font-medium mb-2 text-sm md:text-base",children:"Test Result:"}),a.jsxs("div",{className:"space-y-1 text-xs md:text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Address:"})," ",c.formattedAddress]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Distance:"})," ",c.distance.toFixed(2)," km"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Within Zone:"})," ",c.isWithinZone?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Delivery Fee:"})," $",c.deliveryFee.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Estimated Time:"})," ",c.estimatedTime]}),c.error&&a.jsxs("p",{className:"text-red-600",children:[a.jsx("strong",{children:"Error:"})," ",c.error]})]})]})]})]})]})},g5=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState(!1),[o,l]=S.useState(!1),{toast:c}=Ae();S.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:h,error:x}=await z.from("category_pictures").select("*").order("position");if(x){console.error("Error loading pictures:",x),c({title:"Error",description:"Failed to load category pictures",variant:"destructive"});return}const b=h||[],v=[1,2,3].map(y=>b.find(N=>N.position===y)||{id:`temp-${y}`,image_url:"",alt_text:"",position:y,is_active:!0});t(v)}catch(h){console.error("Error loading pictures:",h),c({title:"Error",description:"Failed to load category pictures",variant:"destructive"})}finally{n(!1)}},f=(h,x,b)=>{t(g=>g.map(v=>v.position===h?{...v,[x]:b}:v)),l(!0)},d=(h,x)=>{f(h,"image_url",x)},p=async h=>{const x=e.find(b=>b.position===h);if(!x||x.id.startsWith("temp-")){f(h,"image_url",""),f(h,"alt_text","");return}try{const{error:b}=await z.from("category_pictures").delete().eq("id",x.id);if(b){console.error("Error deleting picture:",b),c({title:"Error",description:"Failed to delete picture",variant:"destructive"});return}f(h,"image_url",""),f(h,"alt_text",""),f(h,"id",`temp-${h}`),c({title:"Success",description:"Picture deleted successfully"})}catch(b){console.error("Error deleting picture:",b),c({title:"Error",description:"Failed to delete picture",variant:"destructive"})}},m=async()=>{try{i(!0);for(const h of e)if(h.image_url)if(h.id.startsWith("temp-")){const{error:x}=await z.from("category_pictures").insert({image_url:h.image_url,alt_text:h.alt_text||null,position:h.position,is_active:!0});if(x)throw console.error("Error inserting picture:",x),x}else{const{error:x}=await z.from("category_pictures").update({image_url:h.image_url,alt_text:h.alt_text||null,is_active:h.is_active}).eq("id",h.id);if(x)throw console.error("Error updating picture:",x),x}l(!1),c({title:"Success",description:"Category pictures saved successfully"}),await u()}catch(h){console.error("Error saving pictures:",h),c({title:"Error",description:"Failed to save category pictures",variant:"destructive"})}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(Jr,{className:"animate-spin h-8 w-8"})}):a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold",children:"Category Pictures Manager"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage the 3 pictures displayed in the Categories section"})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsxs($,{onClick:u,variant:"outline",disabled:s,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(Jr,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),"Refresh"]}),a.jsxs($,{onClick:m,disabled:!o||s,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(en,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),s?"Saving...":"Save Changes"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e.map(h=>a.jsxs(ce,{className:"overflow-hidden",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"text-base md:text-lg",children:["Picture ",h.position]})}),a.jsxs(ue,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{htmlFor:`alt-${h.position}`,className:"text-sm font-medium",children:"Alt Text"}),a.jsx(pe,{id:`alt-${h.position}`,value:h.alt_text||"",onChange:x=>f(h.position,"alt_text",x.target.value),placeholder:"Describe the image...",className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(ee,{className:"text-sm font-medium",children:"Image"}),h.image_url?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:h.image_url,alt:h.alt_text||`Picture ${h.position}`,className:"w-full h-40 md:h-48 object-cover rounded-lg"}),a.jsx($,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 md:h-9 md:w-9",onClick:()=>p(h.position),children:a.jsx(fi,{className:"h-3 w-3 md:h-4 md:w-4"})})]}):a.jsx(rl,{onImageSelected:x=>d(h.position,x),buttonLabel:"Upload Image",className:"w-full",bucketName:"gallery",folderPath:"category-pictures"})]})]})]},h.position))})]})},v5=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(null),{toast:s}=Ae(),i=[{id:"test-bouquet-1",name:"Test Bouquet - Francesco Fiori",price:25,quantity:1,description:"Beautiful test bouquet for checkout verification",image:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"}],o={name:"Test Customer",email:"test@francescofiori.it",phone:"+39 123 456 7890"},l=async()=>{try{const f=`TEST-${Date.now()}`,d=i.reduce((h,x)=>h+x.price*x.quantity,0),{data:p,error:m}=await z.from("orders").insert({order_number:f,customer_name:o.name,customer_email:o.email,customer_phone:o.phone,total_amount:d,status:"payment_pending",payment_status:"pending",notes:"Test order for Stripe checkout verification"}).select().single();if(m)throw m;return await z.from("order_items").insert({order_id:p.id,product_name:i[0].name,quantity:i[0].quantity,price:i[0].price}),p.id}catch(f){throw console.error("Error creating test order:",f),new Error("Failed to create test order")}},c=async()=>{t(!0),n(null);try{const f={configLoaded:!1,edgeFunctionReachable:!1,stripeInitialized:!1,error:void 0};try{const{data:d,error:p}=await z.from("settings").select("value").eq("key","stripeConfig").single();if(!p&&(d!=null&&d.value))f.configLoaded=!0;else throw new Error("Stripe configuration not found")}catch{f.error="Stripe configuration not found in database",n(f);return}try{const d=z.supabaseUrl,p=z.supabaseKey,m=await fetch(`${d}/functions/v1/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({line_items:[{price_data:{currency:"eur",product_data:{name:"Test"},unit_amount:100},quantity:1}],mode:"payment",customer_email:"test@example.com",success_url:"https://example.com/success",cancel_url:"https://example.com/cancel",metadata:{test:"true"}})});if(m.ok||m.status===400)f.edgeFunctionReachable=!0;else throw new Error(`Edge function returned ${m.status}`)}catch(d){f.error=`Edge function not reachable: ${d.message}`,n(f);return}try{const{loadStripe:d}=await mr(async()=>{const{loadStripe:h}=await import("./stripe-Z1fX3C2C.js");return{loadStripe:h}},[]),{data:p}=await z.from("settings").select("value").eq("key","stripeConfig").single(),m=p==null?void 0:p.value;m!=null&&m.publishableKey&&await d(m.publishableKey)&&(f.stripeInitialized=!0)}catch(d){f.error=`Stripe initialization failed: ${d.message}`}n(f),f.configLoaded&&f.edgeFunctionReachable&&f.stripeInitialized?s({title:"API Test Successful! ",description:"All Stripe integrations are working properly."}):s({title:"API Test Issues Found",description:"Some components need attention. Check the results below.",variant:"destructive"})}catch(f){console.error("API test error:",f),n({configLoaded:!1,edgeFunctionReachable:!1,stripeInitialized:!1,error:f.message})}finally{t(!1)}},u=(f,d)=>a.jsxs("div",{className:"flex items-center gap-2",children:[f?a.jsx(gt,{className:"h-4 w-4 text-green-500"}):a.jsx(pi,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm",children:d}),a.jsx(ot,{variant:f?"default":"destructive",children:f?"OK":"FAIL"})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(fo,{className:"h-5 w-5"}),"Stripe API Integration Test"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-3",children:a.jsx($,{onClick:c,disabled:e,variant:"outline",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing API..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fo,{className:"h-4 w-4 mr-2"}),"Test Stripe API"]})})}),r&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[a.jsx("h4",{className:"font-semibold",children:"Test Results:"}),u(r.configLoaded,"Stripe Configuration Loaded"),u(r.edgeFunctionReachable,"Edge Function Reachable"),u(r.stripeInitialized,"Stripe Client Initialized"),r.error&&a.jsxs("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:[a.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error:"}),a.jsx("p",{className:"text-red-700 text-sm",children:r.error})]})]})]})]}),a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Qo,{className:"h-5 w-5"}),"Live Checkout Test"]})}),a.jsx(ue,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Test Checkout Flow"}),a.jsxs("p",{className:"text-blue-700 text-sm",children:["This will create a real test order and redirect to Stripe checkout. Use test card: ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"4242 4242 4242 4242"})]})]}),a.jsx(cb,{items:i,customerInfo:o,onCreateOrder:l,onSuccess:()=>{s({title:"Checkout Test Successful! ",description:"The complete checkout flow is working properly."})},onError:f=>{s({title:"Checkout Test Failed",description:f,variant:"destructive"})},children:"Test Stripe Checkout Flow"})]})})]})]})},x5=()=>{const[e,t]=S.useState({publishableKey:"",secretKey:"",webhookSecret:"",isTestMode:!0}),[r,n]=S.useState({secretKey:!1,webhookSecret:!1}),[s,i]=S.useState(!0),[o,l]=S.useState(!1),[c,u]=S.useState({publishableValid:!1,secretValid:!1,webhookValid:!1}),{toast:f}=Ae();S.useEffect(()=>{d()},[]),S.useEffect(()=>{p()},[e]);const d=async()=>{try{i(!0);const{data:b,error:g}=await z.from("settings").select("value").eq("key","stripeConfig").single();!g&&(b!=null&&b.value)&&t(b.value)}catch(b){console.error("Error loading Stripe settings:",b)}finally{i(!1)}},p=()=>{const b=e.publishableKey.startsWith("pk_test_")||e.publishableKey.startsWith("pk_live_"),g=e.secretKey.startsWith("sk_test_")||e.secretKey.startsWith("sk_live_"),v=e.webhookSecret.startsWith("whsec_")||e.webhookSecret==="";u({publishableValid:b,secretValid:g,webhookValid:v})},m=async()=>{try{if(l(!0),!e.publishableKey||!e.secretKey){f({title:"Validation Error",description:"Publishable key and secret key are required.",variant:"destructive"});return}if(!c.publishableValid||!c.secretValid){f({title:"Invalid Keys",description:"Please check that your Stripe keys are in the correct format.",variant:"destructive"});return}console.log("Saving Stripe config:",{...e,secretKey:"[HIDDEN]"});const{data:b,error:g}=await z.from("settings").upsert({key:"stripeConfig",value:e,updated_at:new Date().toISOString()}).select();if(g)throw console.error("Database error:",g),g;console.log("Save successful:",b),f({title:"Settings Saved! ",description:"Stripe configuration has been updated successfully."}),window.stripeConfigCache&&delete window.stripeConfigCache}catch(b){console.error("Error saving Stripe settings:",b);const g=b instanceof Error?b.message:"Unknown error occurred";f({title:"Save Failed",description:`Failed to save Stripe settings: ${g}`,variant:"destructive"})}finally{l(!1)}},h=async()=>{if(!c.publishableValid||!c.secretValid){f({title:"Invalid Keys",description:"Please configure valid Stripe keys before testing.",variant:"destructive"});return}try{const{loadStripe:b}=await mr(async()=>{const{loadStripe:v}=await import("./stripe-Z1fX3C2C.js");return{loadStripe:v}},[]);if(await b(e.publishableKey))f({title:"Connection Successful! ",description:"Stripe keys are valid and connection is working."});else throw new Error("Failed to initialize Stripe")}catch(b){console.error("Stripe test error:",b),f({title:"Connection Failed",description:"Unable to connect to Stripe. Please check your keys.",variant:"destructive"})}},x=(b,g=!1)=>g?a.jsx(yy,{className:"h-4 w-4 text-gray-400"}):b?a.jsx(gt,{className:"h-4 w-4 text-green-500"}):a.jsx(pi,{className:"h-4 w-4 text-red-500"});return s?a.jsx(ce,{children:a.jsxs(ue,{className:"flex items-center justify-center py-8",children:[a.jsx(ye,{className:"h-6 w-6 animate-spin mr-2"}),"Loading Stripe settings..."]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Qo,{className:"h-6 w-6"}),"Stripe Payment Configuration"]})}),a.jsxs(ue,{children:[a.jsxs(el,{defaultValue:"keys",className:"w-full",children:[a.jsxs(Js,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"keys",children:"API Keys"}),a.jsx(Ee,{value:"test",children:"Test Integration"}),a.jsx(Ee,{value:"settings",children:"Settings"})]}),a.jsxs(We,{value:"keys",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ee,{children:"Mode:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ot,{variant:e.isTestMode?"default":"secondary",children:e.isTestMode?"Test Mode":"Live Mode"}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>t(b=>({...b,isTestMode:!b.isTestMode})),children:["Switch to ",e.isTestMode?"Live":"Test"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{htmlFor:"publishableKey",children:"Publishable Key *"}),x(c.publishableValid,!e.publishableKey)]}),a.jsx(pe,{id:"publishableKey",placeholder:`pk_${e.isTestMode?"test":"live"}_...`,value:e.publishableKey,onChange:b=>t(g=>({...g,publishableKey:b.target.value}))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get this from your Stripe Dashboard  Developers  API keys"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{htmlFor:"secretKey",children:"Secret Key *"}),x(c.secretValid,!e.secretKey)]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"secretKey",type:r.secretKey?"text":"password",placeholder:`sk_${e.isTestMode?"test":"live"}_...`,value:e.secretKey,onChange:b=>t(g=>({...g,secretKey:b.target.value}))}),a.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(b=>({...b,secretKey:!b.secretKey})),children:r.secretKey?a.jsx(mc,{className:"h-4 w-4"}):a.jsx(uo,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:" Keep this secret! Never share or expose in frontend code."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{htmlFor:"webhookSecret",children:"Webhook Secret (Optional)"}),x(c.webhookValid,!e.webhookSecret)]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"webhookSecret",type:r.webhookSecret?"text":"password",placeholder:"whsec_...",value:e.webhookSecret,onChange:b=>t(g=>({...g,webhookSecret:b.target.value}))}),a.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(b=>({...b,webhookSecret:!b.webhookSecret})),children:r.webhookSecret?a.jsx(mc,{className:"h-4 w-4"}):a.jsx(uo,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Required for webhook verification. Get from Stripe Dashboard  Webhooks."})]})]}),a.jsx(We,{value:"test",className:"space-y-6",children:a.jsx(v5,{})}),a.jsxs(We,{value:"settings",className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"How to get your Stripe keys:"}),a.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[a.jsxs("li",{children:["1. Go to ",a.jsx("a",{href:"https://dashboard.stripe.com/test/apikeys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Stripe Dashboard"})]}),a.jsx("li",{children:"2. Navigate to Developers  API keys"}),a.jsx("li",{children:"3. Copy your Publishable key and Secret key"}),a.jsx("li",{children:"4. For webhooks: Go to Developers  Webhooks  Add endpoint"}),a.jsxs("li",{children:["5. Use this URL: ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"https://your-supabase-project.supabase.co/functions/v1/stripe-webhook"})]})]})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:" Security Notes:"}),a.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[a.jsx("li",{children:" Never expose secret keys in frontend code"}),a.jsx("li",{children:" Use test keys during development"}),a.jsx("li",{children:" Switch to live keys only for production"}),a.jsx("li",{children:" Regularly rotate your API keys"})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[a.jsx($,{onClick:m,disabled:o||!c.publishableValid||!c.secretValid,className:"flex-1",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})}),a.jsxs($,{variant:"outline",onClick:h,disabled:!c.publishableValid||!c.secretValid,children:[a.jsx(fo,{className:"h-4 w-4 mr-2"}),"Test Connection"]})]})]})]})})};class y5{constructor(){Le(this,"settings");Le(this,"audioContext",null);Le(this,"isRinging",!1);Le(this,"ringCount",0);Le(this,"ringTimeout",null);Le(this,"ringInterval",null);this.settings={enabled:!0,phoneNumber:"",ringDuration:3,ringInterval:2,maxRings:10,vibrationEnabled:!0,browserNotificationEnabled:!0,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"},this.loadSettings(),this.requestNotificationPermission()}async loadSettings(){try{const{supabase:t}=await mr(async()=>{const{supabase:s}=await Promise.resolve().then(()=>Zs);return{supabase:s}},void 0),{data:r,error:n}=await t.from("settings").select("value").eq("key","phoneNotificationSettings").single();!n&&r&&(this.settings={...this.settings,...r.value})}catch(t){console.warn("Failed to load phone notification settings:",t);const r=localStorage.getItem("phoneNotificationSettings");r&&(this.settings={...this.settings,...JSON.parse(r)})}}async saveSettings(){try{const{supabase:t}=await mr(async()=>{const{supabase:n}=await Promise.resolve().then(()=>Zs);return{supabase:n}},void 0),{error:r}=await t.from("settings").upsert({key:"phoneNotificationSettings",value:this.settings});if(r)throw r}catch(t){console.warn("Failed to save phone notification settings:",t),localStorage.setItem("phoneNotificationSettings",JSON.stringify(this.settings))}}initializeAudioContext(){if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&this.audioContext.resume().catch(t=>{console.warn("Failed to resume audio context:",t)})}catch(t){console.error("Failed to create audio context:",t),this.audioContext=null}}createPhoneRingTone(){if(!this.audioContext){this.createFallbackRingTone();return}try{const t=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),n=this.audioContext.createGain();t.frequency.setValueAtTime(440,this.audioContext.currentTime),r.frequency.setValueAtTime(480,this.audioContext.currentTime),t.connect(n),r.connect(n),n.connect(this.audioContext.destination),n.gain.setValueAtTime(0,this.audioContext.currentTime),n.gain.setValueAtTime(.3,this.audioContext.currentTime+.1),n.gain.setValueAtTime(0,this.audioContext.currentTime+1.1),n.gain.setValueAtTime(.3,this.audioContext.currentTime+1.6),n.gain.setValueAtTime(0,this.audioContext.currentTime+2.6),t.start(this.audioContext.currentTime),r.start(this.audioContext.currentTime),t.stop(this.audioContext.currentTime+this.settings.ringDuration),r.stop(this.audioContext.currentTime+this.settings.ringDuration)}catch(t){console.error("Failed to create ring tone with Web Audio API:",t),this.createFallbackRingTone()}}createFallbackRingTone(){try{if(this.settings.customNotificationSound&&this.settings.notificationSoundUrl){const t=new Audio(this.settings.notificationSoundUrl);t.volume=.7,t.play().catch(r=>{console.warn("Failed to play custom notification sound:",r),this.playDefaultRingTone()})}else this.playDefaultRingTone()}catch(t){console.error("Failed to create fallback ring tone:",t),this.playDefaultRingTone()}}playDefaultRingTone(){try{const t=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaAzKH0fPTgjAHJXfH8N2QQAoUXrTp66hVFApGn+DyvmEaAw==");t.volume=.5,t.play().catch(r=>{console.warn("Failed to play default ring tone:",r)})}catch(t){console.error("Failed to create default ring tone:",t)}}async sendSMSNotification(t,r){if(this.settings.phoneNumber)try{console.log(`SMS would be sent to ${this.settings.phoneNumber}:`),console.log(`New order received: #${t} from ${r}`)}catch(n){console.error("Failed to send SMS notification:",n)}}async requestNotificationPermission(){if("Notification"in window&&this.settings.browserNotificationEnabled)try{await Notification.requestPermission()}catch(t){console.warn("Failed to request notification permission:",t)}}triggerVibration(){if(this.settings.vibrationEnabled&&"vibrate"in navigator)try{navigator.vibrate([500,200,500,200,500])}catch(t){console.warn("Failed to trigger vibration:",t)}}showBrowserNotification(t,r){if(this.settings.browserNotificationEnabled&&"Notification"in window&&Notification.permission==="granted")try{const n=new Notification("New Order Received! ",{body:`Order #${t} from ${r}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:"new-order",requireInteraction:!0,silent:!1});setTimeout(()=>{n.close()},1e4),n.onclick=()=>{window.focus(),n.close()}}catch(n){console.warn("Failed to show browser notification:",n)}}async notifyNewOrder(t,r){this.settings.enabled&&(console.log(` Phone notification for order #${t} from ${r} - Page: ${window.location.pathname}`),await this.sendSMSNotification(t,r),this.showBrowserNotification(t,r),this.triggerVibration(),this.startRinging())}startRinging(){if(this.isRinging)return;this.isRinging=!0,this.ringCount=0,this.initializeAudioContext();const t=()=>{if(this.ringCount>=this.settings.maxRings){this.stopRinging();return}this.createPhoneRingTone(),this.ringCount++,this.ringTimeout=setTimeout(()=>{this.isRinging&&t()},(this.settings.ringDuration+this.settings.ringInterval)*1e3)};t()}stopRinging(){this.isRinging=!1,this.ringCount=0,this.ringTimeout&&(clearTimeout(this.ringTimeout),this.ringTimeout=null),this.ringInterval&&(clearInterval(this.ringInterval),this.ringInterval=null)}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings()}getSettings(){return{...this.settings}}isCurrentlyRinging(){return this.isRinging}getRingCount(){return this.ringCount}updateNotificationSound(t,r){this.settings.customNotificationSound=!0,this.settings.notificationSoundUrl=t,this.settings.notificationSoundName=r,this.saveSettings()}resetToDefaultSound(){this.settings.customNotificationSound=!1,this.settings.notificationSoundUrl="",this.settings.notificationSoundName="Default Ring Tone",this.saveSettings()}testNotificationSound(){this.createFallbackRingTone()}}const nt=new y5,b5=()=>{const{toast:e}=Ae(),[t,r]=S.useState(!1),[n,s]=S.useState(!1),i=()=>{try{r(!0),nt.testNotificationSound(),e({title:"Testing Notification Sound ",description:"Playing the current notification sound..."}),setTimeout(()=>{r(!1)},3e3)}catch(c){console.error("Error testing notification sound:",c),e({title:"Error",description:"Failed to test notification sound",variant:"destructive"}),r(!1)}},o=()=>{try{s(!0),nt.notifyNewOrder("TEST-001","Test Customer"),e({title:"Testing Full Notification ",description:"Simulating a new order notification with sound, vibration, and browser notification",duration:5e3}),setTimeout(()=>{s(!1)},5e3)}catch(c){console.error("Error testing full notification:",c),e({title:"Error",description:"Failed to test full notification",variant:"destructive"}),s(!1)}},l=()=>{try{nt.stopRinging(),e({title:"Notifications Stopped",description:"All notification sounds have been stopped"})}catch(c){console.error("Error stopping notifications:",c),e({title:"Error",description:"Failed to stop notifications",variant:"destructive"})}};return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"h-5 w-5"}),"Test Notification Music"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs($,{onClick:i,disabled:t,variant:"outline",className:"flex items-center gap-2 h-20 flex-col",children:[a.jsx(qp,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:t?"Playing...":"Test Sound Only"})]}),a.jsxs($,{onClick:o,disabled:n,className:"flex items-center gap-2 h-20 flex-col bg-emerald-500 hover:bg-emerald-600",children:[a.jsx(Bp,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:n?"Testing...":"Test Full Notification"})]}),a.jsxs($,{onClick:l,variant:"destructive",className:"flex items-center gap-2 h-20 flex-col",children:[a.jsx(Ya,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:"Stop All Sounds"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Test Options:"}),a.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Test Sound Only:"})," Plays just the notification sound"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Test Full Notification:"})," Simulates a complete new order notification (sound + vibration + browser notification)"]}),a.jsxs("li",{children:[" ",a.jsx("strong",{children:"Stop All Sounds:"})," Stops any currently playing notification sounds"]})]})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-md border border-amber-200",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Note:"}),a.jsx("p",{className:"text-amber-700 text-sm",children:"Make sure your browser allows notifications and audio playback. Some browsers may block autoplay until you interact with the page first."})]})]})]})},w5=()=>{const{toast:e}=Ae(),[t,r]=S.useState({enabled:!0,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"}),[n,s]=S.useState(!1),[i,o]=S.useState(!0);S.useEffect(()=>{l()},[]);const l=()=>{try{const p=nt.getSettings();r({enabled:p.enabled,customNotificationSound:p.customNotificationSound,notificationSoundUrl:p.notificationSoundUrl,notificationSoundName:p.notificationSoundName})}catch(p){console.error("Error loading notification settings:",p),e({title:"Error",description:"Failed to load notification settings",variant:"destructive"})}finally{o(!1)}},c=p=>{try{const m=p.split("/"),h=m[m.length-1]||"Custom Notification Sound";nt.updateNotificationSound(p,h),r(x=>({...x,customNotificationSound:!0,notificationSoundUrl:p,notificationSoundName:h})),e({title:"Success! ",description:"Custom notification sound uploaded and set"})}catch(m){console.error("Error uploading notification sound:",m),e({title:"Error",description:"Failed to upload notification sound",variant:"destructive"})}},u=()=>{try{nt.resetToDefaultSound(),r(p=>({...p,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"})),e({title:"Reset Complete",description:"Notification sound reset to default ring tone"})}catch(p){console.error("Error resetting notification sound:",p),e({title:"Error",description:"Failed to reset notification sound",variant:"destructive"})}},f=()=>{try{nt.testNotificationSound(),s(!0),setTimeout(()=>{s(!1)},3e3),e({title:"Testing Sound ",description:"Playing notification sound..."})}catch(p){console.error("Error testing notification sound:",p),e({title:"Error",description:"Failed to test notification sound",variant:"destructive"})}},d=p=>{try{nt.updateSettings({enabled:p}),r(m=>({...m,enabled:p})),e({title:p?"Notifications Enabled":"Notifications Disabled",description:p?"Order notifications will now play sounds":"Order notifications are muted"})}catch(m){console.error("Error updating notification settings:",m),e({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}};return i?a.jsx(ce,{children:a.jsx(ue,{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{children:[a.jsxs(Ne,{children:[a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"h-5 w-5"}),"Notification Music Settings"]}),a.jsx(cm,{children:"Upload custom notification music that plays when new orders are received"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsx(vs,{id:"notifications-enabled",checked:t.enabled,onCheckedChange:d}),a.jsx(ee,{htmlFor:"notifications-enabled",children:t.enabled?"Notifications Enabled":"Notifications Disabled"})]})]}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"Current Notification Sound"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-slate-50 border",children:[a.jsx(lf,{size:20,className:"text-muted-foreground"}),a.jsx("span",{className:"font-medium flex-1 truncate",children:t.notificationSoundName}),a.jsx($,{type:"button",size:"sm",variant:"ghost",onClick:f,disabled:n,children:n?a.jsx(ky,{size:16}):a.jsx(qp,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"Upload Custom Notification Sound"}),a.jsx(rl,{onImageSelected:c,buttonLabel:"Upload Audio File",className:"w-full",bucketName:"uploads",folderPath:"notification-sounds",acceptedFileTypes:"audio/*",maxFileSize:5*1024*1024}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: MP3, WAV, OGG, M4A (max 5MB)"})]}),t.customNotificationSound&&a.jsx("div",{className:"pt-4 border-t",children:a.jsxs($,{variant:"outline",onClick:u,className:"text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600",children:[a.jsx(fi,{size:16,className:"mr-2"}),"Reset to Default Ring Tone"]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"How it works:"}),a.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[a.jsx("li",{children:" Upload your custom notification sound (music, ringtone, etc.)"}),a.jsx("li",{children:" The sound will play when new orders are received"}),a.jsx("li",{children:" Test the sound using the play button"}),a.jsx("li",{children:" You can reset to the default ring tone anytime"})]})]})]})]}),a.jsx(b5,{})]})},S5=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1);Ae();const s=c=>{t(u=>[...u,`${new Date().toLocaleTimeString()}: ${c}`])},i=async()=>{var c,u;n(!0),t([]),s(" Starting hero content debug...");try{s(" Checking database for hero content...");try{const{supabase:m}=await mr(async()=>{const{supabase:b}=await Promise.resolve().then(()=>Zs);return{supabase:b}},void 0),{data:h,error:x}=await m.from("settings").select("*").eq("key","heroContent").single();x?s(` Database error: ${x.message}`):h?(s(" Found hero content in database:"),s(`   - Heading: ${h.value.heading||"N/A"}`),s(`   - Subheading: ${h.value.subheading||"N/A"}`),s(`   - Background Image: ${h.value.backgroundImage||"N/A"}`),(c=h.value.backgroundImage)!=null&&c.includes("unsplash.com")?s(" Using default Unsplash image"):(u=h.value.backgroundImage)!=null&&u.includes("supabase.co")&&s(" Using custom uploaded image")):s(" No hero content found in database")}catch(m){s(` Error checking database: ${m}`)}s(" Checking hook data..."),s(`   - Heading: ${(heroContent==null?void 0:heroContent.heading)||"N/A"}`),s(`   - Subheading: ${(heroContent==null?void 0:heroContent.subheading)||"N/A"}`),s(`   - Background Image: ${(heroContent==null?void 0:heroContent.backgroundImage)||"N/A"}`),s(" Checking settings service...");const f=await settingsService.getSetting("heroContent",{heading:"Default",subheading:"Default",backgroundImage:"Default"});s(`   - Service Heading: ${(f==null?void 0:f.heading)||"N/A"}`),s(`   - Service Subheading: ${(f==null?void 0:f.subheading)||"N/A"}`),s(`   - Service Background Image: ${(f==null?void 0:f.backgroundImage)||"N/A"}`),s(" Checking content_sections table...");const{data:d}=await supabase.from("content_sections").select("section_key, section_name, updated_at").contains("metadata",{section:"hero"});d&&d.length>0?(s(" Found hero content in content_sections:"),d.forEach(m=>{s(`   - ${m.section_key}: ${m.section_name} (${m.updated_at})`)})):s(" No hero content found in content_sections table"),s(" All settings in database:");const{data:p}=await supabase.from("settings").select("key, updated_at").order("updated_at",{ascending:!1});p==null||p.forEach(m=>{s(`   - ${m.key} (${m.updated_at})`)}),s(" Debug complete!")}catch(f){s(` Debug failed: ${f}`)}n(!1)},o=async()=>{s(" Testing hero content update...");try{const u={heading:"Francesco Fiori & Piante - Test Update "+new Date().toLocaleTimeString(),subheading:"Creazioni floreali uniche - Updated at "+new Date().toLocaleTimeString(),backgroundImage:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"};s(" Updating hero content..."),await updateHeroContent(u)?(s(" Hero content update successful"),s(" Waiting 3 seconds to verify save..."),setTimeout(async()=>{var p,m;const{data:d}=await supabase.from("settings").select("*").eq("key","heroContent").single();d?(s(" Verified: Content saved to database"),s(`   - New heading: ${(p=d.value)==null?void 0:p.heading}`),s(`   - New background: ${(m=d.value)==null?void 0:m.backgroundImage}`),s(" Test completed successfully!"),s(" Go to homepage (http://localhost:8484/) to see changes"),s(" You may need to refresh the page to see the new image")):s(" Content not found in database after update")},3e3)):s(" Hero content update failed")}catch(c){s(` Test update failed: ${c}`)}},l=()=>{t([])};return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Hero Content Debugger"})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{onClick:i,disabled:r,className:"flex-1",children:r?"Debugging...":"Debug Hero Content"}),a.jsx($,{onClick:o,disabled:r,variant:"outline",className:"flex-1",children:"Test Update"}),a.jsx($,{onClick:l,variant:"ghost",children:"Clear"})]}),e.length>0&&a.jsxs("div",{className:"bg-gray-100 p-4 rounded-md max-h-96 overflow-y-auto",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Debug Results:"}),e.map((c,u)=>a.jsx("div",{className:"text-sm font-mono whitespace-pre-wrap",children:c},u))]})]})]})},N5=()=>{const[e,t]=S.useState(!1),[r,n,s]=hb(),[i,o]=S.useState({heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),{toast:l}=Ae();S.useEffect(()=>{r&&!s&&o({heading:r.heading||"Francesco Fiori & Piante",subheading:r.subheading||"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:r.backgroundImage||"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})},[r,s]);const c=async()=>{t(!0);try{if(await n(i))window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:i})),l({title:"Success! ",description:"Hero content updated successfully"});else throw new Error("Failed to save hero content")}catch(h){console.error("Error saving hero content:",h),l({title:"Error",description:"Failed to save hero content. Please try again.",variant:"destructive"})}finally{t(!1)}},u=()=>{r&&o({heading:r.heading||"Francesco Fiori & Piante",subheading:r.subheading||"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:r.backgroundImage||"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})},f=h=>{o(x=>({...x,heading:h}))},d=h=>{o(x=>({...x,subheading:h}))},p=h=>{console.log(" HeroContentEditor: Background image updated:",h),o(x=>({...x,backgroundImage:h}))};if(s)return a.jsx(ce,{children:a.jsx(ue,{className:"flex items-center justify-center h-32",children:a.jsx(ye,{className:"h-6 w-6 animate-spin"})})});const m=i.heading!==((r==null?void 0:r.heading)||"")||i.subheading!==((r==null?void 0:r.subheading)||"")||i.backgroundImage!==((r==null?void 0:r.backgroundImage)||"");return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:["Hero Section Editor",a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{onClick:u,variant:"outline",size:"sm",disabled:!m||e,children:[a.jsx(Jr,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsx($,{onClick:c,disabled:!m||e,size:"sm",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-4 w-4 mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{className:"h-4 w-4 mr-1"}),"Save Changes"]})})]})]})}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Heading"}),a.jsx(pe,{value:i.heading,onChange:h=>f(h.target.value),placeholder:"Enter hero section heading",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Subheading"}),a.jsx(nn,{value:i.subheading,onChange:h=>d(h.target.value),placeholder:"Enter hero section subheading",className:"w-full",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Background Image"}),a.jsx(rl,{currentImage:i.backgroundImage,onImageSelected:p,bucketName:"uploads",folderPath:"hero-images",buttonLabel:"Upload Hero Image"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload a high-quality image for the hero section background. Recommended size: 2000x1000px or larger."})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Preview"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Heading:"}),a.jsx("p",{className:"font-semibold",children:i.heading||"No heading set"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Subheading:"}),a.jsx("p",{className:"text-sm",children:i.subheading||"No subheading set"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Background Image:"}),i.backgroundImage?a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:i.backgroundImage,alt:"Hero background preview",className:"w-full h-24 object-cover rounded border",onError:h=>{const x=h.target;x.src="/placeholder.svg"}})}):a.jsx("p",{className:"text-sm text-gray-400",children:"No background image set"})]})]})})]}),m&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-yellow-800",children:' You have unsaved changes. Click "Save Changes" to apply them to your website.'})})]})]})},j5=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState([]),{toast:s}=Ae(),i="+393498851455",o=async()=>{t(!0),n([]);const l=c=>{n(u=>[...u,c])};try{l(" Starting phone number update..."),l(" Updating contact content...");const{data:c,error:u}=await z.from("settings").select("value").eq("key","contactContent").single();if(u)l(` Error fetching current contact: ${u.message}`);else{const f={...c.value,phone:i},{error:d}=await z.from("settings").update({value:f}).eq("key","contactContent");l(d?` Error updating contact: ${d.message}`:" Contact content updated successfully")}l(" Updating localStorage...");try{const f=localStorage.getItem("contactContent");if(f){const d=JSON.parse(f);d.phone=i,localStorage.setItem("contactContent",JSON.stringify(d)),l(" localStorage updated successfully")}else{const d={address:"Piazza della Repubblica, 10100 Torino TO",phone:i,email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"};localStorage.setItem("contactContent",JSON.stringify(d)),l(" localStorage created with new phone number")}}catch(f){l(` localStorage update failed: ${f}`)}l(" Triggering content refresh..."),window.dispatchEvent(new CustomEvent("contactContentUpdated",{detail:{phone:i}})),l(" Phone number update completed successfully!"),l(` New phone number: ${i}`),s({title:"Phone Number Updated! ",description:`All instances updated to ${i}`})}catch(c){l(` Unexpected error: ${c}`),s({title:"Update Failed",description:"An error occurred while updating the phone number",variant:"destructive"})}finally{t(!1)}};return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(lu,{className:"h-5 w-5"}),"Phone Number Updater"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Update Phone Number"}),a.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["This will update the phone number to ",a.jsx("strong",{children:i})," throughout the entire website:"]}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:" Contact section display"}),a.jsx("li",{children:" Order page contact information"}),a.jsx("li",{children:" Database settings"}),a.jsx("li",{children:" Local storage cache"})]})]}),a.jsx($,{onClick:o,disabled:e,className:"w-full",children:e?a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating Phone Number..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),"Update Phone Number to ",i]})}),r.length>0&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Update Progress:"}),a.jsx("div",{className:"space-y-1 text-sm font-mono",children:r.map((l,c)=>a.jsx("div",{className:"text-gray-700",children:l},c))})]})]})]})},C5=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState([]),{toast:s}=Ae(),i=c=>{n(u=>[...u,c])},o=async()=>{t(!0),n([]);try{i(" Starting hero image database fix..."),i(" Checking current hero content...");const c=await mn.getSetting("heroContent");i(c?` Found hero content: ${JSON.stringify(c)}`:" No hero content found in database");const u={heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. ",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"};i(" Updating hero content in database..."),await mn.updateSetting("heroContent",u),i(" Hero content updated in database"),i(" Updating localStorage..."),localStorage.setItem("heroContent",JSON.stringify(u)),i(" localStorage updated"),i(" Triggering hero content update event..."),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:u})),i(" Hero content update event triggered"),i(" Refreshing page to apply changes..."),setTimeout(()=>{window.location.reload()},2e3),i(" Hero image fix completed successfully!"),s({title:"Hero Image Fixed! ",description:"The hero image should now load properly from the database"})}catch(c){i(` Error fixing hero image: ${c}`),s({title:"Fix Failed",description:"An error occurred while fixing the hero image",variant:"destructive"})}finally{t(!1)}},l=async()=>{var c;t(!0),n([]);try{i(" Testing hero content database connection...");const u=await mn.getSetting("heroContent");u?(i(" Hero content found in database:"),i(`    Heading: ${u.heading}`),i(`    Subheading: ${(c=u.subheading)==null?void 0:c.substring(0,50)}...`),i(`    Background Image: ${u.backgroundImage}`)):i(" No hero content found in database");const f=await mn.getSetting("logoSettings");f?(i(" Logo settings found in database:"),i(`    Logo URL: ${f.logoUrl}`),i(`    Alt Text: ${f.altText}`)):i(" No logo settings found in database");const d=localStorage.getItem("heroContent");i(d?" Hero content found in localStorage":" No hero content in localStorage")}catch(u){i(` Error testing hero content: ${u}`)}finally{t(!1)}};return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Up,{className:"h-5 w-5"}),"Hero Image Database Fixer"]})}),a.jsxs(ue,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Hero Image Issue"}),a.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"If the hero image is showing the default placeholder instead of the uploaded image, this tool will fix the database connection and ensure proper image loading."}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Checks database hero content"}),a.jsx("li",{children:" Updates localStorage cache"}),a.jsx("li",{children:" Triggers content refresh events"}),a.jsx("li",{children:" Forces page reload to apply changes"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx($,{onClick:l,disabled:e,variant:"outline",className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(Jr,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"h-4 w-4 mr-2"}),"Test Database Connection"]})}),a.jsx($,{onClick:o,disabled:e,className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(Jr,{className:"h-4 w-4 mr-2 animate-spin"}),"Fixing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),"Fix Hero Image"]})})]}),r.length>0&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Fix Progress:"}),a.jsx("div",{className:"space-y-1 text-sm font-mono",children:r.map((c,u)=>a.jsx("div",{className:"text-gray-700",children:c},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"How to Upload New Hero Image"}),a.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:'1. Go to the "Hero Section" tab in admin panel'}),a.jsx("li",{children:'2. Click "Upload Hero Image" button'}),a.jsx("li",{children:"3. Select your image (recommended: 2000x1000px or larger)"}),a.jsx("li",{children:'4. Click "Save Changes"'}),a.jsx("li",{children:"5. The new image will appear on the homepage"})]})]})]})]})},E5=()=>{var b,g;const{toast:e}=Ae(),[t,r]=S.useState(null),[n,s]=S.useState(!1),[i,o]=S.useState(!1),{data:l,isLoading:c,refetch:u,error:f}=go({queryKey:["content-sections"],queryFn:async()=>{try{const{data:v,error:y}=await z.from("content_sections").select("*").order("section_key");return y?(console.error("[Admin] Database error:",y),[]):v||[]}catch(v){return console.error("[Admin] Query error:",v),[]}},retry:!1,enabled:!0,staleTime:0,cacheTime:0}),d=async(v,y)=>{r(v);try{const{error:w}=await z.from("content_sections").update({content_value:y}).eq("id",v);if(w)throw w;e({title:"Success",description:"Content updated successfully"}),u()}catch{e({title:"Error",description:"Failed to update content",variant:"destructive"})}finally{r(null)}},p=async()=>{o(!0);try{const v=await fb();e(v?{title:"Connection Success! ",description:"Database connection is working properly"}:{title:"Connection Failed",description:"Unable to connect to database. Check console for details.",variant:"destructive"})}catch(v){console.error("[Admin] Connection test error:",v),e({title:"Connection Error",description:`Connection test failed: ${v.message}`,variant:"destructive"})}finally{o(!1)}},m=async()=>{s(!0);try{await xu()?(e({title:"Success! ",description:"Database initialized with default content, categories, and products"}),u()):e({title:"Error",description:"Failed to initialize database. Check console for details.",variant:"destructive"})}catch(v){console.error("[Admin] Initialization error:",v),e({title:"Error",description:`Failed to initialize: ${v.message}`,variant:"destructive"})}finally{s(!1)}},h=async()=>{try{const v=[{image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Beautiful fresh flowers",position:1,is_active:!0},{image_url:"https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Elegant floral arrangement",position:2,is_active:!0},{image_url:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Colorful flower bouquet",position:3,is_active:!0}],{error:y}=await z.from("category_pictures").upsert(v,{onConflict:"position"});if(y)throw y;e({title:"Success",description:"Category pictures initialized with default images"})}catch(v){console.error("Error initializing category pictures:",v),e({title:"Error",description:"Failed to initialize category pictures",variant:"destructive"})}};if(c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ye,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});f&&console.error("[Admin] Query error detected:",f);const x=l==null?void 0:l.reduce((v,y)=>{var N;const w=((N=y.metadata)==null?void 0:N.section)||"other";return v[w]||(v[w]=[]),v[w].push(y),v},{});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 animate-fade-in-up",children:a.jsx("div",{className:"pt-16 md:pt-20 pb-4 md:pb-8",children:a.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[a.jsx("div",{className:"mb-4 md:mb-8 animate-fade-in-down",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center md:text-left animate-fade-in-left",children:[a.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-900 mb-1 md:mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Admin Panel"}),a.jsx("p",{className:"text-xs md:text-base text-gray-600",children:"Manage all website content, text, images, and orders"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 md:flex md:flex-row md:gap-2 md:justify-center lg:justify-end animate-fade-in-right",children:[a.jsx($,{onClick:p,disabled:i,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Test..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Test"})]})}),a.jsx($,{onClick:m,disabled:n,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Init..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Init DB"})]})}),a.jsxs($,{onClick:h,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:[a.jsx(Jr,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Gallery"})]})]})]})}),(f||!l||l.length===0)&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-4 mb-6 animate-slide-in-up shadow-lg",children:[a.jsx("h3",{className:"text-yellow-800 font-medium mb-2 text-sm md:text-base",children:"Database Notice"}),a.jsx("p",{className:"text-yellow-700 text-xs md:text-sm mb-3",children:f?`Database connection issue: ${f.message}. Some features may not work properly.`:"No content sections found. You may need to initialize the database."}),a.jsx($,{onClick:m,disabled:n,size:"sm",variant:"outline",className:"hover-lift",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"h-3 w-3 mr-1 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Initializing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Initialize Database"})]})})]}),a.jsxs(el,{defaultValue:"phone",className:"space-y-3 md:space-y-6 animate-scale-in",children:[a.jsx("div",{className:"block md:hidden",children:a.jsxs(Js,{className:"grid grid-cols-2 gap-2 mb-4 h-auto bg-transparent p-0",children:[a.jsxs(Ee,{value:"phone",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-blue-200 hover:bg-blue-50 transition-all duration-200 hover-scale data-[state=active]:bg-blue-100",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Phone"})]}),a.jsxs(Ee,{value:"hero",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-purple-200 hover:bg-purple-50 transition-all duration-200 hover-scale data-[state=active]:bg-purple-100",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Hero"})]}),a.jsxs(Ee,{value:"logo",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-green-200 hover:bg-green-50 transition-all duration-200 hover-scale data-[state=active]:bg-green-100",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Logo"})]}),a.jsxs(Ee,{value:"categories",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-orange-200 hover:bg-orange-50 transition-all duration-200 hover-scale data-[state=active]:bg-orange-100",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-orange-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Categories"})]}),a.jsxs(Ee,{value:"category-pics",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-pink-200 hover:bg-pink-50 transition-all duration-200 hover-scale data-[state=active]:bg-pink-100",children:[a.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-pink-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Pictures"})]}),a.jsxs(Ee,{value:"products",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-indigo-200 hover:bg-indigo-50 transition-all duration-200 hover-scale data-[state=active]:bg-indigo-100",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Products"})]}),a.jsxs(Ee,{value:"gallery",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-teal-200 hover:bg-teal-50 transition-all duration-200 hover-scale data-[state=active]:bg-teal-100",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-teal-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Gallery"})]}),a.jsxs(Ee,{value:"about",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-cyan-200 hover:bg-cyan-50 transition-all duration-200 hover-scale data-[state=active]:bg-cyan-100",children:[a.jsx("div",{className:"w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-cyan-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"About"})]}),a.jsxs(Ee,{value:"orders",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-red-200 hover:bg-red-50 transition-all duration-200 hover-scale data-[state=active]:bg-red-100",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-red-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Orders"})]}),a.jsxs(Ee,{value:"shipping",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-yellow-200 hover:bg-yellow-50 transition-all duration-200 hover-scale data-[state=active]:bg-yellow-100",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-yellow-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Shipping"})]}),a.jsxs(Ee,{value:"stripe",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-violet-200 hover:bg-violet-50 transition-all duration-200 hover-scale data-[state=active]:bg-violet-100",children:[a.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-violet-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Stripe"})]}),a.jsxs(Ee,{value:"notifications",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-rose-200 hover:bg-rose-50 transition-all duration-200 hover-scale data-[state=active]:bg-rose-100",children:[a.jsx("div",{className:"w-8 h-8 bg-rose-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-rose-600 text-sm",children:""})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Music"})]})]})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs(Js,{className:"grid grid-cols-6 lg:grid-cols-12 w-full gap-1 p-1 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg",children:[a.jsx(Ee,{value:"phone",className:"text-sm px-3 py-2 hover-scale",children:"Phone"}),a.jsx(Ee,{value:"hero",className:"text-sm px-3 py-2 hover-scale",children:"Hero"}),a.jsx(Ee,{value:"logo",className:"text-sm px-3 py-2 hover-scale",children:"Logo"}),a.jsx(Ee,{value:"categories",className:"text-sm px-3 py-2 hover-scale",children:"Categories"}),a.jsx(Ee,{value:"category-pics",className:"text-sm px-3 py-2 hover-scale",children:"Pictures"}),a.jsx(Ee,{value:"products",className:"text-sm px-3 py-2 hover-scale",children:"Products"}),a.jsx(Ee,{value:"gallery",className:"text-sm px-3 py-2 hover-scale",children:"Gallery"}),a.jsx(Ee,{value:"about",className:"text-sm px-3 py-2 hover-scale",children:"About"}),a.jsx(Ee,{value:"orders",className:"text-sm px-3 py-2 hover-scale",children:"Orders"}),a.jsx(Ee,{value:"shipping",className:"text-sm px-3 py-2 hover-scale",children:"Shipping"}),a.jsx(Ee,{value:"stripe",className:"text-sm px-3 py-2 hover-scale",children:"Stripe"}),a.jsx(Ee,{value:"notifications",className:"text-sm px-3 py-2 hover-scale",children:"Music"})]})}),a.jsx(We,{value:"phone",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-blue-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-blue-800 animate-fade-in-left",children:"Phone Number Update"}),a.jsx("div",{className:"animate-fade-in-right animate-stagger-1",children:a.jsx(j5,{})})]})}),a.jsx(We,{value:"hero",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-purple-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-purple-800 animate-fade-in-left",children:"Hero Section Content"}),a.jsxs("div",{className:"space-y-3 md:space-y-4 animate-fade-in-right",children:[a.jsx("div",{className:"animate-stagger-1",children:a.jsx(C5,{})}),a.jsx("div",{className:"animate-stagger-2",children:a.jsx(N5,{})}),a.jsx("div",{className:"animate-stagger-3",children:a.jsx(S5,{})})]})]})}),a.jsx(We,{value:"logo",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-green-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-green-800 animate-fade-in-left",children:"Logo Settings"}),a.jsx("div",{className:"animate-fade-in-right animate-stagger-1",children:a.jsx(u5,{})})]})}),a.jsx(We,{value:"categories",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-orange-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-orange-800 animate-fade-in-left",children:"Categories Content"}),a.jsx("div",{className:"space-y-3 md:space-y-4",children:(b=x==null?void 0:x.categories)==null?void 0:b.map((v,y)=>a.jsx("div",{className:`animate-fade-in-right animate-stagger-${Math.min(y+1,5)}`,children:a.jsx(xd,{section:v,onSave:d,saving:t===v.id})},v.id))})]})}),a.jsx(We,{value:"category-pics",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-pink-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(g5,{})})})}),a.jsx(We,{value:"products",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-indigo-100",children:a.jsx("div",{className:"animate-slide-in-up",children:a.jsx(c5,{})})})}),a.jsx(We,{value:"gallery",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-teal-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(E3,{})})})}),a.jsx(We,{value:"about",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-cyan-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-cyan-800 animate-fade-in-left",children:"About Section Content"}),a.jsx("div",{className:"space-y-3 md:space-y-4",children:(g=x==null?void 0:x.about)==null?void 0:g.map((v,y)=>a.jsx("div",{className:`animate-fade-in-right animate-stagger-${Math.min(y+1,5)}`,children:a.jsx(xd,{section:v,onSave:d,saving:t===v.id})},v.id))})]})}),a.jsx(We,{value:"orders",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-red-100",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Dedicated Order Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Order management has been moved to a dedicated dashboard with enhanced features:"}),a.jsxs("ul",{className:"text-left text-sm text-gray-600 mb-6 space-y-2 max-w-md mx-auto",children:[a.jsx("li",{children:" Real-time notifications even when screen is off"}),a.jsx("li",{children:" Background processing and sync"}),a.jsx("li",{children:" Comprehensive system testing"}),a.jsx("li",{children:" Enhanced mobile experience"}),a.jsx("li",{children:" Persistent notifications"})]}),a.jsx("a",{href:"/orders",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:" Open Order Dashboard"})]})})}),a.jsx(We,{value:"shipping",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-yellow-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(h5,{})})})}),a.jsx(We,{value:"stripe",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-violet-100",children:a.jsx("div",{className:"animate-fade-in-right",children:a.jsx(x5,{})})})}),a.jsx(We,{value:"notifications",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-rose-100",children:a.jsx("div",{className:"animate-bounce-gentle",children:a.jsx(w5,{})})})}),a.jsxs(We,{value:"all",className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"All Content Sections"}),l==null?void 0:l.map(v=>a.jsx(xd,{section:v,onSave:d,saving:t===v.id},v.id))]})]})]})})})},P5=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState({customerName:"",customerEmail:"",customerPhone:"",category:"",productDescription:"",quantity:1,specialRequests:"",deliveryDate:"",billingAddress:{street:"",city:"",postalCode:"",country:"Italy"},shippingAddress:{street:"",city:"",postalCode:"",country:"Italy",sameAsBilling:!0}}),{toast:s}=Ae(),i=[{value:"matrimoni",label:"Matrimoni - Wedding Arrangements"},{value:"fiori_piante",label:"Fiori & Piante - Fresh Flowers & Plants"},{value:"fiori_finti",label:"Fiori Finti - Artificial Flowers"},{value:"funerali",label:"Funerali - Funeral Arrangements"}],o=(f,d)=>{if(f.includes(".")){const[p,m]=f.split(".");n(h=>({...h,[p]:{...h[p],[m]:d}}))}else n(p=>({...p,[f]:d}))},l=()=>{const f=Date.now().toString(),d=Math.random().toString(36).substring(2,8).toUpperCase();return`ORD-${f.slice(-6)}-${d}`},c=()=>({matrimoni:150,fiori_piante:50,fiori_finti:80,funerali:120}[r.category]||50)*r.quantity,u=async f=>{var d;f.preventDefault(),t(!0);try{if(!r.customerName||!r.customerEmail||!r.category)throw new Error("Please fill in all required fields");const p=l(),m=c(),h=r.billingAddress,x=r.shippingAddress.sameAsBilling?r.billingAddress:r.shippingAddress,{data:b,error:g}=await z.from("orders").insert({order_number:p,customer_name:r.customerName,customer_email:r.customerEmail,customer_phone:r.customerPhone||null,total_amount:m,status:"pending",billing_address:h,shipping_address:x,notes:`Category: ${r.category}
Product: ${r.productDescription}
Quantity: ${r.quantity}
Special Requests: ${r.specialRequests}
Delivery Date: ${r.deliveryDate}`}).select().single();if(g)throw g;const{error:v}=await z.from("order_items").insert({order_id:b.id,product_id:"custom-order",product_name:`${(d=i.find(w=>w.value===r.category))==null?void 0:d.label} - ${r.productDescription}`,quantity:r.quantity,price:m/r.quantity});if(v)throw v;const{error:y}=await z.from("order_notifications").insert({order_id:b.id,notification_type:"new_order",is_read:!1});y&&console.error("Failed to create notification:",y),s({title:"Order Submitted Successfully! ",description:`Your order #${p} has been received. We'll contact you soon to confirm details.`}),n({customerName:"",customerEmail:"",customerPhone:"",category:"",productDescription:"",quantity:1,specialRequests:"",deliveryDate:"",billingAddress:{street:"",city:"",postalCode:"",country:"Italy"},shippingAddress:{street:"",city:"",postalCode:"",country:"Italy",sameAsBilling:!0}})}catch(p){console.error("Order submission error:",p),s({title:"Order Submission Failed",description:p.message||"Please try again or contact us directly.",variant:"destructive"})}finally{t(!1)}};return a.jsxs(ce,{className:"w-full max-w-4xl mx-auto",children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"h-6 w-6"}),"Place Your Order"]})}),a.jsx(ue,{children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerName",className:"flex items-center gap-2",children:[a.jsx(Dy,{className:"h-4 w-4"}),"Full Name *"]}),a.jsx(pe,{id:"customerName",value:r.customerName,onChange:f=>o("customerName",f.target.value),placeholder:"Enter your full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerEmail",className:"flex items-center gap-2",children:[a.jsx(Cy,{className:"h-4 w-4"}),"Email Address *"]}),a.jsx(pe,{id:"customerEmail",type:"email",value:r.customerEmail,onChange:f=>o("customerEmail",f.target.value),placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{htmlFor:"customerPhone",className:"flex items-center gap-2",children:[a.jsx(lu,{className:"h-4 w-4"}),"Phone Number"]}),a.jsx(pe,{id:"customerPhone",type:"tel",value:r.customerPhone,onChange:f=>o("customerPhone",f.target.value),placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"category",children:"Category *"}),a.jsxs(Bh,{value:r.category,onValueChange:f=>o("category",f),children:[a.jsx(rd,{children:a.jsx(Uh,{placeholder:"Select a category"})}),a.jsx(nd,{children:i.map(f=>a.jsx(Wt,{value:f.value,children:f.label},f.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"quantity",children:"Quantity"}),a.jsx(pe,{id:"quantity",type:"number",min:"1",value:r.quantity,onChange:f=>o("quantity",parseInt(f.target.value)||1)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"productDescription",children:"Product Description *"}),a.jsx(nn,{id:"productDescription",value:r.productDescription,onChange:f=>o("productDescription",f.target.value),placeholder:"Describe what you're looking for...",rows:3,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"deliveryDate",children:"Preferred Delivery Date"}),a.jsx(pe,{id:"deliveryDate",type:"date",value:r.deliveryDate,onChange:f=>o("deliveryDate",f.target.value),min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{children:"Estimated Price"}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",c().toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Final price will be confirmed"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"specialRequests",children:"Special Requests"}),a.jsx(nn,{id:"specialRequests",value:r.specialRequests,onChange:f=>o("specialRequests",f.target.value),placeholder:"Any special requirements or notes...",rows:2})]}),a.jsx($,{type:"submit",disabled:e,className:"w-full",size:"lg",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Order..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"mr-2 h-4 w-4"}),"Submit Order"]})})]})})]})},k5=()=>a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Xo,{}),a.jsx("main",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair",children:"Place Your Order"}),a.jsx("p",{className:"text-xl text-gray-600 font-inter max-w-2xl mx-auto",children:"Tell us about your floral needs and we'll create something beautiful for you. Our expert florists will contact you to confirm details and provide a final quote."})]}),a.jsx(P5,{}),a.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Consultation"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"We'll call you within 24 hours to discuss your requirements and provide expert advice."})]}),a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Transparent Pricing"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"The estimated price shown is preliminary. Final pricing will be confirmed before we proceed."})]}),a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Flexible Delivery"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"We offer delivery throughout the region. Delivery costs will be calculated based on your location."})]})]}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 font-playfair",children:"Need Help?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Our team is here to help you create the perfect floral arrangement."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("a",{href:"tel:+393498851455",className:"inline-flex items-center justify-center px-6 py-3 bg-peach-500 text-white rounded-lg hover:bg-peach-600 transition-colors",children:" Call Us: +393498851455"}),a.jsx("a",{href:"mailto:info@francescofiori.com",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-peach-600 border border-peach-300 rounded-lg hover:bg-peach-50 transition-colors",children:" Email: info@francescofiori.com"})]})]})]})}),a.jsx(tl,{})]}),jx=({order:e,onUpdate:t,onDelete:r})=>{const[n,s]=S.useState(!1),[i,o]=S.useState(e.status),[l,c]=S.useState(e.tracking_number||""),[u,f]=S.useState(""),{toast:d}=Ae(),p=async()=>{if(i){s(!0);try{const{error:y}=await z.rpc("update_order_status",{order_uuid:e.id,new_status:i,status_notes:u||null,tracking_num:l||null});if(y)throw y;d({title:"Order Updated",description:`Order status changed to ${i}`}),t()}catch(y){console.error("Update error:",y),d({title:"Update Failed",description:"Failed to update order status",variant:"destructive"})}finally{s(!1)}}},m=async y=>{s(!0);try{const{error:w}=await z.rpc("update_order_status",{order_uuid:e.id,new_status:y,status_notes:y==="accepted"?"Order accepted and will be prepared":"Order rejected",tracking_num:null});if(w)throw w;d({title:y==="accepted"?"Order Accepted":"Order Rejected",description:`Order #${e.order_number} has been ${y}`}),t()}catch(w){console.error("Quick update error:",w),d({title:"Update Failed",description:`Failed to ${y} order`,variant:"destructive"})}finally{s(!1)}},h=async()=>{if(confirm(`Are you sure you want to delete order #${e.order_number}? This action cannot be undone.`)){s(!0);try{console.log("Starting manual order deletion for order:",e.id),await x(),d({title:"Order Deleted",description:`Order #${e.order_number} has been permanently deleted`}),r?r():t()}catch(y){console.error("Delete error:",y);let w="Failed to delete order";y.message.includes("does not exist")?w="Order no longer exists":y.message.includes("permission")?w="You do not have permission to delete this order":y.message.includes("violates foreign key constraint")?w="Cannot delete order - it has related records that need to be removed first":y.message&&(w=`Failed to delete order: ${y.message}`),d({title:"Delete Failed",description:w,variant:"destructive"})}finally{s(!1)}}},x=async()=>{console.log("Starting manual deletion process for order:",e.id);try{console.log("Deleting order notifications...");const{error:y}=await z.from("order_notifications").delete().eq("order_id",e.id);y?console.warn("Failed to delete notifications:",y):console.log(" Order notifications deleted"),console.log("Deleting order status history...");const{error:w}=await z.from("order_status_history").delete().eq("order_id",e.id);w?console.warn("Failed to delete status history:",w):console.log(" Order status history deleted"),console.log("Deleting order items...");const{error:N}=await z.from("order_items").delete().eq("order_id",e.id);if(N)throw console.error("Failed to delete order items:",N),new Error(`Failed to delete order items: ${N.message}`);console.log(" Order items deleted"),console.log("Deleting order...");const{error:j}=await z.from("orders").delete().eq("id",e.id);if(j)throw console.error("Failed to delete order:",j),new Error(`Failed to delete order: ${j.message}`);console.log(" Order deleted successfully")}catch(y){throw console.error("Manual deletion failed:",y),y}},b=y=>{switch(y){case"pending":return a.jsx(Qa,{className:"w-4 h-4"});case"processing":return a.jsx(Or,{className:"w-4 h-4"});case"shipped":return a.jsx(Hp,{className:"w-4 h-4"});case"delivered":return a.jsx(gt,{className:"w-4 h-4"});default:return a.jsx(Qa,{className:"w-4 h-4"})}},g=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);return a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:["Order #",e.order_number,a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsxs(ot,{variant:"outline",children:[b(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),a.jsx($,{onClick:h,disabled:n,variant:"destructive",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(fi,{className:"h-4 w-4"})})]})]})}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.customer_name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",e.customer_email]}),e.customer_phone&&a.jsxs("div",{children:[a.jsx("strong",{children:"Phone:"})," ",e.customer_phone]})]})]}),a.jsx(Ws,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Total Amount:"})," ",v(Number(e.total_amount))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Created:"})," ",g(e.created_at)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Last Updated:"})," ",g(e.updated_at)]}),e.tracking_number&&a.jsxs("div",{children:[a.jsx("strong",{children:"Tracking Number:"})," ",e.tracking_number]}),e.shipped_at&&a.jsxs("div",{children:[a.jsx("strong",{children:"Shipped:"})," ",g(e.shipped_at)]}),e.delivered_at&&a.jsxs("div",{children:[a.jsx("strong",{children:"Delivered:"})," ",g(e.delivered_at)]})]})]}),a.jsx(Ws,{}),e.status==="pending"&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs($,{onClick:()=>m("accepted"),disabled:n,className:"flex-1 bg-green-600 hover:bg-green-700",children:[n?a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(gt,{className:"mr-2 h-4 w-4"}),"Accept Order"]}),a.jsxs($,{onClick:()=>m("rejected"),disabled:n,variant:"destructive",className:"flex-1",children:[n?a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Reject Order"]})]})]}),a.jsx(Ws,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Update Order Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),a.jsxs(Bh,{value:i,onValueChange:o,children:[a.jsx(rd,{children:a.jsx(Uh,{placeholder:"Select status"})}),a.jsxs(nd,{children:[a.jsx(Wt,{value:"pending",children:"Pending"}),a.jsx(Wt,{value:"accepted",children:"Accepted"}),a.jsx(Wt,{value:"rejected",children:"Rejected"}),a.jsx(Wt,{value:"preparing",children:"Preparing"}),a.jsx(Wt,{value:"ready",children:"Ready for Pickup/Delivery"}),a.jsx(Wt,{value:"out_for_delivery",children:"Out for Delivery"}),a.jsx(Wt,{value:"delivered",children:"Delivered"}),a.jsx(Wt,{value:"completed",children:"Completed"}),a.jsx(Wt,{value:"cancelled",children:"Cancelled"})]})]})]}),(i==="out_for_delivery"||i==="delivered")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tracking Number"}),a.jsx(pe,{value:l,onChange:y=>c(y.target.value),placeholder:"Enter tracking number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),a.jsx(nn,{value:u,onChange:y=>f(y.target.value),placeholder:"Add any notes about this status update...",rows:3})]}),a.jsx($,{onClick:p,disabled:n||i===e.status,className:"w-full",children:n?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Order Status"})]})]})]})]})},I5=({notifications:e,count:t,onRefresh:r})=>{const[n,s]=S.useState(!1),[i,o]=S.useState(!1),[l,c]=S.useState(!0),[u,f]=S.useState({}),[d,p]=S.useState(null),m=S.useRef(null),{toast:h}=Ae();S.useEffect(()=>{t===0&&i&&b()},[t,l]),S.useEffect(()=>{e.length>0&&x()},[e]);const x=async()=>{try{const E=e.map(O=>O.order_id).filter(Boolean);if(E.length===0)return;const{data:C,error:I}=await z.from("orders").select("id, order_number, customer_name, status").in("id",E);if(I)throw I;const D={};C==null||C.forEach(O=>{D[O.id]=O}),f(D)}catch(E){console.error("Error fetching order details:",E)}},b=()=>{o(!1),m.current&&(clearInterval(m.current),m.current=null)},g=()=>{c(!l),l||b()};S.useEffect(()=>()=>{m.current&&clearInterval(m.current)},[]);const v=async E=>{try{const{error:C}=await z.from("order_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",E);if(C)throw C;r()}catch(C){console.error("Error marking notification as read:",C),h({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}},y=async()=>{try{const{error:E}=await z.from("order_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("is_read",!1);if(E)throw E;b(),nt.stopRinging(),r(),s(!1),h({title:"Success",description:"All notifications marked as read"})}catch(E){console.error("Error marking all notifications as read:",E),h({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},w=async E=>{try{const{error:C}=await z.from("order_notifications").delete().eq("id",E);if(C)throw C;r()}catch(C){console.error("Error deleting notification:",C),h({title:"Error",description:"Failed to delete notification",variant:"destructive"})}},N=async(E,C)=>{var I;if(!E){console.error("No order ID provided");return}console.log(`Attempting to ${C} order:`,E),p(E);try{const{error:D}=await z.rpc("update_order_status",{order_uuid:E,new_status:C,status_notes:C==="accepted"?"Order accepted from notifications":"Order rejected from notifications",tracking_num:null});if(D)throw console.error("Supabase RPC error:",D),D;console.log(`Order ${E} successfully ${C}`),f(P=>({...P,[E]:{...P[E],status:C}})),h({title:C==="accepted"?"Order Accepted! ":"Order Rejected ",description:`Order #${(I=u[E])==null?void 0:I.order_number} has been ${C}`});const O=e.find(P=>P.order_id===E);O&&!O.is_read&&await v(O.id),b(),nt.stopRinging(),r()}catch(D){console.error(`Error ${C} order:`,D),h({title:"Error",description:`Failed to ${C} order`,variant:"destructive"})}finally{p(null)}},j=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($,{variant:"ghost",size:"sm",onClick:g,className:`${l?"text-green-600":"text-gray-400"}`,title:l?"Sound enabled":"Sound disabled",children:l?a.jsx(Ya,{className:"w-4 h-4"}):a.jsx(Ay,{className:"w-4 h-4"})}),a.jsxs(W0,{open:n,onOpenChange:s,children:[a.jsx(G0,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"sm",className:`relative ${i?"animate-pulse bg-red-50 border-red-300":""}`,children:[a.jsx(Bp,{className:`w-4 h-4 ${i?"text-red-600":""}`}),t>0&&a.jsx(ot,{variant:"destructive",className:`absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs ${i?"animate-bounce":""}`,children:t>99?"99+":t})]})}),a.jsx(dm,{className:"w-80",align:"end",children:a.jsxs(ce,{className:"border-0 shadow-none",children:[a.jsx(Ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"text-lg",children:"Notifications"}),a.jsxs("div",{className:"flex items-center gap-2",children:[t>0&&a.jsxs(a.Fragment,{children:[a.jsx($,{variant:"ghost",size:"sm",onClick:b,className:"text-xs text-orange-600",children:"Stop Ringing"}),a.jsx($,{variant:"ghost",size:"sm",onClick:y,className:"text-xs",children:"Mark all read"})]}),!1]})]})}),a.jsx(ue,{className:"space-y-2 max-h-64 overflow-y-auto",children:e.length>0?e.map(E=>{const C=u[E.order_id],I=d===E.order_id;return a.jsx("div",{className:`p-3 rounded border ${E.is_read?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium",children:E.notification_type==="new_order"&&"New Order Received"}),C&&a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Order #",C.order_number," - ",C.customer_name]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j(E.created_at)}),C&&a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.status==="pending"?"bg-yellow-100 text-yellow-800":C.status==="payment_pending"?"bg-orange-100 text-orange-800":C.status==="accepted"?"bg-green-100 text-green-800":C.status==="rejected"?"bg-red-100 text-red-800":C.status==="paid"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1).replace("_"," ")})})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[!E.is_read&&a.jsx($,{variant:"ghost",size:"sm",onClick:()=>v(E.id),className:"h-6 w-6 p-0",title:"Mark as read",children:a.jsx(wy,{className:"w-3 h-3"})}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>w(E.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",title:"Delete notification",children:a.jsx(tn,{className:"w-3 h-3"})})]})]}),(!C||C.status==="pending"||C.status==="payment_pending"||C.status==="paid")&&a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[a.jsx($,{size:"sm",onClick:()=>N(E.order_id,"accepted"),disabled:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white h-8",children:I?a.jsx(ye,{className:"w-3 h-3 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"w-3 h-3 mr-1"}),"Accept"]})}),a.jsx($,{size:"sm",variant:"destructive",onClick:()=>N(E.order_id,"rejected"),disabled:I,className:"flex-1 h-8",children:I?a.jsx(ye,{className:"w-3 h-3 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(tn,{className:"w-3 h-3 mr-1"}),"Reject"]})})]}),!1]})},E.id)}):a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No notifications"})})]})})]})]})};class D5{constructor(){Le(this,"settings");Le(this,"isRunning",!1);Le(this,"serviceWorker",null);Le(this,"realtimeChannel",null);Le(this,"heartbeatInterval",null);Le(this,"syncInterval",null);Le(this,"wakeLock",null);Le(this,"lastOrderCheck",new Date);Le(this,"retryCount",0);this.settings={enabled:!0,soundEnabled:!0,vibrationEnabled:!0,persistentNotifications:!0,backgroundSync:!0,wakeScreen:!0,maxRetries:5,retryInterval:3e4},this.loadSettings(),this.initializeService()}loadSettings(){try{const t=localStorage.getItem("backgroundOrderSettings");t&&(this.settings={...this.settings,...JSON.parse(t)})}catch(t){console.error("Failed to load background order settings:",t)}}saveSettings(){try{localStorage.setItem("backgroundOrderSettings",JSON.stringify(this.settings))}catch(t){console.error("Failed to save background order settings:",t)}}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings(),this.isRunning&&this.restart()}getSettings(){return{...this.settings}}async initializeService(){try{console.log(" Initializing Background Order Service..."),await this.registerServiceWorker(),await this.requestPermissions(),await this.setupWakeLock(),await this.start(),console.log(" Background Order Service initialized successfully")}catch(t){console.error(" Failed to initialize Background Order Service:",t)}}async registerServiceWorker(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");console.log(" Service Worker registered:",t),await navigator.serviceWorker.ready,this.serviceWorker=t.active,navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage.bind(this)),t.addEventListener("updatefound",()=>{console.log(" Service Worker update found")})}catch(t){console.error(" Service Worker registration failed:",t)}}async requestPermissions(){if("Notification"in window){const t=await Notification.requestPermission();console.log(" Notification permission:",t)}if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype&&console.log(" Background sync supported"),"permissions"in navigator)try{const t=await navigator.permissions.query({name:"persistent-notification"});console.log(" Persistent notification permission:",t.state)}catch{console.log(" Persistent notification not supported")}}async setupWakeLock(){if(this.settings.wakeScreen&&"wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen"),console.log(" Screen wake lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log(" Screen wake lock released")})}catch(t){console.error(" Failed to acquire wake lock:",t)}}handleServiceWorkerMessage(t){console.log(" Message from Service Worker:",t.data),t.data.type==="NEW_ORDER_NOTIFICATION"&&this.handleNewOrderFromServiceWorker(t.data)}handleNewOrderFromServiceWorker(t){const{orderNumber:r,customerName:n,amount:s,orderId:i}=t;this.triggerComprehensiveNotification(r,n,s,i)}async start(){if(this.isRunning){console.log(" Background Order Service already running");return}if(!this.settings.enabled){console.log(" Background Order Service disabled");return}console.log(" Starting Background Order Service..."),this.isRunning=!0,await this.setupRealtimeMonitoring(),this.startHeartbeat(),this.settings.backgroundSync&&this.startPeriodicSync(),console.log(" Background Order Service started")}async stop(){this.isRunning&&(console.log(" Stopping Background Order Service..."),this.isRunning=!1,this.realtimeChannel&&(await z.removeChannel(this.realtimeChannel),this.realtimeChannel=null),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),this.wakeLock&&(this.wakeLock.release(),this.wakeLock=null),console.log(" Background Order Service stopped"))}async restart(){await this.stop(),await this.start()}async setupRealtimeMonitoring(){try{this.realtimeChannel=z.channel("background-order-monitoring").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},t=>{console.log(" New order detected in background service:",t),this.handleNewOrder(t.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},t=>{console.log(" Order updated in background service:",t),this.handleOrderUpdate(t.new)}).subscribe(t=>{console.log(" Realtime subscription status:",t)})}catch(t){console.error(" Failed to setup realtime monitoring:",t),this.scheduleRetry()}}handleNewOrder(t){const{order_number:r,customer_name:n,total_amount:s,id:i}=t;console.log(" Processing new order in background:",r),this.triggerComprehensiveNotification(r,n,`$${s}`,i),this.lastOrderCheck=new Date,this.retryCount=0}handleOrderUpdate(t){console.log(" Order updated:",t.order_number,"Status:",t.status),t.status==="accepted"||t.status}triggerComprehensiveNotification(t,r,n,s){if(console.log(" Triggering comprehensive notification for order:",t),this.settings.soundEnabled&&nt.notifyNewOrder(t,r),this.settings.persistentNotifications&&"Notification"in window&&Notification.permission==="granted"){const i=new Notification(` New Order #${t}`,{body:`Order from ${r} - ${n}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:"new-order",requireInteraction:!0,silent:!this.settings.soundEnabled,actions:[{action:"view",title:"View Order"},{action:"accept",title:"Accept"}],data:{orderId:s,orderNumber:t,url:"/orders"}});i.onclick=()=>{window.focus(),window.location.href="/orders",i.close()}}if(this.serviceWorker&&this.serviceWorker.postMessage({type:"NEW_ORDER",orderNumber:t,customerName:r,amount:n,orderId:s}),this.settings.vibrationEnabled&&"vibrate"in navigator&&navigator.vibrate([200,100,200,100,200,100,200]),this.wakeLock&&this.settings.wakeScreen&&console.log(" Screen should stay awake for notification"),window&&document.hidden)try{window.focus()}catch(i){console.log("Could not focus window:",i)}}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.isRunning&&(console.log(" Background Order Service heartbeat"),this.realtimeChannel&&this.realtimeChannel.state!=="joined"&&(console.log(" Realtime connection lost, reconnecting..."),this.setupRealtimeMonitoring()))},6e4)}startPeriodicSync(){this.syncInterval=setInterval(async()=>{this.isRunning&&await this.syncOrders()},3e4)}async syncOrders(){try{console.log(" Syncing orders in background...");const{data:t,error:r}=await z.from("orders").select("*").gte("created_at",this.lastOrderCheck.toISOString()).order("created_at",{ascending:!1});if(r)throw r;t&&t.length>0&&(console.log(` Found ${t.length} new orders during sync`),t.forEach(n=>{new Date(n.created_at)>this.lastOrderCheck&&this.handleNewOrder(n)})),this.lastOrderCheck=new Date,this.retryCount=0}catch(t){console.error(" Order sync failed:",t),this.scheduleRetry()}}scheduleRetry(){this.retryCount<this.settings.maxRetries?(this.retryCount++,console.log(` Scheduling retry ${this.retryCount}/${this.settings.maxRetries} in ${this.settings.retryInterval}ms`),setTimeout(()=>{this.isRunning&&this.setupRealtimeMonitoring()},this.settings.retryInterval)):(console.error(" Max retries reached, stopping background service"),this.stop())}getStatus(){var t;return{isRunning:this.isRunning,hasServiceWorker:!!this.serviceWorker,hasWakeLock:!!this.wakeLock,hasRealtimeConnection:((t=this.realtimeChannel)==null?void 0:t.state)==="joined",lastOrderCheck:this.lastOrderCheck,retryCount:this.retryCount,settings:this.settings}}}const Zn=new D5,T5=()=>{const[e,t]=S.useState([]),[r,n]=S.useState(!1),[s,i]=S.useState({backgroundService:!1,phoneService:!1,realtimeConnection:!1,serviceWorker:!1,notifications:!1,wakeLock:!1,isOnline:navigator.onLine}),[o,l]=S.useState({customerName:"Test Customer",customerEmail:"test@example.com",customerPhone:"+1234567890",totalAmount:99.99,category:"Bouquets",productDescription:"Test Flower Arrangement",quantity:1,specialRequests:"This is a test order for system validation"}),[c,u]=S.useState(!1),[f,d]=S.useState(!1),{toast:p}=Ae();S.useEffect(()=>{m();const F=setInterval(m,5e3);return()=>clearInterval(F)},[]);const m=()=>{const F=Zn.getStatus(),T=nt.getSettings();i({backgroundService:F.isRunning,phoneService:T.enabled,realtimeConnection:F.hasRealtimeConnection,serviceWorker:F.hasServiceWorker,notifications:Notification.permission==="granted",wakeLock:F.hasWakeLock,isOnline:navigator.onLine})},h=(F,T,_,B)=>{t(W=>[...W,{name:F,status:T,message:_,timestamp:new Date,duration:B}])},x=(F,T,_,B)=>{t(W=>W.map(q=>q.name===F?{...q,status:T,message:_,duration:B,timestamp:new Date}:q))},b=async()=>{n(!0),t([]);const F=[{name:"System Initialization",test:g},{name:"Database Connection",test:v},{name:"Real-time Subscription",test:y},{name:"Notification Permissions",test:w},{name:"Service Worker Registration",test:N},{name:"Phone Notification Service",test:j},{name:"Background Order Service",test:E},{name:"Order Creation",test:C},{name:"Order Notification Flow",test:I},{name:"Screen Off Notifications",test:D},{name:"Background Processing",test:O},{name:"Offline Handling",test:P},{name:"Recovery After Connection Loss",test:R}];for(const{name:T,test:_}of F){h(T,"running","Test in progress...");try{const B=Date.now();await _();const W=Date.now()-B;x(T,"passed","Test completed successfully",W)}catch(B){const W=Date.now()-Date.now();x(T,"failed",`Test failed: ${B}`,W)}await new Promise(B=>setTimeout(B,1e3))}n(!1),p({title:" Test Suite Completed",description:"All order system tests have been executed"})},g=async()=>{if(!s.backgroundService)throw new Error("Background service not initialized");if(!s.phoneService)throw new Error("Phone service not initialized")},v=async()=>{const{data:F,error:T}=await z.from("orders").select("count").limit(1);if(T)throw new Error(`Database connection failed: ${T.message}`)},y=async()=>{if(!s.realtimeConnection)throw new Error("Real-time subscription not active")},w=async()=>{if(Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")},N=async()=>{if(!("serviceWorker"in navigator))throw new Error("Service Worker not supported");if(!await navigator.serviceWorker.getRegistration())throw new Error("Service Worker not registered")},j=async()=>{nt.testNotificationSound(),await new Promise(F=>setTimeout(F,2e3))},E=async()=>{if(!Zn.getStatus().isRunning)throw new Error("Background order service not running")},C=async()=>{const F=`TEST-${Date.now()}`,{data:T,error:_}=await z.from("orders").insert({order_number:F,customer_name:o.customerName,customer_email:o.customerEmail,customer_phone:o.customerPhone,total_amount:o.totalAmount,status:"pending",notes:`Test order created at ${new Date().toISOString()}`}).select().single();if(_)throw new Error(`Order creation failed: ${_.message}`);setTimeout(async()=>{await z.from("orders").delete().eq("id",T.id)},1e4)},I=async()=>new Promise((F,T)=>{const _=`NOTIFY-TEST-${Date.now()}`;let B=!1;const W=q=>{q instanceof CustomEvent&&q.detail.orderNumber===_&&(B=!0,document.removeEventListener("orderNotification",W),F(!0))};document.addEventListener("orderNotification",W),z.from("orders").insert({order_number:_,customer_name:"Notification Test",customer_email:"notify@test.com",total_amount:50,status:"pending",notes:"Notification flow test order"}).then(({data:q,error:J})=>{if(J){T(new Error(`Notification test order creation failed: ${J.message}`));return}setTimeout(async()=>{q&&Array.isArray(q)&&q.length>0&&await z.from("orders").delete().eq("id",q[0].id),B||T(new Error("Notification not received within timeout"))},15e3)})}),D=async()=>{if(!c)throw new Error("Screen off test not enabled - please enable and test manually");p({title:" Screen Off Test",description:"Turn off your screen now. A test notification will be sent in 5 seconds.",duration:5e3}),await new Promise(F=>setTimeout(F,5e3)),nt.notifyNewOrder("SCREEN-OFF-TEST","Screen Off Test Customer"),await new Promise(F=>setTimeout(F,1e4))},O=async()=>{if(!f)throw new Error("Background test not enabled - please enable and test manually");p({title:" Background Test",description:"Minimize this app now. A test order will be created in 10 seconds.",duration:1e4}),await new Promise(T=>setTimeout(T,1e4));const F=`BG-TEST-${Date.now()}`;await z.from("orders").insert({order_number:F,customer_name:"Background Test",customer_email:"bg@test.com",total_amount:75,status:"pending",notes:"Background processing test order"})},P=async()=>{if(!navigator.onLine)throw new Error("Already offline - cannot test offline handling");p({title:" Offline Test",description:"Disconnect your internet now to test offline handling",duration:5e3}),await new Promise(F=>setTimeout(F,5e3))},R=async()=>{if(await Zn.restart(),await new Promise(T=>setTimeout(T,3e3)),!Zn.getStatus().isRunning)throw new Error("Service did not recover after restart")},A=async()=>{const F=`MANUAL-TEST-${Date.now()}`;try{const{data:T,error:_}=await z.from("orders").insert({order_number:F,customer_name:o.customerName,customer_email:o.customerEmail,customer_phone:o.customerPhone,total_amount:o.totalAmount,status:"pending",notes:`Manual test order: ${o.specialRequests}`}).select().single();if(_)throw _;p({title:" Test Order Created",description:`Order #${F} created successfully`}),setTimeout(async()=>{await z.from("orders").delete().eq("id",T.id),p({title:" Test Order Cleaned Up",description:`Order #${F} automatically deleted`})},3e4)}catch(T){p({title:" Test Order Failed",description:`Failed to create test order: ${T}`,variant:"destructive"})}},M=F=>{switch(F){case"passed":return a.jsx(gt,{className:"w-4 h-4 text-green-600"});case"failed":return a.jsx(pi,{className:"w-4 h-4 text-red-600"});case"running":return a.jsx(Qa,{className:"w-4 h-4 text-blue-600 animate-spin"});default:return a.jsx(Qa,{className:"w-4 h-4 text-gray-400"})}},L=(F,T)=>a.jsxs(ot,{variant:F?"default":"secondary",className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${F?"bg-green-500":"bg-gray-400"}`}),T]});return a.jsx("div",{className:"space-y-6",children:a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(fo,{className:"w-5 h-5"}),"Order System Tester"]})}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[L(s.backgroundService,"Background Service"),L(s.phoneService,"Phone Service"),L(s.realtimeConnection,"Real-time"),L(s.serviceWorker,"Service Worker"),L(s.notifications,"Notifications"),L(s.wakeLock,"Wake Lock"),L(s.isOnline,"Online")]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"customerName",children:"Customer Name"}),a.jsx(pe,{id:"customerName",value:o.customerName,onChange:F=>l(T=>({...T,customerName:F.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{htmlFor:"totalAmount",children:"Total Amount"}),a.jsx(pe,{id:"totalAmount",type:"number",value:o.totalAmount,onChange:F=>l(T=>({...T,totalAmount:parseFloat(F.target.value)}))})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(ee,{htmlFor:"specialRequests",children:"Special Requests"}),a.jsx(nn,{id:"specialRequests",value:o.specialRequests,onChange:F=>l(T=>({...T,specialRequests:F.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vs,{id:"screenOffTest",checked:c,onCheckedChange:u}),a.jsx(ee,{htmlFor:"screenOffTest",children:"Enable Screen Off Test"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vs,{id:"backgroundTest",checked:f,onCheckedChange:d}),a.jsx(ee,{htmlFor:"backgroundTest",children:"Enable Background Test"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{onClick:b,disabled:r,className:"flex items-center gap-2",children:[r?a.jsx(ky,{className:"w-4 h-4"}):a.jsx(qp,{className:"w-4 h-4"}),r?"Running Tests...":"Run All Tests"]}),a.jsxs($,{onClick:A,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Bp,{className:"w-4 h-4"}),"Create Test Order"]}),a.jsxs($,{onClick:()=>nt.testNotificationSound(),variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"w-4 h-4"}),"Test Sound"]})]}),e.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Results"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map((F,T)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[M(F.status),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:F.name}),a.jsx("div",{className:"text-sm text-gray-600",children:F.message})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:F.duration&&`${F.duration}ms`})]},T))})]})]})]})})},A5=()=>{const[e,t]=S.useState(null),[r,n]=S.useState(0),[s,i]=S.useState(!1),[o,l]=S.useState(!0),[c,u]=S.useState(navigator.onLine),[f,d]=S.useState(new Date),[p,m]=S.useState({totalOrders:0,pendingOrders:0,acceptedOrders:0,completedOrders:0,totalRevenue:0,todayOrders:0}),{toast:h}=Ae(),{data:x,isLoading:b,refetch:g,error:v}=go({queryKey:["orders-dashboard"],queryFn:async()=>{const{data:C,error:I}=await z.from("orders").select("*").order("created_at",{ascending:!1});if(I)throw I;return C},refetchInterval:3e4,refetchIntervalInBackground:!0}),{data:y,refetch:w}=go({queryKey:["order-notifications-dashboard"],queryFn:async()=>{const{data:C,error:I}=await z.from("order_notifications").select("*").eq("is_read",!1).order("created_at",{ascending:!1});if(I)throw I;return C},refetchInterval:1e4,refetchIntervalInBackground:!0});S.useEffect(()=>{if(x){const C=new Date().toDateString(),I=x.filter(D=>new Date(D.created_at).toDateString()===C);m({totalOrders:x.length,pendingOrders:x.filter(D=>D.status==="pending").length,acceptedOrders:x.filter(D=>D.status==="accepted").length,completedOrders:x.filter(D=>D.status==="completed").length,totalRevenue:x.reduce((D,O)=>D+Number(O.total_amount),0),todayOrders:I.length}),d(new Date)}},[x]),S.useEffect(()=>{const C=z.channel("order-dashboard-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},I=>{console.log(" New order received in dashboard:",I),window.location.pathname==="/orders"&&nt.notifyNewOrder(I.new.order_number,I.new.customer_name),h({title:" NEW ORDER RECEIVED!",description:`Order #${I.new.order_number} from ${I.new.customer_name}`,duration:15e3}),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Received!",{body:`Order #${I.new.order_number} from ${I.new.customer_name}`,icon:"/favicon.ico",tag:"new-order",requireInteraction:!0}),g(),w()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},()=>{g()}).subscribe();return()=>{z.removeChannel(C)}},[g,w,h]),S.useEffect(()=>{const C=()=>{u(!0),h({title:" Back Online",description:"Connection restored. Syncing data..."}),g(),w()},I=()=>{u(!1),h({title:" Connection Lost",description:"Working offline. Will sync when connection is restored.",variant:"destructive"})};return window.addEventListener("online",C),window.addEventListener("offline",I),()=>{window.removeEventListener("online",C),window.removeEventListener("offline",I)}},[g,w,h]),S.useEffect(()=>{y&&n(y.length)},[y]),S.useEffect(()=>{const C=setInterval(()=>{i(nt.isCurrentlyRinging())},500);return()=>clearInterval(C)},[]),S.useEffect(()=>("Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(C=>{C==="granted"&&h({title:" Notifications Enabled",description:"You will receive browser notifications for new orders"})}),Zn.updateSettings({...Zn.getSettings(),soundEnabled:!1}),Zn.start().then(()=>{h({title:" Background Service Started",description:"Background monitoring active (notifications handled by dashboard)"})}).catch(C=>{console.error("Failed to start background service:",C),h({title:" Background Service Warning",description:"Some notification features may not work properly",variant:"destructive"})}),()=>{Zn.stop()}),[h]);const N=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),j=C=>{const I={pending:{color:"bg-yellow-100 text-yellow-800",icon:Qa},accepted:{color:"bg-blue-100 text-blue-800",icon:Or},processing:{color:"bg-purple-100 text-purple-800",icon:Or},shipped:{color:"bg-orange-100 text-orange-800",icon:Hp},delivered:{color:"bg-green-100 text-green-800",icon:gt},completed:{color:"bg-green-100 text-green-800",icon:gt},cancelled:{color:"bg-red-100 text-red-800",icon:af},rejected:{color:"bg-red-100 text-red-800",icon:af}},D=I[C]||I.pending,O=D.icon;return a.jsxs(ot,{className:`${D.color} flex items-center gap-1 text-xs`,children:[a.jsx(O,{className:"w-3 h-3"}),C.charAt(0).toUpperCase()+C.slice(1)]})},E=()=>{l(!o),nt.updateSettings({...nt.getSettings(),enabled:!o}),h({title:o?" Sound Disabled":" Sound Enabled",description:o?"Order notifications will be silent":"Order notifications will play sound"})};return b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading Order Dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:" Order Dashboard"}),a.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Real-time order management and notifications"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ot,{variant:c?"default":"destructive",className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":"bg-red-500"}`}),c?"Online":"Offline"]}),a.jsxs($,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-2",children:[o?a.jsx(Ya,{className:"w-4 h-4"}):a.jsx(Ay,{className:"w-4 h-4"}),o?"Sound On":"Sound Off"]}),s&&a.jsxs($,{onClick:()=>nt.stopRinging(),variant:"destructive",size:"sm",className:"animate-pulse flex items-center gap-2",children:[a.jsx(lu,{className:"w-4 h-4"}),"Stop Ringing"]}),a.jsx(I5,{notifications:y||[],count:r,onRefresh:()=>{g(),w()}}),a.jsxs($,{variant:"outline",size:"sm",onClick:()=>{g(),w()},className:"flex items-center gap-2",children:[a.jsx(Jr,{className:"w-4 h-4"}),"Refresh"]})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last updated: ",f.toLocaleTimeString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Orders"}),a.jsx("p",{className:"text-lg font-bold",children:p.totalOrders})]}),a.jsx(Or,{className:"w-6 h-6 text-blue-600"})]})})}),a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-lg font-bold text-yellow-600",children:p.pendingOrders})]}),a.jsx(Qa,{className:"w-6 h-6 text-yellow-600"})]})})}),a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Accepted"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.acceptedOrders})]}),a.jsx(gt,{className:"w-6 h-6 text-blue-600"})]})})}),a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:p.completedOrders})]}),a.jsx(gt,{className:"w-6 h-6 text-green-600"})]})})}),a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Today"}),a.jsx("p",{className:"text-lg font-bold text-purple-600",children:p.todayOrders})]}),a.jsx(Fj,{className:"w-6 h-6 text-purple-600"})]})})}),a.jsx(ce,{children:a.jsx(ue,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Revenue"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:N(p.totalRevenue)})]}),a.jsx(Dj,{className:"w-6 h-6 text-green-600"})]})})})]}),a.jsxs(el,{defaultValue:"dashboard",className:"space-y-6",children:[a.jsxs(Js,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"dashboard",children:"Dashboard"}),a.jsx(Ee,{value:"orders",children:"Orders"}),a.jsx(Ee,{value:"testing",children:"System Testing"})]}),a.jsx(We,{value:"dashboard",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Recent Orders"}),a.jsxs(ot,{variant:"secondary",children:[(x==null?void 0:x.length)||0," total"]})]})}),a.jsx(ue,{children:x&&x.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:x.map(C=>a.jsx(ce,{className:`cursor-pointer transition-all hover:shadow-md ${(e==null?void 0:e.id)===C.id?"ring-2 ring-blue-500":""}`,onClick:()=>t(C),children:a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["#",C.order_number]}),j(C.status)]}),a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:C.customer_name}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:new Date(C.created_at).toLocaleDateString()}),a.jsx("span",{className:"font-medium",children:N(Number(C.total_amount))})]})]})},C.id))}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No orders found"})]})})]}),a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Order Details"})}),a.jsx(ue,{children:e?a.jsx(jx,{order:e,onUpdate:()=>{g(),t(null)},onDelete:()=>{g(),t(null)}}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(gt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Select an order to view details"})]})})]})]})}),a.jsx(We,{value:"orders",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"All Orders"}),a.jsxs(ot,{variant:"secondary",children:[(x==null?void 0:x.length)||0," total"]})]})}),a.jsx(ue,{children:x&&x.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:x.map(C=>a.jsx(ce,{className:`cursor-pointer transition-all hover:shadow-md ${(e==null?void 0:e.id)===C.id?"ring-2 ring-blue-500":""}`,onClick:()=>t(C),children:a.jsxs(ue,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["#",C.order_number]}),j(C.status)]}),a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:C.customer_name}),a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:C.customer_email}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:new Date(C.created_at).toLocaleDateString()}),a.jsx("span",{className:"font-medium",children:N(Number(C.total_amount))})]}),C.notes&&a.jsx("div",{className:"text-xs text-gray-400 mt-2 truncate",children:C.notes})]})},C.id))}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No orders found"})]})})]}),a.jsxs(ce,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Order Details"})}),a.jsx(ue,{children:e?a.jsx(jx,{order:e,onUpdate:()=>{g(),t(null)},onDelete:()=>{g(),t(null)}}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(gt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Select an order to view details"})]})})]})]})}),a.jsx(We,{value:"testing",className:"space-y-6",children:a.jsx(T5,{})})]})]})},R5=()=>{const{t:e}=R0();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Xo,{}),a.jsxs("main",{className:"pt-20",children:[a.jsx("section",{className:"py-16 bg-gradient-to-r from-emerald-500/10 to-peach-500/10",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-playfair font-bold mb-4 text-gray-800",children:e("ourMenu")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:e("menuDescription")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-emerald-400 to-emerald-600 mx-auto rounded-full"})]})}),a.jsx(ub,{})]}),a.jsx(tl,{})]})},O5=()=>a.jsx(R5,{}),_5=()=>{const e=ZN();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},F5=()=>{const[e]=Kx(),t=Qx(),{toast:r}=Ae(),[n,s]=S.useState(!0),[i,o]=S.useState(!1),[l,c]=S.useState(""),u=e.get("session_id"),f=e.get("order_id"),d=e.get("mock")==="true";return S.useEffect(()=>{(async()=>{if(!u||!f){r({title:"Invalid Payment Link",description:"Missing payment session information.",variant:"destructive"}),t("/");return}try{if(s(!0),d){const{supabase:m}=await mr(async()=>{const{supabase:x}=await Promise.resolve().then(()=>Zs);return{supabase:x}},void 0);await m.from("orders").update({status:"paid",stripe_session_id:u,stripe_payment_intent_id:`pi_mock_${Date.now()}`,payment_status:"paid",paid_amount:25,paid_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",f);const{data:h}=await m.from("orders").select("order_number").eq("id",f).single();h&&c(h.order_number),r({title:"Mock Payment Successful! ",description:"Test payment completed successfully. This was a mock transaction."})}else{const m=await Sc.verifyPayment(u);if(m.status==="paid"){await Sc.updateOrderAfterPayment(f,{stripeSessionId:u,paymentIntentId:m.paymentIntentId||"",status:m.status,amountPaid:(m.amountTotal||0)/100});const{supabase:h}=await mr(async()=>{const{supabase:b}=await Promise.resolve().then(()=>Zs);return{supabase:b}},void 0),{data:x}=await h.from("orders").select("order_number").eq("id",f).single();x&&c(x.order_number),r({title:"Payment Successful! ",description:"Your order has been confirmed and payment processed."})}else throw new Error("Payment not completed")}}catch(m){console.error("Payment verification error:",m),r({title:"Payment Verification Failed",description:"There was an issue verifying your payment. Please contact support.",variant:"destructive"})}finally{s(!1),o(!0)}})()},[u,f,r,t]),a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Xo,{}),a.jsx("main",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(ce,{className:"text-center",children:[a.jsxs(Ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:n?a.jsx(ye,{className:"h-16 w-16 text-emerald-600 animate-spin"}):a.jsx(gt,{className:"h-16 w-16 text-emerald-600"})}),a.jsx(je,{className:"text-2xl font-playfair",children:n?"Verifying Payment...":"Payment Successful!"})]}),a.jsx(ue,{className:"space-y-6",children:n?a.jsx("div",{children:a.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your payment and update your order."})}):i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-2",children:"Thank you for your purchase!"}),a.jsxs("p",{className:"text-emerald-700",children:["Your payment has been processed successfully.",l&&a.jsxs("span",{className:"block mt-1",children:["Order Number: ",a.jsxs("strong",{children:["#",l]})]})]})]}),a.jsxs("div",{className:"text-left space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"What happens next?"}),a.jsxs("ul",{className:"text-gray-600 space-y-1",children:[a.jsx("li",{children:" You'll receive an email confirmation shortly"}),a.jsx("li",{children:" Our team will contact you to confirm delivery details"}),a.jsx("li",{children:" We'll prepare your beautiful floral arrangement"}),a.jsx("li",{children:" Your order will be delivered on the specified date"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs($,{onClick:()=>t("/products"),className:"flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]}),a.jsxs($,{onClick:()=>t("/"),variant:"outline",className:"flex-1",children:[a.jsx(jy,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]}):a.jsxs("div",{className:"text-gray-600",children:[a.jsx("p",{children:"There was an issue processing your payment verification."}),a.jsx("p",{children:"Please contact our support team for assistance."})]})})]})})})}),a.jsx(tl,{})]})},M5=()=>{const[e]=Kx(),t=Qx(),{toast:r}=Ae(),n=e.get("order_id");S.useEffect(()=>{(async()=>{if(n)try{await Sc.handleFailedPayment(n,"Payment cancelled by user")}catch(o){console.error("Error handling cancelled payment:",o)}r({title:"Payment Cancelled",description:"Your payment was cancelled. Your order is still saved and you can complete payment later.",variant:"destructive"})})()},[n,r]);const s=()=>{t(n?`/order?retry=${n}`:"/products")};return a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Xo,{}),a.jsx("main",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(ce,{className:"text-center",children:[a.jsxs(Ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(pi,{className:"h-16 w-16 text-red-500"})}),a.jsx(je,{className:"text-2xl font-playfair text-red-600",children:"Payment Cancelled"})]}),a.jsx(ue,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Payment was not completed"}),a.jsx("p",{className:"text-red-700",children:"You cancelled the payment process. Don't worry - your order information has been saved and you can complete the payment at any time."})]}),a.jsxs("div",{className:"text-left space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"What you can do:"}),a.jsxs("ul",{className:"text-gray-600 space-y-1",children:[a.jsx("li",{children:" Try the payment process again"}),a.jsx("li",{children:" Contact us directly to complete your order"}),a.jsx("li",{children:" Browse more products and add them to a new order"}),a.jsx("li",{children:" Your order details are saved for future reference"})]})]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Need Help?"}),a.jsxs("p",{className:"text-amber-700 text-sm",children:["If you're experiencing issues with payment, please contact us at"," ",a.jsx("a",{href:"mailto:info@francescofiori.it",className:"underline",children:"info@francescofiori.it"})," ","or call us directly. We're here to help!"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs($,{onClick:s,className:"flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:[a.jsx(Qo,{className:"h-4 w-4 mr-2"}),"Try Payment Again"]}),a.jsxs($,{onClick:()=>t("/products"),variant:"outline",className:"flex-1",children:[a.jsx(by,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})]}),a.jsxs($,{onClick:()=>t("/"),variant:"ghost",className:"w-full",children:[a.jsx(jy,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})})]})})})}),a.jsx(tl,{})]})};async function L5(){try{console.log("[VerifyDB] Checking categories data...");const{data:e,error:t}=await z.from("categories").select("id, name, slug, is_active").eq("is_active",!0);if(t)return{success:!1,message:`Categories query error: ${t.message}`,details:t};if(!e||e.length===0)return{success:!1,message:"No active categories found in database"};const r=["matrimoni","fiori-piante","fiori-finti","funerali"],n=e.map(i=>i.slug),s=r.filter(i=>!n.includes(i));return s.length>0?{success:!1,message:`Missing required categories: ${s.join(", ")}`,details:{existing:n,missing:s}}:{success:!0,message:`Found all ${e.length} required categories`,details:{categories:e.map(i=>({name:i.name,slug:i.slug}))}}}catch(e){return{success:!1,message:`Categories verification error: ${e.message}`,details:e}}}async function z5(){try{console.log("[VerifyDB] Checking products data...");const{data:e,error:t}=await z.from("products").select(`
        id,
        name,
        price,
        is_active,
        is_featured,
        category_id,
        categories (
          id,
          name,
          slug
        )
      `).eq("is_active",!0);if(t)return{success:!1,message:`Products query error: ${t.message}`,details:t};if(!e||e.length===0)return{success:!1,message:"No active products found in database"};const r=e.reduce((c,u)=>{var d;const f=((d=u.categories)==null?void 0:d.slug)||"unknown";return c[f]||(c[f]=[]),c[f].push(u),c},{}),n=["matrimoni","fiori-piante","fiori-finti","funerali"],s=Object.keys(r),i=n.filter(c=>!s.includes(c)),o=e.filter(c=>!c.categories);let l=[];return i.length>0&&l.push(`Categories without products: ${i.join(", ")}`),o.length>0&&l.push(`${o.length} products missing category links`),{success:l.length===0,message:l.length===0?`Found ${e.length} active products across ${s.length} categories`:`Found ${e.length} products but with issues: ${l.join("; ")}`,details:{totalProducts:e.length,productsByCategory:Object.keys(r).map(c=>({category:c,count:r[c].length})),warnings:l}}}catch(e){return{success:!1,message:`Products verification error: ${e.message}`,details:e}}}async function $5(){console.log("[VerifyDB] Starting comprehensive database verification...");const e=await L5(),t=await z5(),r=e.success&&t.success;return console.log("[VerifyDB] Verification complete:",{categories:e.success,products:t.success,overall:r}),{categories:e,products:t,overall:r}}const B5=()=>{const[e,t]=S.useState(!1),[r,n]=S.useState(!1),[s,i]=S.useState(null),{toast:o}=Ae(),l=async()=>{t(!0);try{console.log("[DatabaseSetup] Starting database initialization..."),await xu()?(o({title:"Success! ",description:"Database initialized successfully with all categories and products"}),await c()):o({title:"Initialization Failed",description:"Failed to initialize database. Check console for details.",variant:"destructive"})}catch(f){console.error("[DatabaseSetup] Initialization error:",f),o({title:"Error",description:`Database initialization failed: ${f.message}`,variant:"destructive"})}finally{t(!1)}},c=async()=>{n(!0);try{console.log("[DatabaseSetup] Verifying database state...");const f=await $5();i(f),f.overall?o({title:"Database Verified ",description:"All categories and products are properly configured"}):o({title:"Database Issues Found",description:"Some issues were found. Check the details below.",variant:"destructive"})}catch(f){console.error("[DatabaseSetup] Verification error:",f),o({title:"Verification Failed",description:`Failed to verify database: ${f.message}`,variant:"destructive"})}finally{n(!1)}},u=({success:f,label:d})=>a.jsxs(ot,{variant:f?"default":"destructive",className:"flex items-center gap-1",children:[f?a.jsx(gt,{className:"h-3 w-3"}):a.jsx(pi,{className:"h-3 w-3"}),d]});return a.jsxs(ce,{className:"w-full max-w-2xl mx-auto",children:[a.jsxs(Ne,{children:[a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(qs,{className:"h-5 w-5"}),"Database Setup & Verification"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Initialize and verify the backend database for the Products section"})]}),a.jsxs(ue,{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx($,{onClick:l,disabled:e||r,className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Initializing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Oj,{className:"mr-2 h-4 w-4"}),"Initialize Database"]})}),a.jsx($,{onClick:c,disabled:e||r,variant:"outline",className:"flex-1",children:r?a.jsxs(a.Fragment,{children:[a.jsx(ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Verify Database"]})})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Database Status"}),a.jsx(u,{success:s.overall,label:s.overall?"All Good":"Issues Found"})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(di,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Categories"})]}),a.jsx(u,{success:s.categories.success,label:s.categories.success?"OK":"Issues"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.categories.message}),s.categories.details&&a.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded",children:a.jsx("pre",{children:JSON.stringify(s.categories.details,null,2)})})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Products"})]}),a.jsx(u,{success:s.products.success,label:s.products.success?"OK":"Issues"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.products.message}),s.products.details&&a.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded",children:a.jsx("pre",{children:JSON.stringify(s.products.details,null,2)})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Setup Instructions:"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:'1. Click "Initialize Database" to create categories and products'}),a.jsx("li",{children:'2. Click "Verify Database" to check the current state'}),a.jsx("li",{children:"3. Check that all 4 categories exist: Matrimoni, Fiori & Piante, Fiori Finti, Funerali"}),a.jsx("li",{children:"4. Verify that products are properly linked to categories"}),a.jsx("li",{children:"5. Go to the Products section to see the results"})]})]})]})]})},U5=new zE,q5=()=>a.jsx($t,{componentName:"App",children:a.jsx(HE,{client:U5,children:a.jsx(SE,{children:a.jsxs(rP,{children:[a.jsx(oP,{}),a.jsx(b2,{}),a.jsx(Z2,{}),a.jsx(XN,{children:a.jsxs(JN,{children:[a.jsx(on,{path:"/",element:a.jsx($t,{componentName:"Index",children:a.jsx(vk,{})})}),a.jsx(on,{path:"/admin",element:a.jsx($t,{componentName:"Admin",children:a.jsx(E5,{})})}),a.jsx(on,{path:"/order",element:a.jsx($t,{componentName:"Order",children:a.jsx(k5,{})})}),a.jsx(on,{path:"/orders",element:a.jsx($t,{componentName:"OrderDashboard",children:a.jsx(A5,{})})}),a.jsx(on,{path:"/menu",element:a.jsx($t,{componentName:"MenuPage",children:a.jsx(O5,{})})}),a.jsx(on,{path:"/payment/success",element:a.jsx($t,{componentName:"PaymentSuccess",children:a.jsx(F5,{})})}),a.jsx(on,{path:"/payment/cancel",element:a.jsx($t,{componentName:"PaymentCancel",children:a.jsx(M5,{})})}),a.jsx(on,{path:"/database-setup",element:a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx($t,{componentName:"DatabaseSetup",children:a.jsx(B5,{})})})}),a.jsx(on,{path:"*",element:a.jsx(_5,{})})]})}),a.jsx(iP,{})]})})})});Yx(document.getElementById("root")).render(a.jsx(q5,{}));
