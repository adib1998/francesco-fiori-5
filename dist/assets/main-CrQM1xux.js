var l2=Object.defineProperty;var ov=e=>{throw TypeError(e)};var c2=(e,t,r)=>t in e?l2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ze=(e,t,r)=>c2(e,typeof t!="symbol"?t+"":t,r),rf=(e,t,r)=>t.has(e)||ov("Cannot "+r);var D=(e,t,r)=>(rf(e,t,"read from private field"),r?r.call(e):t.get(e)),ae=(e,t,r)=>t.has(e)?ov("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(rf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ye=(e,t,r)=>(rf(e,t,"access private method"),r);var Xl=(e,t,r,n)=>({set _(s){Z(e,t,s,r)},get _(){return D(e,t,n)}});import{j as a,P as Fe,c as Vu,a as b0,u as Ct,B as u2,b as Zc,d as d2,e as _e,f as xa,R as f2,g as w0,h as gr,i as m2,S as p2,O as S0,k as h2,C as N0,l as g2,T as j0,D as C0,m as v2,L as E0,n as P0,o as k0,p as x2,q as Up,r as y2,s as b2,t as w2,v as S2,F as N2,w as j2,x as C2}from"./ui-uQe12GqY.js";import{b as bl,r as N,e as Hp,a as T0}from"./vendor-_Xm0Mw1R.js";import{L as lv,u as E2,a as I0,b as D0,B as P2,R as k2,c as yn}from"./router-DgQSPZ0n.js";import{c as T2,_ as vr}from"./supabase-BdrBm9fL.js";import{loadStripe as I2}from"./stripe-Z1fX3C2C.js";function D2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var A0,cv=bl;A0=cv.createRoot,cv.hydrateRoot;const A2=1,R2=1e6;let nf=0;function O2(){return nf=(nf+1)%Number.MAX_SAFE_INTEGER,nf.toString()}const sf=new Map,uv=e=>{if(sf.has(e))return;const t=setTimeout(()=>{sf.delete(e),No({type:"REMOVE_TOAST",toastId:e})},R2);sf.set(e,t)},_2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,A2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?uv(r):e.toasts.forEach(n=>{uv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ic=[];let Dc={toasts:[]};function No(e){Dc=_2(Dc,e),Ic.forEach(t=>{t(Dc)})}function ho({...e}){const t=O2(),r=s=>No({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>No({type:"DISMISS_TOAST",toastId:t});return No({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function De(){const[e,t]=N.useState(Dc);return N.useEffect(()=>(Ic.push(t),()=>{const r=Ic.indexOf(t);r>-1&&Ic.splice(r,1)}),[e]),{...e,toast:ho,dismiss:r=>No({type:"DISMISS_TOAST",toastId:r})}}var R0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F2="VisuallyHidden",qp=N.forwardRef((e,t)=>a.jsx(Fe.span,{...e,ref:t,style:{...R0,...e.style}}));qp.displayName=F2;var Vp="ToastProvider",[Wp,M2,L2]=b0("Toast"),[O0,p6]=Vu("Toast",[L2]),[$2,Wu]=O0(Vp),_0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=N.useState(null),[u,f]=N.useState(0),d=N.useRef(!1),m=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vp}\`. Expected non-empty \`string\`.`),a.jsx(Wp.Provider,{scope:t,children:a.jsx($2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>f(p=>p+1),[]),onToastRemove:N.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:o})})};_0.displayName=Vp;var F0="ToastViewport",z2=["F8"],im="toast.viewportPause",am="toast.viewportResume",M0=N.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=z2,label:s="Notifications ({hotkey})",...i}=e,o=Wu(F0,r),l=M2(r),c=N.useRef(null),u=N.useRef(null),f=N.useRef(null),d=N.useRef(null),m=Ct(t,d,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=o.toastCount>0;N.useEffect(()=>{const b=g=>{var y;n.length!==0&&n.every(w=>g[w]||g.code===w)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),N.useEffect(()=>{const b=c.current,g=d.current;if(h&&b&&g){const x=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(im);g.dispatchEvent(j),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(am);g.dispatchEvent(j),o.isClosePausedRef.current=!1}},w=j=>{!b.contains(j.relatedTarget)&&y()},S=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",x),b.addEventListener("focusout",w),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[h,o.isClosePausedRef]);const v=N.useCallback(({tabbingDirection:b})=>{const x=l().map(y=>{const w=y.ref.current,S=[w,...J2(w)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return N.useEffect(()=>{const b=d.current;if(b){const g=x=>{var S,j,C;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const E=document.activeElement,T=x.shiftKey;if(x.target===b&&T){(S=u.current)==null||S.focus();return}const P=v({tabbingDirection:T?"backwards":"forwards"}),O=P.findIndex(R=>R===E);af(P.slice(O+1))?x.preventDefault():T?(j=u.current)==null||j.focus():(C=f.current)==null||C.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[l,v]),a.jsxs(u2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&a.jsx(om,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});af(b)}}),a.jsx(Wp.Slot,{scope:r,children:a.jsx(Fe.ol,{tabIndex:-1,...i,ref:m})}),h&&a.jsx(om,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});af(b)}})]})});M0.displayName=F0;var L0="ToastFocusProxy",om=N.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=Wu(L0,r);return a.jsx(qp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});om.displayName=L0;var wl="Toast",B2="toast.swipeStart",U2="toast.swipeMove",H2="toast.swipeCancel",q2="toast.swipeEnd",$0=N.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=Zc({prop:n,defaultProp:s??!0,onChange:i,caller:wl});return a.jsx(d2,{present:r||l,children:a.jsx(G2,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xa(e.onPause),onResume:xa(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});$0.displayName=wl;var[V2,W2]=O0(wl,{onClose(){}}),G2=N.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:p,...h}=e,v=Wu(wl,r),[b,g]=N.useState(null),x=Ct(t,R=>g(R)),y=N.useRef(null),w=N.useRef(null),S=s||v.duration,j=N.useRef(0),C=N.useRef(S),E=N.useRef(0),{onToastAdd:T,onToastRemove:A}=v,_=xa(()=>{var $;(b==null?void 0:b.contains(document.activeElement))&&(($=v.viewport)==null||$.focus()),o()}),P=N.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(_,R))},[_]);N.useEffect(()=>{const R=v.viewport;if(R){const $=()=>{P(C.current),u==null||u()},L=()=>{const M=new Date().getTime()-j.current;C.current=C.current-M,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(im,L),R.addEventListener(am,$),()=>{R.removeEventListener(im,L),R.removeEventListener(am,$)}}},[v.viewport,S,c,u,P]),N.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(S)},[i,S,v.isClosePausedRef,P]),N.useEffect(()=>(T(),()=>A()),[T,A]);const O=N.useMemo(()=>b?W0(b):null,[b]);return v.viewport?a.jsxs(a.Fragment,{children:[O&&a.jsx(K2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),a.jsx(V2,{scope:r,onClose:_,children:bl.createPortal(a.jsx(Wp.ItemSlot,{scope:r,children:a.jsx(f2,{asChild:!0,onEscapeKeyDown:_e(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||_(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...h,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:_e(e.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:_e(e.onPointerMove,R=>{if(!y.current)return;const $=R.clientX-y.current.x,L=R.clientY-y.current.y,M=!!w.current,I=["left","right"].includes(v.swipeDirection),F=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=I?F(0,$):0,K=I?0:F(0,L),V=R.pointerType==="touch"?10:2,ee={x:z,y:K},Y={originalEvent:R,delta:ee};M?(w.current=ee,Jl(U2,d,Y,{discrete:!1})):dv(ee,v.swipeDirection,V)?(w.current=ee,Jl(B2,f,Y,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs($)>V||Math.abs(L)>V)&&(y.current=null)}),onPointerUp:_e(e.onPointerUp,R=>{const $=w.current,L=R.target;if(L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),w.current=null,y.current=null,$){const M=R.currentTarget,I={originalEvent:R,delta:$};dv($,v.swipeDirection,v.swipeThreshold)?Jl(q2,p,I,{discrete:!0}):Jl(H2,m,I,{discrete:!0}),M.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),K2=e=>{const{__scopeToast:t,children:r,...n}=e,s=Wu(wl,t),[i,o]=N.useState(!1),[l,c]=N.useState(!1);return Z2(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(w0,{asChild:!0,children:a.jsx(qp,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Q2="ToastTitle",z0=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Fe.div,{...n,ref:t})});z0.displayName=Q2;var Y2="ToastDescription",B0=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Fe.div,{...n,ref:t})});B0.displayName=Y2;var U0="ToastAction",H0=N.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(V0,{altText:r,asChild:!0,children:a.jsx(Gp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${U0}\`. Expected non-empty \`string\`.`),null)});H0.displayName=U0;var q0="ToastClose",Gp=N.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=W2(q0,r);return a.jsx(V0,{asChild:!0,children:a.jsx(Fe.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,s.onClose)})})});Gp.displayName=q0;var V0=N.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function W0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),X2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...W0(n))}}),t}function Jl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?m2(s,i):s.dispatchEvent(i)}var dv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function Z2(e=()=>{}){const t=xa(e);gr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function X2(e){return e.nodeType===e.ELEMENT_NODE}function J2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function af(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var eE=_0,G0=M0,K0=$0,Q0=z0,Y0=B0,Z0=H0,X0=Gp;function J0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=J0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function eb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=J0(e))&&(n&&(n+=" "),n+=t);return n}const fv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mv=eb,Gu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],d=i==null?void 0:i[u];if(f===null)return null;const m=fv(f)||fv(d);return s[u][m]}),l=r&&Object.entries(r).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:d,className:m,...p}=f;return Object.entries(p).every(h=>{let[v,b]=h;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,d,m]:u},[]);return mv(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>N.createElement("svg",{ref:f,...tE,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${rE(e)}`,l].join(" "),...u},[...t.map(([d,m])=>N.createElement(d,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=oe("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=oe("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=oe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=oe("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=oe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xp="-",pE=e=>{const t=gE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Xp);return l[0]===""&&l.length!==1&&l.shift(),hb(l,t)||hE(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},hb=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?hb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Xp);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pv=/^\[(.+)\]$/,hE=e=>{if(pv.test(e)){const t=pv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return xE(Object.entries(e.classGroups),r).forEach(([i,o])=>{dm(o,n,i,t)}),n},dm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:hv(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(vE(s)){dm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{dm(o,hv(t,i),r,n)})})},hv=(e,t)=>{let r=e;return t.split(Xp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},vE=e=>e.isThemeGetter,xE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,yE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},gb="!",bE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let b=0;b<l.length;b++){let g=l[b];if(u===0){if(g===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(f,b)),f=b+i;continue}if(g==="/"){d=b;continue}}g==="["?u++:g==="]"&&u--}const m=c.length===0?l:l.substring(f),p=m.startsWith(gb),h=p?m.substring(1):m,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},wE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},SE=e=>({cache:yE(e.cacheSize),parseClassName:bE(e),...pE(e)}),NE=/\s+/,jE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(NE);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let h=!!p,v=n(h?m.substring(0,p):m);if(!v){if(!h){l=u+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=u+(l.length>0?" "+l:l);continue}h=!1}const b=wE(f).join(":"),g=d?b+gb:b,x=g+v;if(i.includes(x))continue;i.push(x);const y=s(v,h);for(let w=0;w<y.length;++w){const S=y[w];i.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function CE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=vb(t))&&(n&&(n+=" "),n+=r);return n}const vb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=vb(e[n]))&&(r&&(r+=" "),r+=t);return r};function EE(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=SE(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=jE(c,r);return s(c,f),f}return function(){return i(CE.apply(null,arguments))}}const He=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},xb=/^\[(?:([a-z-]+):)?(.+)\]$/i,PE=/^\d+\/\d+$/,kE=new Set(["px","full","screen"]),TE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bn=e=>Qi(e)||kE.has(e)||PE.test(e),Vn=e=>$a(e,"length",BE),Qi=e=>!!e&&!Number.isNaN(Number(e)),of=e=>$a(e,"number",Qi),to=e=>!!e&&Number.isInteger(Number(e)),OE=e=>e.endsWith("%")&&Qi(e.slice(0,-1)),ve=e=>xb.test(e),Wn=e=>TE.test(e),_E=new Set(["length","size","percentage"]),FE=e=>$a(e,_E,yb),ME=e=>$a(e,"position",yb),LE=new Set(["image","url"]),$E=e=>$a(e,LE,HE),zE=e=>$a(e,"",UE),ro=()=>!0,$a=(e,t,r)=>{const n=xb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},BE=e=>IE.test(e)&&!DE.test(e),yb=()=>!1,UE=e=>AE.test(e),HE=e=>RE.test(e),qE=()=>{const e=He("colors"),t=He("spacing"),r=He("blur"),n=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),u=He("grayscale"),f=He("hueRotate"),d=He("invert"),m=He("gap"),p=He("gradientColorStops"),h=He("gradientColorStopPositions"),v=He("inset"),b=He("margin"),g=He("opacity"),x=He("padding"),y=He("saturate"),w=He("scale"),S=He("sepia"),j=He("skew"),C=He("space"),E=He("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",ve,t],P=()=>[ve,t],O=()=>["",bn,Vn],R=()=>["auto",Qi,ve],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ve],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Qi,ve];return{cacheSize:500,separator:":",theme:{colors:[ro],spacing:[bn,Vn],blur:["none","",Wn,ve],brightness:K(),borderColor:[e],borderRadius:["none","","full",Wn,ve],borderSpacing:P(),borderWidth:O(),contrast:K(),grayscale:F(),hueRotate:K(),invert:F(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[OE,Vn],inset:_(),margin:_(),opacity:K(),padding:P(),saturate:K(),scale:K(),sepia:F(),skew:K(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Wn]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ve]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",to,ve]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",to,ve]}],"grid-cols":[{"grid-cols":[ro]}],"col-start-end":[{col:["auto",{span:["full",to,ve]},ve]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[ro]}],"row-start-end":[{row:["auto",{span:[to,ve]},ve]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[Wn]},Wn]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",of]}],"font-family":[{font:[ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Qi,of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bn,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bn,Vn]}],"underline-offset":[{"underline-offset":["auto",bn,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),ME]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$E]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[bn,ve]}],"outline-w":[{outline:[bn,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[bn,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wn,zE]}],"shadow-color":[{shadow:[ro]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wn,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[to,ve]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bn,Vn,of]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VE=EE(qE);function he(...e){return VE(eb(e))}const WE=eE,bb=N.forwardRef(({className:e,...t},r)=>a.jsx(G0,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bb.displayName=G0.displayName;const GE=Gu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wb=N.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(K0,{ref:n,className:he(GE({variant:t}),e),...r}));wb.displayName=K0.displayName;const KE=N.forwardRef(({className:e,...t},r)=>a.jsx(Z0,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));KE.displayName=Z0.displayName;const Sb=N.forwardRef(({className:e,...t},r)=>a.jsx(X0,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(dn,{className:"h-4 w-4"})}));Sb.displayName=X0.displayName;const Nb=N.forwardRef(({className:e,...t},r)=>a.jsx(Q0,{ref:r,className:he("text-sm font-semibold",e),...t}));Nb.displayName=Q0.displayName;const jb=N.forwardRef(({className:e,...t},r)=>a.jsx(Y0,{ref:r,className:he("text-sm opacity-90",e),...t}));jb.displayName=Y0.displayName;function QE(){const{toasts:e}=De();return a.jsxs(WE,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(wb,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Nb,{children:r}),n&&a.jsx(jb,{children:n})]}),s,a.jsx(Sb,{})]},t)}),a.jsx(bb,{})]})}var Cb={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),YE=Symbol.for("react.portal"),ZE=Symbol.for("react.fragment"),XE=Symbol.for("react.strict_mode"),JE=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),rP=Symbol.for("react.forward_ref"),nP=Symbol.for("react.suspense"),sP=Symbol.for("react.memo"),iP=Symbol.for("react.lazy"),gv=Symbol.iterator;function aP(e){return e===null||typeof e!="object"?null:(e=gv&&e[gv]||e["@@iterator"],typeof e=="function"?e:null)}var Eb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pb=Object.assign,kb={};function za(e,t,r){this.props=e,this.context=t,this.refs=kb,this.updater=r||Eb}za.prototype.isReactComponent={};za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tb(){}Tb.prototype=za.prototype;function Jp(e,t,r){this.props=e,this.context=t,this.refs=kb,this.updater=r||Eb}var eh=Jp.prototype=new Tb;eh.constructor=Jp;Pb(eh,za.prototype);eh.isPureReactComponent=!0;var vv=Array.isArray,Ib=Object.prototype.hasOwnProperty,th={current:null},Db={key:!0,ref:!0,__self:!0,__source:!0};function Ab(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ib.call(t,n)&&!Db.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Nl,type:e,key:i,ref:o,props:s,_owner:th.current}}function oP(e,t){return{$$typeof:Nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nl}function lP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xv=/\/+/g;function lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lP(""+e.key):t.toString(36)}function Ac(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nl:case YE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+lf(o,0):n,vv(s)?(r="",e!=null&&(r=e.replace(xv,"$&/")+"/"),Ac(s,t,r,"",function(u){return u})):s!=null&&(rh(s)&&(s=oP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+lf(i,l);o+=Ac(i,t,r,c,s)}else if(c=aP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+lf(i,l++),o+=Ac(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ec(e,t,r){if(e==null)return e;var n=[],s=0;return Ac(e,n,"","",function(i){return t.call(r,i,s++)}),n}function cP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},Rc={transition:null},uP={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:th};function Rb(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:ec,forEach:function(e,t,r){ec(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ec(e,function(){t++}),t},toArray:function(e){return ec(e,function(t){return t})||[]},only:function(e){if(!rh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=za;Se.Fragment=ZE;Se.Profiler=JE;Se.PureComponent=Jp;Se.StrictMode=XE;Se.Suspense=nP;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;Se.act=Rb;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Pb({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=th.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ib.call(t,c)&&!Db.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Nl,type:e.type,key:s,ref:i,props:n,_owner:o}};Se.createContext=function(e){return e={$$typeof:tP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eP,_context:e},e.Consumer=e};Se.createElement=Ab;Se.createFactory=function(e){var t=Ab.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:rP,render:e}};Se.isValidElement=rh;Se.lazy=function(e){return{$$typeof:iP,_payload:{_status:-1,_result:e},_init:cP}};Se.memo=function(e,t){return{$$typeof:sP,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Rc.transition;Rc.transition={};try{e()}finally{Rc.transition=t}};Se.unstable_act=Rb;Se.useCallback=function(e,t){return At.current.useCallback(e,t)};Se.useContext=function(e){return At.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return At.current.useDeferredValue(e)};Se.useEffect=function(e,t){return At.current.useEffect(e,t)};Se.useId=function(){return At.current.useId()};Se.useImperativeHandle=function(e,t,r){return At.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return At.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return At.current.useReducer(e,t,r)};Se.useRef=function(e){return At.current.useRef(e)};Se.useState=function(e){return At.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return At.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return At.current.useTransition()};Se.version="18.3.1";Cb.exports=Se;var k=Cb.exports;const q=Hp(k),Ob=D2({__proto__:null,default:q},[k]);var dP=(e,t,r,n,s,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function f(p){(Array.isArray(e)?e:[e]).forEach(h=>{let v=h==="class",b=v&&i?s.map(g=>i[g]||g):s;v?(c.classList.remove(...b),c.classList.add(i&&i[p]?i[p]:p)):c.setAttribute(h,p)}),d(p)}function d(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)f(n);else try{let p=localStorage.getItem(t)||r,h=o&&p==="system"?m():p;f(h)}catch{}},fP=k.createContext(void 0),mP={setTheme:e=>{},themes:[]},pP=()=>{var e;return(e=k.useContext(fP))!=null?e:mP};k.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([r,t,i,e,l,o,n,s]).slice(1,-1);return k.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${dP.toString()})(${f})`}})});var _b={exports:{}},ir={},Fb={exports:{}},Mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var z=I.length;I.push(F);e:for(;0<z;){var K=z-1>>>1,V=I[K];if(0<s(V,F))I[K]=F,I[z]=V,z=K;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],z=I.pop();if(z!==F){I[0]=z;e:for(var K=0,V=I.length,ee=V>>>1;K<ee;){var Y=2*(K+1)-1,fe=I[Y],be=Y+1,H=I[be];if(0>s(fe,z))be<V&&0>s(H,fe)?(I[K]=H,I[be]=z,K=be):(I[K]=fe,I[Y]=z,K=Y);else if(be<V&&0>s(H,z))I[K]=H,I[be]=z,K=be;else break e}}return F}function s(I,F){var z=I.sortIndex-F.sortIndex;return z!==0?z:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,m=3,p=!1,h=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function w(I){if(v=!1,y(I),!h)if(r(c)!==null)h=!0,L(S);else{var F=r(u);F!==null&&M(w,F.startTime-I)}}function S(I,F){h=!1,v&&(v=!1,g(E),E=-1),p=!0;var z=m;try{for(y(F),d=r(c);d!==null&&(!(d.expirationTime>F)||I&&!_());){var K=d.callback;if(typeof K=="function"){d.callback=null,m=d.priorityLevel;var V=K(d.expirationTime<=F);F=e.unstable_now(),typeof V=="function"?d.callback=V:d===r(c)&&n(c),y(F)}else n(c);d=r(c)}if(d!==null)var ee=!0;else{var Y=r(u);Y!==null&&M(w,Y.startTime-F),ee=!1}return ee}finally{d=null,m=z,p=!1}}var j=!1,C=null,E=-1,T=5,A=-1;function _(){return!(e.unstable_now()-A<T)}function P(){if(C!==null){var I=e.unstable_now();A=I;var F=!0;try{F=C(!0,I)}finally{F?O():(j=!1,C=null)}}else j=!1}var O;if(typeof x=="function")O=function(){x(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=P,O=function(){$.postMessage(null)}}else O=function(){b(P,0)};function L(I){C=I,j||(j=!0,O())}function M(I,F){E=b(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,L(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var z=m;m=F;try{return I()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=m;m=I;try{return F()}finally{m=z}},e.unstable_scheduleCallback=function(I,F,z){var K=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,I={id:f++,callback:F,priorityLevel:I,startTime:z,expirationTime:V,sortIndex:-1},z>K?(I.sortIndex=z,t(u,I),r(c)===null&&I===r(u)&&(v?(g(E),E=-1):v=!0,M(w,z-K))):(I.sortIndex=V,t(c,I),h||p||(h=!0,L(S))),I},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(I){var F=m;return function(){var z=m;m=F;try{return I.apply(this,arguments)}finally{m=z}}}})(Mb);Fb.exports=Mb;var hP=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=k,sr=hP;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lb=new Set,Lo={};function Pi(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Lo[e]=t,e=0;e<t.length;e++)Lb.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=Object.prototype.hasOwnProperty,vP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},bv={};function xP(e){return fm.call(bv,e)?!0:fm.call(yv,e)?!1:vP.test(e)?bv[e]=!0:(yv[e]=!0,!1)}function yP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bP(e,t,r,n){if(t===null||typeof t>"u"||yP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nh=/[\-:]([a-z])/g;function sh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nh,sh);yt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nh,sh);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nh,sh);yt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ih(e,t,r,n){var s=yt.hasOwnProperty(t)?yt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bP(t,r,s,n)&&(r=null),n||s===null?xP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $n=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tc=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),ah=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),$b=Symbol.for("react.provider"),zb=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),Bb=Symbol.for("react.offscreen"),wv=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,cf;function go(e){if(cf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||""}return`
`+cf+e}var uf=!1;function df(e,t){if(!e||uf)return"";uf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{uf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?go(e):""}function wP(e){switch(e.tag){case 5:return go(e.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return e=df(e.type,!1),e;case 11:return e=df(e.type.render,!1),e;case 1:return e=df(e.type,!0),e;default:return""}}function gm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Mi:return"Portal";case mm:return"Profiler";case ah:return"StrictMode";case pm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zb:return(e.displayName||"Context")+".Consumer";case $b:return(e._context.displayName||"Context")+".Provider";case oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lh:return t=e.displayName||null,t!==null?t:gm(e.type)||"Memo";case Yn:t=e._payload,e=e._init;try{return gm(e(t))}catch{}}return null}function SP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gm(t);case 8:return t===ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ub(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NP(e){var t=Ub(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rc(e){e._valueTracker||(e._valueTracker=NP(e))}function Hb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ub(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vm(e,t){var r=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qb(e,t){t=t.checked,t!=null&&ih(e,"checked",t,!1)}function xm(e,t){qb(e,t);var r=Ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ym(e,t.type,r):t.hasOwnProperty("defaultValue")&&ym(e,t.type,Ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ym(e,t,r){(t!=="number"||Jc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vo=Array.isArray;function Yi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ps(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(vo(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ps(r)}}function Vb(e,t){var r=Ps(t.value),n=Ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nc,Gb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $o(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jP=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(e){jP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jo[t]=jo[e]})});function Kb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jo.hasOwnProperty(e)&&jo[e]?(""+t).trim():t+"px"}function Qb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Kb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var CP=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(e,t){if(t){if(CP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Nm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=null;function ch(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cm=null,Zi=null,Xi=null;function Ev(e){if(e=El(e)){if(typeof Cm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Ju(t),Cm(e.stateNode,e.type,t))}}function Yb(e){Zi?Xi?Xi.push(e):Xi=[e]:Zi=e}function Zb(){if(Zi){var e=Zi,t=Xi;if(Xi=Zi=null,Ev(e),t)for(e=0;e<t.length;e++)Ev(t[e])}}function Xb(e,t){return e(t)}function Jb(){}var ff=!1;function ew(e,t,r){if(ff)return e(t,r);ff=!0;try{return Xb(e,t,r)}finally{ff=!1,(Zi!==null||Xi!==null)&&(Jb(),Zb())}}function zo(e,t){var r=e.stateNode;if(r===null)return null;var n=Ju(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Em=!1;if(Dn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Em=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Em=!1}function EP(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Co=!1,eu=null,tu=!1,Pm=null,PP={onError:function(e){Co=!0,eu=e}};function kP(e,t,r,n,s,i,o,l,c){Co=!1,eu=null,EP.apply(PP,arguments)}function TP(e,t,r,n,s,i,o,l,c){if(kP.apply(this,arguments),Co){if(Co){var u=eu;Co=!1,eu=null}else throw Error(G(198));tu||(tu=!0,Pm=u)}}function ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pv(e){if(ki(e)!==e)throw Error(G(188))}function IP(e){var t=e.alternate;if(!t){if(t=ki(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Pv(s),e;if(i===n)return Pv(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function rw(e){return e=IP(e),e!==null?nw(e):null}function nw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nw(e);if(t!==null)return t;e=e.sibling}return null}var sw=sr.unstable_scheduleCallback,kv=sr.unstable_cancelCallback,DP=sr.unstable_shouldYield,AP=sr.unstable_requestPaint,tt=sr.unstable_now,RP=sr.unstable_getCurrentPriorityLevel,uh=sr.unstable_ImmediatePriority,iw=sr.unstable_UserBlockingPriority,ru=sr.unstable_NormalPriority,OP=sr.unstable_LowPriority,aw=sr.unstable_IdlePriority,Qu=null,sn=null;function _P(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Qu,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:LP,FP=Math.log,MP=Math.LN2;function LP(e){return e>>>=0,e===0?32:31-(FP(e)/MP|0)|0}var sc=64,ic=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=xo(l):(i&=o,i!==0&&(n=xo(i)))}else o=r&~s,o!==0?n=xo(o):i!==0&&(n=xo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$r(t),s=1<<r,n|=e[r],t&=~s;return n}function $P(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$r(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=$P(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ow(){var e=sc;return sc<<=1,!(sc&4194240)&&(sc=64),e}function mf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=r}function BP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$r(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$r(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ae=0;function lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cw,fh,uw,dw,fw,Tm=!1,ac=[],ps=null,hs=null,gs=null,Bo=new Map,Uo=new Map,Xn=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function io(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=El(t),t!==null&&fh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function HP(e,t,r,n,s){switch(t){case"focusin":return ps=io(ps,e,t,r,n,s),!0;case"dragenter":return hs=io(hs,e,t,r,n,s),!0;case"mouseover":return gs=io(gs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bo.set(i,io(Bo.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Uo.set(i,io(Uo.get(i)||null,e,t,r,n,s)),!0}return!1}function mw(e){var t=Ys(e.target);if(t!==null){var r=ki(t);if(r!==null){if(t=r.tag,t===13){if(t=tw(r),t!==null){e.blockedOn=t,fw(e.priority,function(){uw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Im(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jm=n,r.target.dispatchEvent(n),jm=null}else return t=El(r),t!==null&&fh(t),e.blockedOn=r,!1;t.shift()}return!0}function Iv(e,t,r){Oc(e)&&r.delete(t)}function qP(){Tm=!1,ps!==null&&Oc(ps)&&(ps=null),hs!==null&&Oc(hs)&&(hs=null),gs!==null&&Oc(gs)&&(gs=null),Bo.forEach(Iv),Uo.forEach(Iv)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,qP)))}function Ho(e){function t(s){return ao(s,e)}if(0<ac.length){ao(ac[0],e);for(var r=1;r<ac.length;r++){var n=ac[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ps!==null&&ao(ps,e),hs!==null&&ao(hs,e),gs!==null&&ao(gs,e),Bo.forEach(t),Uo.forEach(t),r=0;r<Xn.length;r++)n=Xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)mw(r),r.blockedOn===null&&Xn.shift()}var Ji=$n.ReactCurrentBatchConfig,su=!0;function VP(e,t,r,n){var s=Ae,i=Ji.transition;Ji.transition=null;try{Ae=1,mh(e,t,r,n)}finally{Ae=s,Ji.transition=i}}function WP(e,t,r,n){var s=Ae,i=Ji.transition;Ji.transition=null;try{Ae=4,mh(e,t,r,n)}finally{Ae=s,Ji.transition=i}}function mh(e,t,r,n){if(su){var s=Im(e,t,r,n);if(s===null)Nf(e,t,n,iu,r),Tv(e,n);else if(HP(s,e,t,r,n))n.stopPropagation();else if(Tv(e,n),t&4&&-1<UP.indexOf(e)){for(;s!==null;){var i=El(s);if(i!==null&&cw(i),i=Im(e,t,r,n),i===null&&Nf(e,t,n,iu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var iu=null;function Im(e,t,r,n){if(iu=null,e=ch(n),e=Ys(e),e!==null)if(t=ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iu=e,null}function pw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RP()){case uh:return 1;case iw:return 4;case ru:case OP:return 16;case aw:return 536870912;default:return 16}default:return 16}}var us=null,ph=null,_c=null;function hw(){if(_c)return _c;var e,t=ph,r=t.length,n,s="value"in us?us.value:us.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return _c=s.slice(e,1<n?1-n:void 0)}function Fc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oc(){return!0}function Dv(){return!1}function ar(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oc:Dv,this.isPropagationStopped=Dv,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=ar(Ba),Cl=Xe({},Ba,{view:0,detail:0}),GP=ar(Cl),pf,hf,oo,Yu=Xe({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(pf=e.screenX-oo.screenX,hf=e.screenY-oo.screenY):hf=pf=0,oo=e),pf)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),Av=ar(Yu),KP=Xe({},Yu,{dataTransfer:0}),QP=ar(KP),YP=Xe({},Cl,{relatedTarget:0}),gf=ar(YP),ZP=Xe({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),XP=ar(ZP),JP=Xe({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ek=ar(JP),tk=Xe({},Ba,{data:0}),Rv=ar(tk),rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ik(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sk[e])?!!t[e]:!1}function gh(){return ik}var ak=Xe({},Cl,{key:function(e){if(e.key){var t=rk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(e){return e.type==="keypress"?Fc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ok=ar(ak),lk=Xe({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=ar(lk),ck=Xe({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),uk=ar(ck),dk=Xe({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),fk=ar(dk),mk=Xe({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pk=ar(mk),hk=[9,13,27,32],vh=Dn&&"CompositionEvent"in window,Eo=null;Dn&&"documentMode"in document&&(Eo=document.documentMode);var gk=Dn&&"TextEvent"in window&&!Eo,gw=Dn&&(!vh||Eo&&8<Eo&&11>=Eo),_v=" ",Fv=!1;function vw(e,t){switch(e){case"keyup":return hk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function vk(e,t){switch(e){case"compositionend":return xw(t);case"keypress":return t.which!==32?null:(Fv=!0,_v);case"textInput":return e=t.data,e===_v&&Fv?null:e;default:return null}}function xk(e,t){if($i)return e==="compositionend"||!vh&&vw(e,t)?(e=hw(),_c=ph=us=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gw&&t.locale!=="ko"?null:t.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yk[e.type]:t==="textarea"}function yw(e,t,r,n){Yb(n),t=au(t,"onChange"),0<t.length&&(r=new hh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Po=null,qo=null;function bk(e){Iw(e,0)}function Zu(e){var t=Ui(e);if(Hb(t))return e}function wk(e,t){if(e==="change")return t}var bw=!1;if(Dn){var vf;if(Dn){var xf="oninput"in document;if(!xf){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),xf=typeof Lv.oninput=="function"}vf=xf}else vf=!1;bw=vf&&(!document.documentMode||9<document.documentMode)}function $v(){Po&&(Po.detachEvent("onpropertychange",ww),qo=Po=null)}function ww(e){if(e.propertyName==="value"&&Zu(qo)){var t=[];yw(t,qo,e,ch(e)),ew(bk,t)}}function Sk(e,t,r){e==="focusin"?($v(),Po=t,qo=r,Po.attachEvent("onpropertychange",ww)):e==="focusout"&&$v()}function Nk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zu(qo)}function jk(e,t){if(e==="click")return Zu(t)}function Ck(e,t){if(e==="input"||e==="change")return Zu(t)}function Ek(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:Ek;function Vo(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fm.call(t,s)||!Ur(e[s],t[s]))return!1}return!0}function zv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bv(e,t){var r=zv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zv(r)}}function Sw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nw(){for(var e=window,t=Jc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jc(e.document)}return t}function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pk(e){var t=Nw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Sw(r.ownerDocument.documentElement,r)){if(n!==null&&xh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Bv(r,i);var o=Bv(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kk=Dn&&"documentMode"in document&&11>=document.documentMode,zi=null,Dm=null,ko=null,Am=!1;function Uv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Am||zi==null||zi!==Jc(n)||(n=zi,"selectionStart"in n&&xh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ko&&Vo(ko,n)||(ko=n,n=au(Dm,"onSelect"),0<n.length&&(t=new hh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zi)))}function lc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bi={animationend:lc("Animation","AnimationEnd"),animationiteration:lc("Animation","AnimationIteration"),animationstart:lc("Animation","AnimationStart"),transitionend:lc("Transition","TransitionEnd")},yf={},jw={};Dn&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Xu(e){if(yf[e])return yf[e];if(!Bi[e])return e;var t=Bi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jw)return yf[e]=t[r];return e}var Cw=Xu("animationend"),Ew=Xu("animationiteration"),Pw=Xu("animationstart"),kw=Xu("transitionend"),Tw=new Map,Hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(e,t){Tw.set(e,t),Pi(t,[e])}for(var bf=0;bf<Hv.length;bf++){var wf=Hv[bf],Tk=wf.toLowerCase(),Ik=wf[0].toUpperCase()+wf.slice(1);Fs(Tk,"on"+Ik)}Fs(Cw,"onAnimationEnd");Fs(Ew,"onAnimationIteration");Fs(Pw,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(kw,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function qv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TP(n,t,void 0,e),e.currentTarget=null}function Iw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qv(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qv(s,l,u),i=c}}}if(tu)throw e=Pm,tu=!1,Pm=null,e}function qe(e,t){var r=t[Mm];r===void 0&&(r=t[Mm]=new Set);var n=e+"__bubble";r.has(n)||(Dw(t,e,2,!1),r.add(n))}function Sf(e,t,r){var n=0;t&&(n|=4),Dw(r,e,n,t)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[cc]){e[cc]=!0,Lb.forEach(function(r){r!=="selectionchange"&&(Dk.has(r)||Sf(r,!1,e),Sf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cc]||(t[cc]=!0,Sf("selectionchange",!1,t))}}function Dw(e,t,r,n){switch(pw(t)){case 1:var s=VP;break;case 4:s=WP;break;default:s=mh}r=s.bind(null,t,r,e),s=void 0,!Em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ys(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ew(function(){var u=i,f=ch(r),d=[];e:{var m=Tw.get(e);if(m!==void 0){var p=hh,h=e;switch(e){case"keypress":if(Fc(r)===0)break e;case"keydown":case"keyup":p=ok;break;case"focusin":h="focus",p=gf;break;case"focusout":h="blur",p=gf;break;case"beforeblur":case"afterblur":p=gf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uk;break;case Cw:case Ew:case Pw:p=XP;break;case kw:p=fk;break;case"scroll":p=GP;break;case"wheel":p=pk;break;case"copy":case"cut":case"paste":p=ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ov}var v=(t&4)!==0,b=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=zo(x,g),w!=null&&v.push(Go(x,w,y)))),b)break;x=x.return}0<v.length&&(m=new p(m,h,null,r,f),d.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==jm&&(h=r.relatedTarget||r.fromElement)&&(Ys(h)||h[An]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?Ys(h):null,h!==null&&(b=ki(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(v=Av,w="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ov,w="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?m:Ui(p),y=h==null?m:Ui(h),m=new v(w,x+"leave",p,r,f),m.target=b,m.relatedTarget=y,w=null,Ys(f)===u&&(v=new v(g,x+"enter",h,r,f),v.target=y,v.relatedTarget=b,w=v),b=w,p&&h)t:{for(v=p,g=h,x=0,y=v;y;y=Ai(y))x++;for(y=0,w=g;w;w=Ai(w))y++;for(;0<x-y;)v=Ai(v),x--;for(;0<y-x;)g=Ai(g),y--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ai(v),g=Ai(g)}v=null}else v=null;p!==null&&Vv(d,m,p,v,!1),h!==null&&b!==null&&Vv(d,b,h,v,!0)}}e:{if(m=u?Ui(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=wk;else if(Mv(m))if(bw)S=Ck;else{S=Nk;var j=Sk}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=jk);if(S&&(S=S(e,u))){yw(d,S,r,f);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&ym(m,"number",m.value)}switch(j=u?Ui(u):window,e){case"focusin":(Mv(j)||j.contentEditable==="true")&&(zi=j,Dm=u,ko=null);break;case"focusout":ko=Dm=zi=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Uv(d,r,f);break;case"selectionchange":if(kk)break;case"keydown":case"keyup":Uv(d,r,f)}var C;if(vh)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $i?vw(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(gw&&r.locale!=="ko"&&($i||E!=="onCompositionStart"?E==="onCompositionEnd"&&$i&&(C=hw()):(us=f,ph="value"in us?us.value:us.textContent,$i=!0)),j=au(u,E),0<j.length&&(E=new Rv(E,e,null,r,f),d.push({event:E,listeners:j}),C?E.data=C:(C=xw(r),C!==null&&(E.data=C)))),(C=gk?vk(e,r):xk(e,r))&&(u=au(u,"onBeforeInput"),0<u.length&&(f=new Rv("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=C))}Iw(d,t)})}function Go(e,t,r){return{instance:e,listener:t,currentTarget:r}}function au(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zo(e,r),i!=null&&n.unshift(Go(e,i,s)),i=zo(e,t),i!=null&&n.push(Go(e,i,s))),e=e.return}return n}function Ai(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vv(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zo(r,i),c!=null&&o.unshift(Go(r,c,l))):s||(c=zo(r,i),c!=null&&o.push(Go(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ak=/\r\n?/g,Rk=/\u0000|\uFFFD/g;function Wv(e){return(typeof e=="string"?e:""+e).replace(Ak,`
`).replace(Rk,"")}function uc(e,t,r){if(t=Wv(t),Wv(e)!==t&&r)throw Error(G(425))}function ou(){}var Rm=null,Om=null;function _m(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(e){return Gv.resolve(null).then(e).catch(Fk)}:Fm;function Fk(e){setTimeout(function(){throw e})}function jf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ho(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ho(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),en="__reactFiber$"+Ua,Ko="__reactProps$"+Ua,An="__reactContainer$"+Ua,Mm="__reactEvents$"+Ua,Mk="__reactListeners$"+Ua,Lk="__reactHandles$"+Ua;function Ys(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kv(e);e!==null;){if(r=e[en])return r;e=Kv(e)}return t}e=r,r=e.parentNode}return null}function El(e){return e=e[en]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Ju(e){return e[Ko]||null}var Lm=[],Hi=-1;function Ms(e){return{current:e}}function Ve(e){0>Hi||(e.current=Lm[Hi],Lm[Hi]=null,Hi--)}function Be(e,t){Hi++,Lm[Hi]=e.current,e.current=t}var ks={},jt=Ms(ks),qt=Ms(!1),fi=ks;function Sa(e,t){var r=e.type.contextTypes;if(!r)return ks;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function lu(){Ve(qt),Ve(jt)}function Qv(e,t,r){if(jt.current!==ks)throw Error(G(168));Be(jt,t),Be(qt,r)}function Aw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,SP(e)||"Unknown",s));return Xe({},r,n)}function cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,fi=jt.current,Be(jt,e),Be(qt,qt.current),!0}function Yv(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=Aw(e,t,fi),n.__reactInternalMemoizedMergedChildContext=e,Ve(qt),Ve(jt),Be(jt,e)):Ve(qt),Be(qt,r)}var Nn=null,ed=!1,Cf=!1;function Rw(e){Nn===null?Nn=[e]:Nn.push(e)}function $k(e){ed=!0,Rw(e)}function Ls(){if(!Cf&&Nn!==null){Cf=!0;var e=0,t=Ae;try{var r=Nn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,ed=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(e+1)),sw(uh,Ls),s}finally{Ae=t,Cf=!1}}return null}var qi=[],Vi=0,uu=null,du=0,ur=[],dr=0,mi=null,En=1,Pn="";function Ws(e,t){qi[Vi++]=du,qi[Vi++]=uu,uu=e,du=t}function Ow(e,t,r){ur[dr++]=En,ur[dr++]=Pn,ur[dr++]=mi,mi=e;var n=En;e=Pn;var s=32-$r(n)-1;n&=~(1<<s),r+=1;var i=32-$r(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,En=1<<32-$r(t)+s|r<<s|n,Pn=i+e}else En=1<<i|r<<s|n,Pn=e}function yh(e){e.return!==null&&(Ws(e,1),Ow(e,1,0))}function bh(e){for(;e===uu;)uu=qi[--Vi],qi[Vi]=null,du=qi[--Vi],qi[Vi]=null;for(;e===mi;)mi=ur[--dr],ur[dr]=null,Pn=ur[--dr],ur[dr]=null,En=ur[--dr],ur[dr]=null}var Jt=null,Zt=null,We=!1,_r=null;function _w(e,t){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Zt=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mi!==null?{id:En,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Zt=null,!0):!1;default:return!1}}function $m(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zm(e){if(We){var t=Zt;if(t){var r=t;if(!Zv(e,t)){if($m(e))throw Error(G(418));t=vs(r.nextSibling);var n=Jt;t&&Zv(e,t)?_w(n,r):(e.flags=e.flags&-4097|2,We=!1,Jt=e)}}else{if($m(e))throw Error(G(418));e.flags=e.flags&-4097|2,We=!1,Jt=e}}}function Xv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function dc(e){if(e!==Jt)return!1;if(!We)return Xv(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_m(e.type,e.memoizedProps)),t&&(t=Zt)){if($m(e))throw Fw(),Error(G(418));for(;t;)_w(e,t),t=vs(t.nextSibling)}if(Xv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=vs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Jt?vs(e.stateNode.nextSibling):null;return!0}function Fw(){for(var e=Zt;e;)e=vs(e.nextSibling)}function Na(){Zt=Jt=null,We=!1}function wh(e){_r===null?_r=[e]:_r.push(e)}var zk=$n.ReactCurrentBatchConfig;function lo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function fc(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jv(e){var t=e._init;return t(e._payload)}function Mw(e){function t(g,x){if(e){var y=g.deletions;y===null?(g.deletions=[x],g.flags|=16):y.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=ws(g,x),g.index=0,g.sibling=null,g}function i(g,x,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<x?(g.flags|=2,x):y):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,y,w){return x===null||x.tag!==6?(x=Af(y,g.mode,w),x.return=g,x):(x=s(x,y),x.return=g,x)}function c(g,x,y,w){var S=y.type;return S===Li?f(g,x,y.props.children,w,y.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yn&&Jv(S)===x.type)?(w=s(x,y.props),w.ref=lo(g,x,y),w.return=g,w):(w=Hc(y.type,y.key,y.props,null,g.mode,w),w.ref=lo(g,x,y),w.return=g,w)}function u(g,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Rf(y,g.mode,w),x.return=g,x):(x=s(x,y.children||[]),x.return=g,x)}function f(g,x,y,w,S){return x===null||x.tag!==7?(x=ci(y,g.mode,w,S),x.return=g,x):(x=s(x,y),x.return=g,x)}function d(g,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Af(""+x,g.mode,y),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tc:return y=Hc(x.type,x.key,x.props,null,g.mode,y),y.ref=lo(g,null,x),y.return=g,y;case Mi:return x=Rf(x,g.mode,y),x.return=g,x;case Yn:var w=x._init;return d(g,w(x._payload),y)}if(vo(x)||no(x))return x=ci(x,g.mode,y,null),x.return=g,x;fc(g,x)}return null}function m(g,x,y,w){var S=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(g,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tc:return y.key===S?c(g,x,y,w):null;case Mi:return y.key===S?u(g,x,y,w):null;case Yn:return S=y._init,m(g,x,S(y._payload),w)}if(vo(y)||no(y))return S!==null?null:f(g,x,y,w,null);fc(g,y)}return null}function p(g,x,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,l(x,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:return g=g.get(w.key===null?y:w.key)||null,c(x,g,w,S);case Mi:return g=g.get(w.key===null?y:w.key)||null,u(x,g,w,S);case Yn:var j=w._init;return p(g,x,y,j(w._payload),S)}if(vo(w)||no(w))return g=g.get(y)||null,f(x,g,w,S,null);fc(x,w)}return null}function h(g,x,y,w){for(var S=null,j=null,C=x,E=x=0,T=null;C!==null&&E<y.length;E++){C.index>E?(T=C,C=null):T=C.sibling;var A=m(g,C,y[E],w);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(g,C),x=i(A,x,E),j===null?S=A:j.sibling=A,j=A,C=T}if(E===y.length)return r(g,C),We&&Ws(g,E),S;if(C===null){for(;E<y.length;E++)C=d(g,y[E],w),C!==null&&(x=i(C,x,E),j===null?S=C:j.sibling=C,j=C);return We&&Ws(g,E),S}for(C=n(g,C);E<y.length;E++)T=p(C,g,E,y[E],w),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),x=i(T,x,E),j===null?S=T:j.sibling=T,j=T);return e&&C.forEach(function(_){return t(g,_)}),We&&Ws(g,E),S}function v(g,x,y,w){var S=no(y);if(typeof S!="function")throw Error(G(150));if(y=S.call(y),y==null)throw Error(G(151));for(var j=S=null,C=x,E=x=0,T=null,A=y.next();C!==null&&!A.done;E++,A=y.next()){C.index>E?(T=C,C=null):T=C.sibling;var _=m(g,C,A.value,w);if(_===null){C===null&&(C=T);break}e&&C&&_.alternate===null&&t(g,C),x=i(_,x,E),j===null?S=_:j.sibling=_,j=_,C=T}if(A.done)return r(g,C),We&&Ws(g,E),S;if(C===null){for(;!A.done;E++,A=y.next())A=d(g,A.value,w),A!==null&&(x=i(A,x,E),j===null?S=A:j.sibling=A,j=A);return We&&Ws(g,E),S}for(C=n(g,C);!A.done;E++,A=y.next())A=p(C,g,E,A.value,w),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),x=i(A,x,E),j===null?S=A:j.sibling=A,j=A);return e&&C.forEach(function(P){return t(g,P)}),We&&Ws(g,E),S}function b(g,x,y,w){if(typeof y=="object"&&y!==null&&y.type===Li&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case tc:e:{for(var S=y.key,j=x;j!==null;){if(j.key===S){if(S=y.type,S===Li){if(j.tag===7){r(g,j.sibling),x=s(j,y.props.children),x.return=g,g=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yn&&Jv(S)===j.type){r(g,j.sibling),x=s(j,y.props),x.ref=lo(g,j,y),x.return=g,g=x;break e}r(g,j);break}else t(g,j);j=j.sibling}y.type===Li?(x=ci(y.props.children,g.mode,w,y.key),x.return=g,g=x):(w=Hc(y.type,y.key,y.props,null,g.mode,w),w.ref=lo(g,x,y),w.return=g,g=w)}return o(g);case Mi:e:{for(j=y.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(g,x.sibling),x=s(x,y.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Rf(y,g.mode,w),x.return=g,g=x}return o(g);case Yn:return j=y._init,b(g,x,j(y._payload),w)}if(vo(y))return h(g,x,y,w);if(no(y))return v(g,x,y,w);fc(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(g,x.sibling),x=s(x,y),x.return=g,g=x):(r(g,x),x=Af(y,g.mode,w),x.return=g,g=x),o(g)):r(g,x)}return b}var ja=Mw(!0),Lw=Mw(!1),fu=Ms(null),mu=null,Wi=null,Sh=null;function Nh(){Sh=Wi=mu=null}function jh(e){var t=fu.current;Ve(fu),e._currentValue=t}function Bm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ea(e,t){mu=e,Sh=Wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Sh!==e)if(e={context:e,memoizedValue:t,next:null},Wi===null){if(mu===null)throw Error(G(308));Wi=e,mu.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Zs=null;function Ch(e){Zs===null?Zs=[e]:Zs.push(e)}function $w(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ch(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rn(e,n)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zn=!1;function Eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rn(e,r)}return s=n.interleaved,s===null?(t.next=t,Ch(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rn(e,r)}function Mc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dh(e,r)}}function ex(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pu(e,t,r,n){var s=e.updateQueue;Zn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,v=l;switch(m=t,p=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){d=h.call(p,d,m);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,m=typeof h=="function"?h.call(p,d,m):h,m==null)break e;d=Xe({},d,m);break e;case 2:Zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hi|=o,e.lanes=o,e.memoizedState=d}}function tx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Pl={},an=Ms(Pl),Qo=Ms(Pl),Yo=Ms(Pl);function Xs(e){if(e===Pl)throw Error(G(174));return e}function Ph(e,t){switch(Be(Yo,t),Be(Qo,e),Be(an,Pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wm(t,e)}Ve(an),Be(an,t)}function Ca(){Ve(an),Ve(Qo),Ve(Yo)}function Bw(e){Xs(Yo.current);var t=Xs(an.current),r=wm(t,e.type);t!==r&&(Be(Qo,e),Be(an,r))}function kh(e){Qo.current===e&&(Ve(an),Ve(Qo))}var Qe=Ms(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ef=[];function Th(){for(var e=0;e<Ef.length;e++)Ef[e]._workInProgressVersionPrimary=null;Ef.length=0}var Lc=$n.ReactCurrentDispatcher,Pf=$n.ReactCurrentBatchConfig,pi=0,Ze=null,st=null,lt=null,gu=!1,To=!1,Zo=0,Bk=0;function bt(){throw Error(G(321))}function Ih(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function Dh(e,t,r,n,s,i){if(pi=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lc.current=e===null||e.memoizedState===null?Vk:Wk,e=r(n,s),To){i=0;do{if(To=!1,Zo=0,25<=i)throw Error(G(301));i+=1,lt=st=null,t.updateQueue=null,Lc.current=Gk,e=r(n,s)}while(To)}if(Lc.current=vu,t=st!==null&&st.next!==null,pi=0,lt=st=Ze=null,gu=!1,t)throw Error(G(300));return e}function Ah(){var e=Zo!==0;return Zo=0,e}function Yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ze.memoizedState=lt=e:lt=lt.next=e,lt}function yr(){if(st===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=lt===null?Ze.memoizedState:lt.next;if(t!==null)lt=t,st=e;else{if(e===null)throw Error(G(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?Ze.memoizedState=lt=e:lt=lt.next=e}return lt}function Xo(e,t){return typeof t=="function"?t(e):t}function kf(e){var t=yr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=st,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((pi&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Ze.lanes|=f,hi|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ur(n,t.memoizedState)||(Ht=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,hi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tf(e){var t=yr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ur(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Uw(){}function Hw(e,t){var r=Ze,n=yr(),s=t(),i=!Ur(n.memoizedState,s);if(i&&(n.memoizedState=s,Ht=!0),n=n.queue,Rh(Ww.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Jo(9,Vw.bind(null,r,n,s,t),void 0,null),ct===null)throw Error(G(349));pi&30||qw(r,t,s)}return s}function qw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vw(e,t,r,n){t.value=r,t.getSnapshot=n,Gw(t)&&Kw(e)}function Ww(e,t,r){return r(function(){Gw(t)&&Kw(e)})}function Gw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function Kw(e){var t=Rn(e,1);t!==null&&zr(t,e,1,-1)}function rx(e){var t=Yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=qk.bind(null,Ze,e),[t.memoizedState,e]}function Jo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qw(){return yr().memoizedState}function $c(e,t,r,n){var s=Yr();Ze.flags|=e,s.memoizedState=Jo(1|t,r,void 0,n===void 0?null:n)}function td(e,t,r,n){var s=yr();n=n===void 0?null:n;var i=void 0;if(st!==null){var o=st.memoizedState;if(i=o.destroy,n!==null&&Ih(n,o.deps)){s.memoizedState=Jo(t,r,i,n);return}}Ze.flags|=e,s.memoizedState=Jo(1|t,r,i,n)}function nx(e,t){return $c(8390656,8,e,t)}function Rh(e,t){return td(2048,8,e,t)}function Yw(e,t){return td(4,2,e,t)}function Zw(e,t){return td(4,4,e,t)}function Xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jw(e,t,r){return r=r!=null?r.concat([e]):null,td(4,4,Xw.bind(null,t,e),r)}function Oh(){}function e1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ih(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t1(e,t){var r=yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ih(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r1(e,t,r){return pi&21?(Ur(r,t)||(r=ow(),Ze.lanes|=r,hi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=r)}function Uk(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Pf.transition;Pf.transition={};try{e(!1),t()}finally{Ae=r,Pf.transition=n}}function n1(){return yr().memoizedState}function Hk(e,t,r){var n=bs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s1(e))i1(t,r);else if(r=$w(e,t,r,n),r!==null){var s=Dt();zr(r,e,n,s),a1(r,t,n)}}function qk(e,t,r){var n=bs(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s1(e))i1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ur(l,o)){var c=t.interleaved;c===null?(s.next=s,Ch(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=$w(e,t,s,n),r!==null&&(s=Dt(),zr(r,e,n,s),a1(r,t,n))}}function s1(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function i1(e,t){To=gu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dh(e,r)}}var vu={readContext:xr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Vk={readContext:xr,useCallback:function(e,t){return Yr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:nx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$c(4194308,4,Xw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var r=Yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hk.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Yr();return e={current:e},t.memoizedState=e},useState:rx,useDebugValue:Oh,useDeferredValue:function(e){return Yr().memoizedState=e},useTransition:function(){var e=rx(!1),t=e[0];return e=Uk.bind(null,e[1]),Yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,s=Yr();if(We){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),ct===null)throw Error(G(349));pi&30||qw(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nx(Ww.bind(null,n,i,e),[e]),n.flags|=2048,Jo(9,Vw.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Yr(),t=ct.identifierPrefix;if(We){var r=Pn,n=En;r=(n&~(1<<32-$r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wk={readContext:xr,useCallback:e1,useContext:xr,useEffect:Rh,useImperativeHandle:Jw,useInsertionEffect:Yw,useLayoutEffect:Zw,useMemo:t1,useReducer:kf,useRef:Qw,useState:function(){return kf(Xo)},useDebugValue:Oh,useDeferredValue:function(e){var t=yr();return r1(t,st.memoizedState,e)},useTransition:function(){var e=kf(Xo)[0],t=yr().memoizedState;return[e,t]},useMutableSource:Uw,useSyncExternalStore:Hw,useId:n1,unstable_isNewReconciler:!1},Gk={readContext:xr,useCallback:e1,useContext:xr,useEffect:Rh,useImperativeHandle:Jw,useInsertionEffect:Yw,useLayoutEffect:Zw,useMemo:t1,useReducer:Tf,useRef:Qw,useState:function(){return Tf(Xo)},useDebugValue:Oh,useDeferredValue:function(e){var t=yr();return st===null?t.memoizedState=e:r1(t,st.memoizedState,e)},useTransition:function(){var e=Tf(Xo)[0],t=yr().memoizedState;return[e,t]},useMutableSource:Uw,useSyncExternalStore:Hw,useId:n1,unstable_isNewReconciler:!1};function Dr(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Um(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rd={isMounted:function(e){return(e=e._reactInternals)?ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),s=bs(e),i=Tn(n,s);i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,s),t!==null&&(zr(t,e,s,n),Mc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),s=bs(e),i=Tn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,s),t!==null&&(zr(t,e,s,n),Mc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=bs(e),s=Tn(r,n);s.tag=2,t!=null&&(s.callback=t),t=xs(e,s,n),t!==null&&(zr(t,e,n,r),Mc(t,e,n))}};function sx(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vo(r,n)||!Vo(s,i):!0}function o1(e,t,r){var n=!1,s=ks,i=t.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=Vt(t)?fi:jt.current,n=t.contextTypes,i=(n=n!=null)?Sa(e,s):ks),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ix(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function Hm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Eh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=Vt(t)?fi:jt.current,s.context=Sa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Um(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rd.enqueueReplaceState(s,s.state,null),pu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ea(e,t){try{var r="",n=t;do r+=wP(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function If(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kk=typeof WeakMap=="function"?WeakMap:Map;function l1(e,t,r){r=Tn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,ep=n),qm(e,t)},r}function c1(e,t,r){r=Tn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){qm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qm(e,t),typeof n!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ax(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lT.bind(null,e,t,r),t.then(e,e))}function ox(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tn(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var Qk=$n.ReactCurrentOwner,Ht=!1;function Tt(e,t,r,n){t.child=e===null?Lw(t,null,r,n):ja(t,e.child,r,n)}function cx(e,t,r,n,s){r=r.render;var i=t.ref;return ea(t,s),n=Dh(e,t,r,n,i,s),r=Ah(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(We&&r&&yh(t),t.flags|=1,Tt(e,t,n,s),t.child)}function ux(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Uh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,u1(e,t,i,n,s)):(e=Hc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(o,n)&&e.ref===t.ref)return On(e,t,s)}return t.flags|=1,e=ws(i,n),e.ref=t.ref,e.return=t,t.child=e}function u1(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Vo(i,n)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,On(e,t,s)}return Vm(e,t,r,n,s)}function d1(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ki,Kt),Kt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(Ki,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Be(Ki,Kt),Kt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Be(Ki,Kt),Kt|=n;return Tt(e,t,s,r),t.child}function f1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Vm(e,t,r,n,s){var i=Vt(r)?fi:jt.current;return i=Sa(t,i),ea(t,s),r=Dh(e,t,r,n,i,s),n=Ah(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,On(e,t,s)):(We&&n&&yh(t),t.flags|=1,Tt(e,t,r,s),t.child)}function dx(e,t,r,n,s){if(Vt(r)){var i=!0;cu(t)}else i=!1;if(ea(t,s),t.stateNode===null)zc(e,t),o1(t,r,n),Hm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=xr(u):(u=Vt(r)?fi:jt.current,u=Sa(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ix(t,o,n,u),Zn=!1;var m=t.memoizedState;o.state=m,pu(t,n,o,s),c=t.memoizedState,l!==n||m!==c||qt.current||Zn?(typeof f=="function"&&(Um(t,r,f,n),c=t.memoizedState),(l=Zn||sx(t,r,l,n,m,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dr(t.type,l),o.props=u,d=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Vt(r)?fi:jt.current,c=Sa(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==c)&&ix(t,o,n,c),Zn=!1,m=t.memoizedState,o.state=m,pu(t,n,o,s);var h=t.memoizedState;l!==d||m!==h||qt.current||Zn?(typeof p=="function"&&(Um(t,r,p,n),h=t.memoizedState),(u=Zn||sx(t,r,u,n,m,h,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Wm(e,t,r,n,i,s)}function Wm(e,t,r,n,s,i){f1(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Yv(t,r,!1),On(e,t,i);n=t.stateNode,Qk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ja(t,e.child,null,i),t.child=ja(t,null,l,i)):Tt(e,t,l,i),t.memoizedState=n.state,s&&Yv(t,r,!0),t.child}function m1(e){var t=e.stateNode;t.pendingContext?Qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qv(e,t.context,!1),Ph(e,t.containerInfo)}function fx(e,t,r,n,s){return Na(),wh(s),t.flags|=256,Tt(e,t,r,n),t.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Km(e){return{baseLanes:e,cachePool:null,transitions:null}}function p1(e,t,r){var n=t.pendingProps,s=Qe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Be(Qe,s&1),e===null)return zm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=id(o,n,0,null),e=ci(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Km(r),t.memoizedState=Gm,e):_h(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Yk(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ws(l,i):(i=ci(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Km(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Gm,n}return i=e.child,e=i.sibling,n=ws(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _h(e,t){return t=id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mc(e,t,r,n){return n!==null&&wh(n),ja(t,e.child,null,r),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=If(Error(G(422))),mc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=id({mode:"visible",children:n.children},s,0,null),i=ci(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ja(t,e.child,null,o),t.child.memoizedState=Km(o),t.memoizedState=Gm,i);if(!(t.mode&1))return mc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=If(i,n,void 0),mc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ht||l){if(n=ct,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rn(e,s),zr(n,e,s,-1))}return Bh(),n=If(Error(G(421))),mc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cT.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Zt=vs(s.nextSibling),Jt=t,We=!0,_r=null,e!==null&&(ur[dr++]=En,ur[dr++]=Pn,ur[dr++]=mi,En=e.id,Pn=e.overflow,mi=t),t=_h(t,n.children),t.flags|=4096,t)}function mx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bm(e.return,t,r)}function Df(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function h1(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Tt(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mx(e,r,t);else if(e.tag===19)mx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Df(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Df(t,!0,r,null,i);break;case"together":Df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Zk(e,t,r){switch(t.tag){case 3:m1(t),Na();break;case 5:Bw(t);break;case 1:Vt(t.type)&&cu(t);break;case 4:Ph(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Be(fu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?p1(e,t,r):(Be(Qe,Qe.current&1),e=On(e,t,r),e!==null?e.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return h1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,d1(e,t,r)}return On(e,t,r)}var g1,Qm,v1,x1;g1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qm=function(){};v1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Xs(an.current);var i=null;switch(r){case"input":s=vm(e,s),n=vm(e,n),i=[];break;case"select":s=Xe({},s,{value:void 0}),n=Xe({},n,{value:void 0}),i=[];break;case"textarea":s=bm(e,s),n=bm(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ou)}Sm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};x1=function(e,t,r,n){r!==n&&(t.flags|=4)};function co(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xk(e,t,r){var n=t.pendingProps;switch(bh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Vt(t.type)&&lu(),wt(t),null;case 3:return n=t.stateNode,Ca(),Ve(qt),Ve(jt),Th(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(np(_r),_r=null))),Qm(e,t),wt(t),null;case 5:kh(t);var s=Xs(Yo.current);if(r=t.type,e!==null&&t.stateNode!=null)v1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return wt(t),null}if(e=Xs(an.current),dc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[en]=t,n[Ko]=i,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(s=0;s<yo.length;s++)qe(yo[s],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":Sv(n,i),qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qe("invalid",n);break;case"textarea":jv(n,i),qe("invalid",n)}Sm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&uc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&uc(n.textContent,l,e),s=["children",""+l]):Lo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",n)}switch(r){case"input":rc(n),Nv(n,i,!0);break;case"textarea":rc(n),Cv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ou)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[en]=t,e[Ko]=n,g1(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nm(r,n),r){case"dialog":qe("cancel",e),qe("close",e),s=n;break;case"iframe":case"object":case"embed":qe("load",e),s=n;break;case"video":case"audio":for(s=0;s<yo.length;s++)qe(yo[s],e);s=n;break;case"source":qe("error",e),s=n;break;case"img":case"image":case"link":qe("error",e),qe("load",e),s=n;break;case"details":qe("toggle",e),s=n;break;case"input":Sv(e,n),s=vm(e,n),qe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Xe({},n,{value:void 0}),qe("invalid",e);break;case"textarea":jv(e,n),s=bm(e,n),qe("invalid",e);break;default:s=n}Sm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Qb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$o(e,c):typeof c=="number"&&$o(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qe("scroll",e):c!=null&&ih(e,i,c,o))}switch(r){case"input":rc(e),Nv(e,n,!1);break;case"textarea":rc(e),Cv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ps(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Yi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Yi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ou)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)x1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Xs(Yo.current),Xs(an.current),dc(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(i=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:uc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return wt(t),null;case 13:if(Ve(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Zt!==null&&t.mode&1&&!(t.flags&128))Fw(),Na(),t.flags|=98560,i=!1;else if(i=dc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[en]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else _r!==null&&(np(_r),_r=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?ot===0&&(ot=3):Bh())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Ca(),Qm(e,t),e===null&&Wo(t.stateNode.containerInfo),wt(t),null;case 10:return jh(t.type._context),wt(t),null;case 17:return Vt(t.type)&&lu(),wt(t),null;case 19:if(Ve(Qe),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)co(i,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hu(e),o!==null){for(t.flags|=128,co(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(Qe,Qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>Pa&&(t.flags|=128,n=!0,co(i,!1),t.lanes=4194304)}else{if(!n)if(e=hu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return wt(t),null}else 2*tt()-i.renderingStartTime>Pa&&r!==1073741824&&(t.flags|=128,n=!0,co(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,r=Qe.current,Be(Qe,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return zh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function Jk(e,t){switch(bh(t),t.tag){case 1:return Vt(t.type)&&lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),Ve(qt),Ve(jt),Th(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kh(t),null;case 13:if(Ve(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Qe),null;case 4:return Ca(),null;case 10:return jh(t.type._context),null;case 22:case 23:return zh(),null;case 24:return null;default:return null}}var pc=!1,Nt=!1,eT=typeof WeakSet=="function"?WeakSet:Set,X=null;function Gi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){et(e,t,n)}else r.current=null}function Ym(e,t,r){try{r()}catch(n){et(e,t,n)}}var px=!1;function tT(e,t){if(Rm=su,e=Nw(),xh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===e)break t;if(m===r&&++u===s&&(l=o),m===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Om={focusedElem:e,selectionRange:r},su=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,b=h.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Dr(t.type,v),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(w){et(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return h=px,px=!1,h}function Io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ym(t,r,i)}s=s.next}while(s!==n)}}function nd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Zm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y1(e){var t=e.alternate;t!==null&&(e.alternate=null,y1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Ko],delete t[Mm],delete t[Mk],delete t[Lk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b1(e){return e.tag===5||e.tag===3||e.tag===4}function hx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ou));else if(n!==4&&(e=e.child,e!==null))for(Xm(e,t,r),e=e.sibling;e!==null;)Xm(e,t,r),e=e.sibling}function Jm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jm(e,t,r),e=e.sibling;e!==null;)Jm(e,t,r),e=e.sibling}var ht=null,Or=!1;function Gn(e,t,r){for(r=r.child;r!==null;)w1(e,t,r),r=r.sibling}function w1(e,t,r){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Qu,r)}catch{}switch(r.tag){case 5:Nt||Gi(r,t);case 6:var n=ht,s=Or;ht=null,Gn(e,t,r),ht=n,Or=s,ht!==null&&(Or?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Or?(e=ht,r=r.stateNode,e.nodeType===8?jf(e.parentNode,r):e.nodeType===1&&jf(e,r),Ho(e)):jf(ht,r.stateNode));break;case 4:n=ht,s=Or,ht=r.stateNode.containerInfo,Or=!0,Gn(e,t,r),ht=n,Or=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ym(r,t,o),s=s.next}while(s!==n)}Gn(e,t,r);break;case 1:if(!Nt&&(Gi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){et(r,t,l)}Gn(e,t,r);break;case 21:Gn(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Gn(e,t,r),Nt=n):Gn(e,t,r);break;default:Gn(e,t,r)}}function gx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eT),t.forEach(function(n){var s=uT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Or=!1;break e;case 3:ht=l.stateNode.containerInfo,Or=!0;break e;case 4:ht=l.stateNode.containerInfo,Or=!0;break e}l=l.return}if(ht===null)throw Error(G(160));w1(i,o,s),ht=null,Or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S1(t,e),t=t.sibling}function S1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),Qr(e),n&4){try{Io(3,e,e.return),nd(3,e)}catch(v){et(e,e.return,v)}try{Io(5,e,e.return)}catch(v){et(e,e.return,v)}}break;case 1:Pr(t,e),Qr(e),n&512&&r!==null&&Gi(r,r.return);break;case 5:if(Pr(t,e),Qr(e),n&512&&r!==null&&Gi(r,r.return),e.flags&32){var s=e.stateNode;try{$o(s,"")}catch(v){et(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qb(s,i),Nm(l,o);var u=Nm(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?Qb(s,d):f==="dangerouslySetInnerHTML"?Gb(s,d):f==="children"?$o(s,d):ih(s,f,d,u)}switch(l){case"input":xm(s,i);break;case"textarea":Vb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Yi(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Yi(s,!!i.multiple,i.defaultValue,!0):Yi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ko]=i}catch(v){et(e,e.return,v)}}break;case 6:if(Pr(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){et(e,e.return,v)}}break;case 3:if(Pr(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ho(t.containerInfo)}catch(v){et(e,e.return,v)}break;case 4:Pr(t,e),Qr(e);break;case 13:Pr(t,e),Qr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lh=tt())),n&4&&gx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||f,Pr(t,e),Nt=u):Pr(t,e),Qr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(X=e,f=e.child;f!==null;){for(d=X=f;X!==null;){switch(m=X,p=m.child,m.tag){case 0:case 11:case 14:case 15:Io(4,m,m.return);break;case 1:Gi(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){et(n,r,v)}}break;case 5:Gi(m,m.return);break;case 22:if(m.memoizedState!==null){xx(d);continue}}p!==null?(p.return=m,X=p):xx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Kb("display",o))}catch(v){et(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){et(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pr(t,e),Qr(e),n&4&&gx(e);break;case 21:break;default:Pr(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b1(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($o(s,""),n.flags&=-33);var i=hx(e);Jm(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hx(e);Xm(e,l,o);break;default:throw Error(G(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rT(e,t,r){X=e,N1(e)}function N1(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||pc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=pc;var u=Nt;if(pc=o,(Nt=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?yx(s):c!==null?(c.return=o,X=c):yx(s);for(;i!==null;)X=i,N1(i),i=i.sibling;X=s,pc=l,Nt=u}vx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):vx(e)}}function vx(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||nd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Dr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Ho(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Nt||t.flags&512&&Zm(t)}catch(m){et(t,t.return,m)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function xx(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function yx(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nd(4,t)}catch(c){et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){et(t,s,c)}}var i=t.return;try{Zm(t)}catch(c){et(t,i,c)}break;case 5:var o=t.return;try{Zm(t)}catch(c){et(t,o,c)}}}catch(c){et(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var nT=Math.ceil,xu=$n.ReactCurrentDispatcher,Fh=$n.ReactCurrentOwner,pr=$n.ReactCurrentBatchConfig,ke=0,ct=null,rt=null,xt=0,Kt=0,Ki=Ms(0),ot=0,el=null,hi=0,sd=0,Mh=0,Do=null,Bt=null,Lh=0,Pa=1/0,Sn=null,yu=!1,ep=null,ys=null,hc=!1,ds=null,bu=0,Ao=0,tp=null,Bc=-1,Uc=0;function Dt(){return ke&6?tt():Bc!==-1?Bc:Bc=tt()}function bs(e){return e.mode&1?ke&2&&xt!==0?xt&-xt:zk.transition!==null?(Uc===0&&(Uc=ow()),Uc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:pw(e.type)),e):1}function zr(e,t,r,n){if(50<Ao)throw Ao=0,tp=null,Error(G(185));jl(e,r,n),(!(ke&2)||e!==ct)&&(e===ct&&(!(ke&2)&&(sd|=r),ot===4&&Jn(e,xt)),Wt(e,n),r===1&&ke===0&&!(t.mode&1)&&(Pa=tt()+500,ed&&Ls()))}function Wt(e,t){var r=e.callbackNode;zP(e,t);var n=nu(e,e===ct?xt:0);if(n===0)r!==null&&kv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kv(r),t===1)e.tag===0?$k(bx.bind(null,e)):Rw(bx.bind(null,e)),_k(function(){!(ke&6)&&Ls()}),r=null;else{switch(lw(n)){case 1:r=uh;break;case 4:r=iw;break;case 16:r=ru;break;case 536870912:r=aw;break;default:r=ru}r=D1(r,j1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function j1(e,t){if(Bc=-1,Uc=0,ke&6)throw Error(G(327));var r=e.callbackNode;if(ta()&&e.callbackNode!==r)return null;var n=nu(e,e===ct?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wu(e,n);else{t=n;var s=ke;ke|=2;var i=E1();(ct!==e||xt!==t)&&(Sn=null,Pa=tt()+500,li(e,t));do try{aT();break}catch(l){C1(e,l)}while(!0);Nh(),xu.current=i,ke=s,rt!==null?t=0:(ct=null,xt=0,t=ot)}if(t!==0){if(t===2&&(s=km(e),s!==0&&(n=s,t=rp(e,s))),t===1)throw r=el,li(e,0),Jn(e,n),Wt(e,tt()),r;if(t===6)Jn(e,n);else{if(s=e.current.alternate,!(n&30)&&!sT(s)&&(t=wu(e,n),t===2&&(i=km(e),i!==0&&(n=i,t=rp(e,i))),t===1))throw r=el,li(e,0),Jn(e,n),Wt(e,tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Gs(e,Bt,Sn);break;case 3:if(Jn(e,n),(n&130023424)===n&&(t=Lh+500-tt(),10<t)){if(nu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fm(Gs.bind(null,e,Bt,Sn),t);break}Gs(e,Bt,Sn);break;case 4:if(Jn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-$r(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nT(n/1960))-n,10<n){e.timeoutHandle=Fm(Gs.bind(null,e,Bt,Sn),n);break}Gs(e,Bt,Sn);break;case 5:Gs(e,Bt,Sn);break;default:throw Error(G(329))}}}return Wt(e,tt()),e.callbackNode===r?j1.bind(null,e):null}function rp(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=wu(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&np(t)),e}function np(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function sT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ur(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t){for(t&=~Mh,t&=~sd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$r(t),n=1<<r;e[r]=-1,t&=~n}}function bx(e){if(ke&6)throw Error(G(327));ta();var t=nu(e,0);if(!(t&1))return Wt(e,tt()),null;var r=wu(e,t);if(e.tag!==0&&r===2){var n=km(e);n!==0&&(t=n,r=rp(e,n))}if(r===1)throw r=el,li(e,0),Jn(e,t),Wt(e,tt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gs(e,Bt,Sn),Wt(e,tt()),null}function $h(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Pa=tt()+500,ed&&Ls())}}function gi(e){ds!==null&&ds.tag===0&&!(ke&6)&&ta();var t=ke;ke|=1;var r=pr.transition,n=Ae;try{if(pr.transition=null,Ae=1,e)return e()}finally{Ae=n,pr.transition=r,ke=t,!(ke&6)&&Ls()}}function zh(){Kt=Ki.current,Ve(Ki)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ok(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(bh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lu();break;case 3:Ca(),Ve(qt),Ve(jt),Th();break;case 5:kh(n);break;case 4:Ca();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:jh(n.type._context);break;case 22:case 23:zh()}r=r.return}if(ct=e,rt=e=ws(e.current,null),xt=Kt=t,ot=0,el=null,Mh=sd=hi=0,Bt=Do=null,Zs!==null){for(t=0;t<Zs.length;t++)if(r=Zs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Zs=null}return e}function C1(e,t){do{var r=rt;try{if(Nh(),Lc.current=vu,gu){for(var n=Ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gu=!1}if(pi=0,lt=st=Ze=null,To=!1,Zo=0,Fh.current=null,r===null||r.return===null){ot=1,el=t,rt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ox(o);if(p!==null){p.flags&=-257,lx(p,o,l,i,t),p.mode&1&&ax(i,u,t),t=p,c=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){ax(i,u,t),Bh();break e}c=Error(G(426))}}else if(We&&l.mode&1){var b=ox(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lx(b,o,l,i,t),wh(Ea(c,l));break e}}i=c=Ea(c,l),ot!==4&&(ot=2),Do===null?Do=[i]:Do.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=l1(i,c,t);ex(i,g);break e;case 1:l=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ys===null||!ys.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=c1(i,l,t);ex(i,w);break e}}i=i.return}while(i!==null)}k1(r)}catch(S){t=S,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function E1(){var e=xu.current;return xu.current=vu,e===null?vu:e}function Bh(){(ot===0||ot===3||ot===2)&&(ot=4),ct===null||!(hi&268435455)&&!(sd&268435455)||Jn(ct,xt)}function wu(e,t){var r=ke;ke|=2;var n=E1();(ct!==e||xt!==t)&&(Sn=null,li(e,t));do try{iT();break}catch(s){C1(e,s)}while(!0);if(Nh(),ke=r,xu.current=n,rt!==null)throw Error(G(261));return ct=null,xt=0,ot}function iT(){for(;rt!==null;)P1(rt)}function aT(){for(;rt!==null&&!DP();)P1(rt)}function P1(e){var t=I1(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?k1(e):rt=t,Fh.current=null}function k1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jk(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,rt=null;return}}else if(r=Xk(r,t,Kt),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ot===0&&(ot=5)}function Gs(e,t,r){var n=Ae,s=pr.transition;try{pr.transition=null,Ae=1,oT(e,t,r,n)}finally{pr.transition=s,Ae=n}return null}function oT(e,t,r,n){do ta();while(ds!==null);if(ke&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(BP(e,i),e===ct&&(rt=ct=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hc||(hc=!0,D1(ru,function(){return ta(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pr.transition,pr.transition=null;var o=Ae;Ae=1;var l=ke;ke|=4,Fh.current=null,tT(e,r),S1(r,e),Pk(Om),su=!!Rm,Om=Rm=null,e.current=r,rT(r),AP(),ke=l,Ae=o,pr.transition=i}else e.current=r;if(hc&&(hc=!1,ds=e,bu=s),i=e.pendingLanes,i===0&&(ys=null),_P(r.stateNode),Wt(e,tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,e=ep,ep=null,e;return bu&1&&e.tag!==0&&ta(),i=e.pendingLanes,i&1?e===tp?Ao++:(Ao=0,tp=e):Ao=0,Ls(),null}function ta(){if(ds!==null){var e=lw(bu),t=pr.transition,r=Ae;try{if(pr.transition=null,Ae=16>e?16:e,ds===null)var n=!1;else{if(e=ds,ds=null,bu=0,ke&6)throw Error(G(331));var s=ke;for(ke|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Io(8,f,i)}var d=f.child;if(d!==null)d.return=f,X=d;else for(;X!==null;){f=X;var m=f.sibling,p=f.return;if(y1(f),f===u){X=null;break}if(m!==null){m.return=p,X=m;break}X=p}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Io(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var x=e.current;for(X=x;X!==null;){o=X;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,X=y;else e:for(o=x;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nd(9,l)}}catch(S){et(l,l.return,S)}if(l===o){X=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,X=w;break e}X=l.return}}if(ke=s,Ls(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Qu,e)}catch{}n=!0}return n}finally{Ae=r,pr.transition=t}}return!1}function wx(e,t,r){t=Ea(r,t),t=l1(e,t,1),e=xs(e,t,1),t=Dt(),e!==null&&(jl(e,1,t),Wt(e,t))}function et(e,t,r){if(e.tag===3)wx(e,e,r);else for(;t!==null;){if(t.tag===3){wx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ys===null||!ys.has(n))){e=Ea(r,e),e=c1(t,e,1),t=xs(t,e,1),e=Dt(),t!==null&&(jl(t,1,e),Wt(t,e));break}}t=t.return}}function lT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,ct===e&&(xt&r)===r&&(ot===4||ot===3&&(xt&130023424)===xt&&500>tt()-Lh?li(e,0):Mh|=r),Wt(e,t)}function T1(e,t){t===0&&(e.mode&1?(t=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):t=1);var r=Dt();e=Rn(e,t),e!==null&&(jl(e,t,r),Wt(e,r))}function cT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T1(e,r)}function uT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),T1(e,r)}var I1;I1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ht=!1,Zk(e,t,r);Ht=!!(e.flags&131072)}else Ht=!1,We&&t.flags&1048576&&Ow(t,du,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zc(e,t),e=t.pendingProps;var s=Sa(t,jt.current);ea(t,r),s=Dh(null,t,n,e,s,r);var i=Ah();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(n)?(i=!0,cu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eh(t),s.updater=rd,t.stateNode=s,s._reactInternals=t,Hm(t,n,e,r),t=Wm(null,t,n,!0,i,r)):(t.tag=0,We&&i&&yh(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=fT(n),e=Dr(n,e),s){case 0:t=Vm(null,t,n,e,r);break e;case 1:t=dx(null,t,n,e,r);break e;case 11:t=cx(null,t,n,e,r);break e;case 14:t=ux(null,t,n,Dr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),Vm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),dx(e,t,n,s,r);case 3:e:{if(m1(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,zw(e,t),pu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ea(Error(G(423)),t),t=fx(e,t,n,r,s);break e}else if(n!==s){s=Ea(Error(G(424)),t),t=fx(e,t,n,r,s);break e}else for(Zt=vs(t.stateNode.containerInfo.firstChild),Jt=t,We=!0,_r=null,r=Lw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Na(),n===s){t=On(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return Bw(t),e===null&&zm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,_m(n,s)?o=null:i!==null&&_m(n,i)&&(t.flags|=32),f1(e,t),Tt(e,t,o,r),t.child;case 6:return e===null&&zm(t),null;case 13:return p1(e,t,r);case 4:return Ph(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ja(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),cx(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Be(fu,n._currentValue),n._currentValue=o,i!==null)if(Ur(i.value,o)){if(i.children===s.children&&!qt.current){t=On(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Tn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Bm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Bm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ea(t,r),s=xr(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=Dr(n,t.pendingProps),s=Dr(n.type,s),ux(e,t,n,s,r);case 15:return u1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Dr(n,s),zc(e,t),t.tag=1,Vt(n)?(e=!0,cu(t)):e=!1,ea(t,r),o1(t,n,s),Hm(t,n,s,r),Wm(null,t,n,!0,e,r);case 19:return h1(e,t,r);case 22:return d1(e,t,r)}throw Error(G(156,t.tag))};function D1(e,t){return sw(e,t)}function dT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,r,n){return new dT(e,t,r,n)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fT(e){if(typeof e=="function")return Uh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oh)return 11;if(e===lh)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=fr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Uh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Li:return ci(r.children,s,i,t);case ah:o=8,s|=8;break;case mm:return e=fr(12,r,t,s|2),e.elementType=mm,e.lanes=i,e;case pm:return e=fr(13,r,t,s),e.elementType=pm,e.lanes=i,e;case hm:return e=fr(19,r,t,s),e.elementType=hm,e.lanes=i,e;case Bb:return id(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $b:o=10;break e;case zb:o=9;break e;case oh:o=11;break e;case lh:o=14;break e;case Yn:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=fr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ci(e,t,r,n){return e=fr(7,e,n,t),e.lanes=r,e}function id(e,t,r,n){return e=fr(22,e,n,t),e.elementType=Bb,e.lanes=r,e.stateNode={isHidden:!1},e}function Af(e,t,r){return e=fr(6,e,null,t),e.lanes=r,e}function Rf(e,t,r){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mf(0),this.expirationTimes=mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hh(e,t,r,n,s,i,o,l,c){return e=new mT(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(i),e}function pT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function A1(e){if(!e)return ks;e=e._reactInternals;e:{if(ki(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Vt(r))return Aw(e,r,t)}return t}function R1(e,t,r,n,s,i,o,l,c){return e=Hh(r,n,!0,e,s,i,o,l,c),e.context=A1(null),r=e.current,n=Dt(),s=bs(r),i=Tn(n,s),i.callback=t??null,xs(r,i,s),e.current.lanes=s,jl(e,s,n),Wt(e,n),e}function ad(e,t,r,n){var s=t.current,i=Dt(),o=bs(s);return r=A1(r),t.context===null?t.context=r:t.pendingContext=r,t=Tn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(s,t,o),e!==null&&(zr(e,s,o,i),Mc(e,s,o)),o}function Su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qh(e,t){Sx(e,t),(e=e.alternate)&&Sx(e,t)}function hT(){return null}var O1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vh(e){this._internalRoot=e}od.prototype.render=Vh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));ad(e,t,null,null)};od.prototype.unmount=Vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){ad(null,e,null,null)}),t[An]=null}};function od(e){this._internalRoot=e}od.prototype.unstable_scheduleHydration=function(e){if(e){var t=dw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xn.length&&t!==0&&t<Xn[r].priority;r++);Xn.splice(r,0,e),r===0&&mw(e)}};function Wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function gT(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Su(o);i.call(u)}}var o=R1(t,n,e,0,null,!1,!1,"",Nx);return e._reactRootContainer=o,e[An]=o.current,Wo(e.nodeType===8?e.parentNode:e),gi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Su(c);l.call(u)}}var c=Hh(e,0,!1,null,null,!1,!1,"",Nx);return e._reactRootContainer=c,e[An]=c.current,Wo(e.nodeType===8?e.parentNode:e),gi(function(){ad(t,c,r,n)}),c}function cd(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Su(o);l.call(c)}}ad(t,o,e,s)}else o=gT(r,t,e,s,n);return Su(o)}cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xo(t.pendingLanes);r!==0&&(dh(t,r|1),Wt(t,tt()),!(ke&6)&&(Pa=tt()+500,Ls()))}break;case 13:gi(function(){var n=Rn(e,1);if(n!==null){var s=Dt();zr(n,e,1,s)}}),qh(e,1)}};fh=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=Dt();zr(t,e,134217728,r)}qh(e,134217728)}};uw=function(e){if(e.tag===13){var t=bs(e),r=Rn(e,t);if(r!==null){var n=Dt();zr(r,e,t,n)}qh(e,t)}};dw=function(){return Ae};fw=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Cm=function(e,t,r){switch(t){case"input":if(xm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ju(n);if(!s)throw Error(G(90));Hb(n),xm(n,s)}}}break;case"textarea":Vb(e,r);break;case"select":t=r.value,t!=null&&Yi(e,!!r.multiple,t,!1)}};Xb=$h;Jb=gi;var vT={usingClientEntryPoint:!1,Events:[El,Ui,Ju,Yb,Zb,$h]},uo={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xT={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rw(e),e===null?null:e.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||hT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Qu=gc.inject(xT),sn=gc}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(t))throw Error(G(200));return pT(e,t,null,r)};ir.createRoot=function(e,t){if(!Wh(e))throw Error(G(299));var r=!1,n="",s=O1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hh(e,1,!1,null,null,r,!1,n,s),e[An]=t.current,Wo(e.nodeType===8?e.parentNode:e),new Vh(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=rw(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return gi(e)};ir.hydrate=function(e,t,r){if(!ld(t))throw Error(G(200));return cd(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!Wh(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=O1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=R1(t,null,e,1,r??null,s,!1,i,o),e[An]=t.current,Wo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new od(t)};ir.render=function(e,t,r){if(!ld(t))throw Error(G(200));return cd(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!ld(e))throw Error(G(40));return e._reactRootContainer?(gi(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};ir.unstable_batchedUpdates=$h;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ld(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return cd(e,t,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function _1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_1)}catch(e){console.error(e)}}_1(),_b.exports=ir;var ud=_b.exports;const Gh=Hp(ud);var yT=e=>{switch(e){case"success":return ST;case"info":return jT;case"warning":return NT;case"error":return CT;default:return null}},bT=Array(12).fill(0),wT=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},bT.map((r,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ST=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NT=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jT=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CT=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ET=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PT=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},sp=1,kT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:sp++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],q.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(IT(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||sp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$t=new kT,TT=(e,t)=>{let r=(t==null?void 0:t.id)||sp++;return $t.addToast({title:e,...t,id:r}),r},IT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DT=TT,AT=()=>$t.toasts,RT=()=>$t.getActiveToasts();Object.assign(DT,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:AT,getToasts:RT});function OT(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vc(e){return e.label!==void 0}var _T=3,FT="32px",MT="16px",jx=4e3,LT=356,$T=14,zT=20,BT=200;function kr(...e){return e.filter(Boolean).join(" ")}function UT(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var HT=e=>{var t,r,n,s,i,o,l,c,u,f,d;let{invert:m,toast:p,unstyled:h,interacting:v,setHeights:b,visibleToasts:g,heights:x,index:y,toasts:w,expanded:S,removeToast:j,defaultRichColors:C,closeButton:E,style:T,cancelButtonStyle:A,actionButtonStyle:_,className:P="",descriptionClassName:O="",duration:R,position:$,gap:L,loadingIcon:M,expandByDefault:I,classNames:F,icons:z,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:V}=e,[ee,Y]=q.useState(null),[fe,be]=q.useState(null),[H,se]=q.useState(!1),[xe,te]=q.useState(!1),[J,W]=q.useState(!1),[ie,ge]=q.useState(!1),[Oe,Ue]=q.useState(!1),[Ge,mt]=q.useState(0),[Le,Ot]=q.useState(0),br=q.useRef(p.duration||R||jx),Ti=q.useRef(null),wr=q.useRef(null),Gl=y===0,Kl=y+1<=g,_t=p.type,xn=p.dismissible!==!1,Xd=p.className||"",Xa=p.descriptionClassName||"",Sr=q.useMemo(()=>x.findIndex(me=>me.toastId===p.id)||0,[x,p.id]),Ja=q.useMemo(()=>{var me;return(me=p.closeButton)!=null?me:E},[p.closeButton,E]),Ii=q.useMemo(()=>p.duration||R||jx,[p.duration,R]),zn=q.useRef(0),Bn=q.useRef(0),Ql=q.useRef(0),Un=q.useRef(null),[Jd,ef]=$.split("-"),eo=q.useMemo(()=>x.reduce((me,Te,$e)=>$e>=Sr?me:me+Te.height,0),[x,Sr]),Yl=PT(),Zl=p.invert||m,Di=_t==="loading";Bn.current=q.useMemo(()=>Sr*L+eo,[Sr,eo]),q.useEffect(()=>{br.current=Ii},[Ii]),q.useEffect(()=>{se(!0)},[]),q.useEffect(()=>{let me=wr.current;if(me){let Te=me.getBoundingClientRect().height;return Ot(Te),b($e=>[{toastId:p.id,height:Te,position:p.position},...$e]),()=>b($e=>$e.filter(jr=>jr.toastId!==p.id))}},[b,p.id]),q.useLayoutEffect(()=>{if(!H)return;let me=wr.current,Te=me.style.height;me.style.height="auto";let $e=me.getBoundingClientRect().height;me.style.height=Te,Ot($e),b(jr=>jr.find(Cr=>Cr.toastId===p.id)?jr.map(Cr=>Cr.toastId===p.id?{...Cr,height:$e}:Cr):[{toastId:p.id,height:$e,position:p.position},...jr])},[H,p.title,p.description,b,p.id]);let Nr=q.useCallback(()=>{te(!0),mt(Bn.current),b(me=>me.filter(Te=>Te.toastId!==p.id)),setTimeout(()=>{j(p)},BT)},[p,j,b,Bn]);q.useEffect(()=>{if(p.promise&&_t==="loading"||p.duration===1/0||p.type==="loading")return;let me;return S||v||V&&Yl?(()=>{if(Ql.current<zn.current){let Te=new Date().getTime()-zn.current;br.current=br.current-Te}Ql.current=new Date().getTime()})():br.current!==1/0&&(zn.current=new Date().getTime(),me=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),Nr()},br.current)),()=>clearTimeout(me)},[S,v,p,_t,V,Yl,Nr]),q.useEffect(()=>{p.delete&&Nr()},[Nr,p.delete]);function tf(){var me,Te,$e;return z!=null&&z.loading?q.createElement("div",{className:kr(F==null?void 0:F.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":_t==="loading"},z.loading):M?q.createElement("div",{className:kr(F==null?void 0:F.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":_t==="loading"},M):q.createElement(wT,{className:kr(F==null?void 0:F.loader,($e=p==null?void 0:p.classNames)==null?void 0:$e.loader),visible:_t==="loading"})}return q.createElement("li",{tabIndex:0,ref:wr,className:kr(P,Xd,F==null?void 0:F.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[_t],(r=p==null?void 0:p.classNames)==null?void 0:r[_t]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:C,"data-styled":!(p.jsx||p.unstyled||h),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":xe,"data-visible":Kl,"data-y-position":Jd,"data-x-position":ef,"data-index":y,"data-front":Gl,"data-swiping":J,"data-dismissible":xn,"data-type":_t,"data-invert":Zl,"data-swipe-out":ie,"data-swipe-direction":fe,"data-expanded":!!(S||I&&H),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${xe?Ge:Bn.current}px`,"--initial-height":I?"auto":`${Le}px`,...T,...p.style},onDragEnd:()=>{W(!1),Y(null),Un.current=null},onPointerDown:me=>{Di||!xn||(Ti.current=new Date,mt(Bn.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(W(!0),Un.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Te,$e,jr;if(ie||!xn)return;Un.current=null;let Cr=Number(((me=wr.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hn=Number(((Te=wr.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Hs=new Date().getTime()-(($e=Ti.current)==null?void 0:$e.getTime()),Er=ee==="x"?Cr:Hn,qn=Math.abs(Er)/Hs;if(Math.abs(Er)>=zT||qn>.11){mt(Bn.current),(jr=p.onDismiss)==null||jr.call(p,p),be(ee==="x"?Cr>0?"right":"left":Hn>0?"down":"up"),Nr(),ge(!0),Ue(!1);return}W(!1),Y(null)},onPointerMove:me=>{var Te,$e,jr,Cr;if(!Un.current||!xn||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;let Hn=me.clientY-Un.current.y,Hs=me.clientX-Un.current.x,Er=($e=e.swipeDirections)!=null?$e:UT($);!ee&&(Math.abs(Hs)>1||Math.abs(Hn)>1)&&Y(Math.abs(Hs)>Math.abs(Hn)?"x":"y");let qn={x:0,y:0};ee==="y"?(Er.includes("top")||Er.includes("bottom"))&&(Er.includes("top")&&Hn<0||Er.includes("bottom")&&Hn>0)&&(qn.y=Hn):ee==="x"&&(Er.includes("left")||Er.includes("right"))&&(Er.includes("left")&&Hs<0||Er.includes("right")&&Hs>0)&&(qn.x=Hs),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Ue(!0),(jr=wr.current)==null||jr.style.setProperty("--swipe-amount-x",`${qn.x}px`),(Cr=wr.current)==null||Cr.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Ja&&!p.jsx?q.createElement("button",{"aria-label":K,"data-disabled":Di,"data-close-button":!0,onClick:Di||!xn?()=>{}:()=>{var me;Nr(),(me=p.onDismiss)==null||me.call(p,p)},className:kr(F==null?void 0:F.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=z==null?void 0:z.close)!=null?i:ET):null,p.jsx||k.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,_t||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:kr(F==null?void 0:F.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||tf():null,p.type!=="loading"?p.icon||(z==null?void 0:z[_t])||yT(_t):null):null,q.createElement("div",{"data-content":"",className:kr(F==null?void 0:F.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:kr(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:kr(O,Xa,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),k.isValidElement(p.cancel)?p.cancel:p.cancel&&vc(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:me=>{var Te,$e;vc(p.cancel)&&xn&&(($e=(Te=p.cancel).onClick)==null||$e.call(Te,me),Nr())},className:kr(F==null?void 0:F.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,k.isValidElement(p.action)?p.action:p.action&&vc(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||_,onClick:me=>{var Te,$e;vc(p.action)&&(($e=(Te=p.action).onClick)==null||$e.call(Te,me),!me.defaultPrevented&&Nr())},className:kr(F==null?void 0:F.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Cx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function qT(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?MT:FT;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var VT=k.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:m,style:p,visibleToasts:h=_T,toastOptions:v,dir:b=Cx(),gap:g=$T,loadingIcon:x,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:S}=e,[j,C]=q.useState([]),E=q.useMemo(()=>Array.from(new Set([n].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,n]),[T,A]=q.useState([]),[_,P]=q.useState(!1),[O,R]=q.useState(!1),[$,L]=q.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=q.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=q.useRef(null),z=q.useRef(!1),K=q.useCallback(V=>{C(ee=>{var Y;return(Y=ee.find(fe=>fe.id===V.id))!=null&&Y.delete||$t.dismiss(V.id),ee.filter(({id:fe})=>fe!==V.id)})},[]);return q.useEffect(()=>$t.subscribe(V=>{if(V.dismiss){C(ee=>ee.map(Y=>Y.id===V.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Gh.flushSync(()=>{C(ee=>{let Y=ee.findIndex(fe=>fe.id===V.id);return Y!==-1?[...ee.slice(0,Y),{...ee[Y],...V},...ee.slice(Y+1)]:[V,...ee]})})})}),[]),q.useEffect(()=>{if(f!=="system"){L(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ee})=>{L(ee?"dark":"light")})}catch{V.addListener(({matches:Y})=>{try{L(Y?"dark":"light")}catch(fe){console.error(fe)}})}},[f]),q.useEffect(()=>{j.length<=1&&P(!1)},[j]),q.useEffect(()=>{let V=ee=>{var Y,fe;s.every(be=>ee[be]||ee.code===be)&&(P(!0),(Y=M.current)==null||Y.focus()),ee.code==="Escape"&&(document.activeElement===M.current||(fe=M.current)!=null&&fe.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),q.useEffect(()=>{if(M.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,z.current=!1)}},[M.current]),q.createElement("section",{ref:t,"aria-label":`${w} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((V,ee)=>{var Y;let[fe,be]=V.split("-");return j.length?q.createElement("ol",{key:V,dir:b==="auto"?Cx():b,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":fe,"data-lifted":_&&j.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((Y=T[0])==null?void 0:Y.height)||0}px`,"--width":`${LT}px`,"--gap":`${g}px`,...p,...qT(c,u)},onBlur:H=>{z.current&&!H.currentTarget.contains(H.relatedTarget)&&(z.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||z.current||(z.current=!0,F.current=H.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{O||P(!1)},onDragEnd:()=>P(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(H=>!H.position&&ee===0||H.position===V).map((H,se)=>{var xe,te;return q.createElement(HT,{key:H.id,icons:y,index:se,toast:H,defaultRichColors:d,duration:(xe=v==null?void 0:v.duration)!=null?xe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:h,closeButton:(te=v==null?void 0:v.closeButton)!=null?te:o,interacting:O,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:K,toasts:j.filter(J=>J.position==H.position),heights:T.filter(J=>J.position==H.position),setHeights:A,expandByDefault:i,gap:g,loadingIcon:x,expanded:_,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const WT=({...e})=>{const{theme:t="system"}=pP();return a.jsx(VT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function Ut(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ex(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function F1(...e){return t=>{let r=!1;const n=e.map(s=>{const i=Ex(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Ex(e[s],null)}}}}function hn(...e){return k.useCallback(F1(...e),e)}var M1={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=k,KT=Symbol.for("react.element"),QT=Symbol.for("react.fragment"),YT=Object.prototype.hasOwnProperty,ZT=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XT={key:!0,ref:!0,__self:!0,__source:!0};function L1(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)YT.call(t,n)&&!XT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:KT,type:e,key:i,ref:o,props:s,_owner:ZT.current}}dd.Fragment=QT;dd.jsx=L1;dd.jsxs=L1;M1.exports=dd;var le=M1.exports;function Kh(e,t=[]){let r=[];function n(i,o){const l=k.createContext(o),c=r.length;r=[...r,o];const u=d=>{var g;const{scope:m,children:p,...h}=d,v=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,b=k.useMemo(()=>h,Object.values(h));return le.jsx(v.Provider,{value:b,children:p})};u.displayName=i+"Provider";function f(d,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,h=k.useContext(p);if(h)return h;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>k.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return k.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,JT(s,...t)]}function JT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function $1(e){const t=eI(e),r=k.forwardRef((n,s)=>{const{children:i,...o}=n,l=k.Children.toArray(i),c=l.find(rI);if(c){const u=c.props.children,f=l.map(d=>d===c?k.Children.count(u)>1?k.Children.only(null):k.isValidElement(u)?u.props.children:null:d);return le.jsx(t,{...o,ref:s,children:k.isValidElement(u)?k.cloneElement(u,void 0,f):null})}return le.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function eI(e){const t=k.forwardRef((r,n)=>{const{children:s,...i}=r;if(k.isValidElement(s)){const o=sI(s),l=nI(i,s.props);return s.type!==k.Fragment&&(l.ref=n?F1(n,o):o),k.cloneElement(s,l)}return k.Children.count(s)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z1=Symbol("radix.slottable");function tI(e){const t=({children:r})=>le.jsx(le.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=z1,t}function rI(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z1}function nI(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sI(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gr=iI.reduce((e,t)=>{const r=$1(`Primitive.${t}`),n=k.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),le.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aI(e,t){e&&ud.flushSync(()=>e.dispatchEvent(t))}function ka(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oI(e,t=globalThis==null?void 0:globalThis.document){const r=ka(e);k.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lI="DismissableLayer",ip="dismissableLayer.update",cI="dismissableLayer.pointerDownOutside",uI="dismissableLayer.focusOutside",Px,B1=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qh=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=k.useContext(B1),[f,d]=k.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=k.useState({}),h=hn(t,C=>d(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(b),x=f?v.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=x>=g,S=mI(C=>{const E=C.target,T=[...u.branches].some(A=>A.contains(E));!w||T||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),j=pI(C=>{const E=C.target;[...u.branches].some(A=>A.contains(E))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return oI(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),k.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Px=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),kx(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Px)}},[f,m,r,u]),k.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),kx())},[f,u]),k.useEffect(()=>{const C=()=>p({});return document.addEventListener(ip,C),()=>document.removeEventListener(ip,C)},[]),le.jsx(Gr.div,{...c,ref:h,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:Ut(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ut(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ut(e.onPointerDownCapture,S.onPointerDownCapture)})});Qh.displayName=lI;var dI="DismissableLayerBranch",fI=k.forwardRef((e,t)=>{const r=k.useContext(B1),n=k.useRef(null),s=hn(t,n);return k.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),le.jsx(Gr.div,{...e,ref:s})});fI.displayName=dI;function mI(e,t=globalThis==null?void 0:globalThis.document){const r=ka(e),n=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){U1(cI,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function pI(e,t=globalThis==null?void 0:globalThis.document){const r=ka(e),n=k.useRef(!1);return k.useEffect(()=>{const s=i=>{i.target&&!n.current&&U1(uI,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function kx(){const e=new CustomEvent(ip);document.dispatchEvent(e)}function U1(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?aI(s,i):s.dispatchEvent(i)}var Ts=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},hI=Ob[" useId ".trim().toString()]||(()=>{}),gI=0;function vI(e){const[t,r]=k.useState(hI());return Ts(()=>{r(n=>n??String(gI++))},[e]),e||(t?`radix-${t}`:"")}const xI=["top","right","bottom","left"],Is=Math.min,Qt=Math.max,Nu=Math.round,xc=Math.floor,on=e=>({x:e,y:e}),yI={left:"right",right:"left",bottom:"top",top:"bottom"},bI={start:"end",end:"start"};function ap(e,t,r){return Qt(e,Is(t,r))}function _n(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function Ha(e){return e.split("-")[1]}function Yh(e){return e==="x"?"y":"x"}function Zh(e){return e==="y"?"height":"width"}function rn(e){return["top","bottom"].includes(Fn(e))?"y":"x"}function Xh(e){return Yh(rn(e))}function wI(e,t,r){r===void 0&&(r=!1);const n=Ha(e),s=Xh(e),i=Zh(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ju(o)),[o,ju(o)]}function SI(e){const t=ju(e);return[op(e),t,op(t)]}function op(e){return e.replace(/start|end/g,t=>bI[t])}function NI(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function jI(e,t,r,n){const s=Ha(e);let i=NI(Fn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(op)))),i}function ju(e){return e.replace(/left|right|bottom|top/g,t=>yI[t])}function CI(e){return{top:0,right:0,bottom:0,left:0,...e}}function H1(e){return typeof e!="number"?CI(e):{top:e,right:e,bottom:e,left:e}}function Cu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Tx(e,t,r){let{reference:n,floating:s}=e;const i=rn(t),o=Xh(t),l=Zh(o),c=Fn(t),u=i==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Ha(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const EI=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=Tx(u,n,c),m=n,p={},h=0;for(let v=0;v<l.length;v++){const{name:b,fn:g}=l[v],{x,y,data:w,reset:S}=await g({x:f,y:d,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=x??f,d=y??d,p={...p,[b]:{...p[b],...w}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=Tx(u,m,c)),v=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:p}};async function tl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=_n(t,e),h=H1(p),b=l[m?d==="floating"?"reference":"floating":d],g=Cu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Cu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(g.top-S.top+h.top)/w.y,bottom:(S.bottom-g.bottom+h.bottom)/w.y,left:(g.left-S.left+h.left)/w.x,right:(S.right-g.right+h.right)/w.x}}const PI=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=_n(e,t)||{};if(u==null)return{};const d=H1(f),m={x:r,y:n},p=Xh(s),h=Zh(p),v=await o.getDimensions(u),b=p==="y",g=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=i.reference[h]+i.reference[p]-m[p]-i.floating[h],S=m[p]-i.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[y]||i.floating[h]);const E=w/2-S/2,T=C/2-v[h]/2-1,A=Is(d[g],T),_=Is(d[x],T),P=A,O=C-v[h]-_,R=C/2-v[h]/2+E,$=ap(P,R,O),L=!c.arrow&&Ha(s)!=null&&R!==$&&i.reference[h]/2-(R<P?A:_)-v[h]/2<0,M=L?R<P?R-P:R-O:0;return{[p]:m[p]+M,data:{[p]:$,centerOffset:R-$-M,...L&&{alignmentOffset:M}},reset:L}}}),kI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...b}=_n(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Fn(s),x=rn(l),y=Fn(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(y||!v?[ju(l)]:SI(l)),j=h!=="none";!m&&j&&S.push(...jI(l,v,h,w));const C=[l,...S],E=await tl(t,b),T=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&T.push(E[g]),d){const R=wI(s,o,w);T.push(E[R[0]],E[R[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(R=>R<=0)){var _,P;const R=(((_=i.flip)==null?void 0:_.index)||0)+1,$=C[R];if($&&(!(d==="alignment"?x!==rn($):!1)||A.every(I=>I.overflows[0]>0&&rn(I.placement)===x)))return{data:{index:R,overflows:A},reset:{placement:$}};let L=(P=A.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(p){case"bestFit":{var O;const M=(O=A.filter(I=>{if(j){const F=rn(I.placement);return F===x||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:O[0];M&&(L=M);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Ix(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Dx(e){return xI.some(t=>e[t]>=0)}const TI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=_n(e,t);switch(n){case"referenceHidden":{const i=await tl(t,{...s,elementContext:"reference"}),o=Ix(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dx(o)}}}case"escaped":{const i=await tl(t,{...s,altBoundary:!0}),o=Ix(i,r.floating);return{data:{escapedOffsets:o,escaped:Dx(o)}}}default:return{}}}}};async function II(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Fn(r),l=Ha(r),c=rn(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,d=_n(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof h=="number"&&(p=l==="end"?h*-1:h),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const DI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await II(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},AI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:x}=b;return{x:g,y:x}}},...c}=_n(e,t),u={x:r,y:n},f=await tl(t,c),d=rn(Fn(s)),m=Yh(d);let p=u[m],h=u[d];if(i){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",x=p+f[b],y=p-f[g];p=ap(x,p,y)}if(o){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",x=h+f[b],y=h-f[g];h=ap(x,h,y)}const v=l.fn({...t,[m]:p,[d]:h});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[d]:o}}}}}},RI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=_n(e,t),f={x:r,y:n},d=rn(s),m=Yh(d);let p=f[m],h=f[d];const v=_n(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=m==="y"?"height":"width",w=i.reference[m]-i.floating[y]+b.mainAxis,S=i.reference[m]+i.reference[y]-b.mainAxis;p<w?p=w:p>S&&(p=S)}if(u){var g,x;const y=m==="y"?"width":"height",w=["top","left"].includes(Fn(s)),S=i.reference[d]-i.floating[y]+(w&&((g=o.offset)==null?void 0:g[d])||0)+(w?0:b.crossAxis),j=i.reference[d]+i.reference[y]+(w?0:((x=o.offset)==null?void 0:x[d])||0)-(w?b.crossAxis:0);h<S?h=S:h>j&&(h=j)}return{[m]:p,[d]:h}}}},OI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=_n(e,t),f=await tl(t,u),d=Fn(s),m=Ha(s),p=rn(s)==="y",{width:h,height:v}=i.floating;let b,g;d==="top"||d==="bottom"?(b=d,g=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,b=m==="end"?"top":"bottom");const x=v-f.top-f.bottom,y=h-f.left-f.right,w=Is(v-f[b],x),S=Is(h-f[g],y),j=!t.middlewareData.shift;let C=w,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),j&&!m){const A=Qt(f.left,0),_=Qt(f.right,0),P=Qt(f.top,0),O=Qt(f.bottom,0);p?E=h-2*(A!==0||_!==0?A+_:Qt(f.left,f.right)):C=v-2*(P!==0||O!==0?P+O:Qt(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:C});const T=await o.getDimensions(l.floating);return h!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function qa(e){return q1(e)?(e.nodeName||"").toLowerCase():"#document"}function er(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gn(e){var t;return(t=(q1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q1(e){return fd()?e instanceof Node||e instanceof er(e).Node:!1}function Hr(e){return fd()?e instanceof Element||e instanceof er(e).Element:!1}function fn(e){return fd()?e instanceof HTMLElement||e instanceof er(e).HTMLElement:!1}function Ax(e){return!fd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof er(e).ShadowRoot}function kl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function _I(e){return["table","td","th"].includes(qa(e))}function md(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Jh(e){const t=eg(),r=Hr(e)?qr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function FI(e){let t=Ds(e);for(;fn(t)&&!Ta(t);){if(Jh(t))return t;if(md(t))return null;t=Ds(t)}return null}function eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ta(e){return["html","body","#document"].includes(qa(e))}function qr(e){return er(e).getComputedStyle(e)}function pd(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ds(e){if(qa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ax(e)&&e.host||gn(e);return Ax(t)?t.host:t}function V1(e){const t=Ds(e);return Ta(t)?e.ownerDocument?e.ownerDocument.body:e.body:fn(t)&&kl(t)?t:V1(t)}function rl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=V1(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=er(s);if(i){const l=lp(o);return t.concat(o,o.visualViewport||[],kl(s)?s:[],l&&r?rl(l):[])}return t.concat(s,rl(s,[],r))}function lp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function W1(e){const t=qr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=fn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Nu(r)!==i||Nu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function tg(e){return Hr(e)?e:e.contextElement}function ra(e){const t=tg(e);if(!fn(t))return on(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=W1(t);let o=(i?Nu(r.width):r.width)/n,l=(i?Nu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MI=on(0);function G1(e){const t=er(e);return!eg()||!t.visualViewport?MI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==er(e)?!1:t}function vi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=tg(e);let o=on(1);t&&(n?Hr(n)&&(o=ra(n)):o=ra(e));const l=LI(i,r,n)?G1(i):on(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const m=er(i),p=n&&Hr(n)?er(n):n;let h=m,v=lp(h);for(;v&&n&&p!==h;){const b=ra(v),g=v.getBoundingClientRect(),x=qr(v),y=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,w=g.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=y,u+=w,h=er(v),v=lp(h)}}return Cu({width:f,height:d,x:c,y:u})}function rg(e,t){const r=pd(e).scrollLeft;return t?t.left+r:vi(gn(e)).left+r}function K1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:rg(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function $I(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=gn(n),l=t?md(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=on(1);const f=on(0),d=fn(n);if((d||!d&&!i)&&((qa(n)!=="body"||kl(o))&&(c=pd(n)),fn(n))){const p=vi(n);u=ra(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=o&&!d&&!i?K1(o,c,!0):on(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function zI(e){return Array.from(e.getClientRects())}function BI(e){const t=gn(e),r=pd(e),n=e.ownerDocument.body,s=Qt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+rg(e);const l=-r.scrollTop;return qr(n).direction==="rtl"&&(o+=Qt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function UI(e,t){const r=er(e),n=gn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=eg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function HI(e,t){const r=vi(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=fn(e)?ra(e):on(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Rx(e,t,r){let n;if(t==="viewport")n=UI(e,r);else if(t==="document")n=BI(gn(e));else if(Hr(t))n=HI(t,r);else{const s=G1(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cu(n)}function Q1(e,t){const r=Ds(e);return r===t||!Hr(r)||Ta(r)?!1:qr(r).position==="fixed"||Q1(r,t)}function qI(e,t){const r=t.get(e);if(r)return r;let n=rl(e,[],!1).filter(l=>Hr(l)&&qa(l)!=="body"),s=null;const i=qr(e).position==="fixed";let o=i?Ds(e):e;for(;Hr(o)&&!Ta(o);){const l=qr(o),c=Jh(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||kl(o)&&!c&&Q1(e,o))?n=n.filter(f=>f!==o):s=l,o=Ds(o)}return t.set(e,n),n}function VI(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?md(t)?[]:qI(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=Rx(t,f,s);return u.top=Qt(d.top,u.top),u.right=Is(d.right,u.right),u.bottom=Is(d.bottom,u.bottom),u.left=Qt(d.left,u.left),u},Rx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function WI(e){const{width:t,height:r}=W1(e);return{width:t,height:r}}function GI(e,t,r){const n=fn(t),s=gn(t),i=r==="fixed",o=vi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function u(){c.x=rg(s)}if(n||!n&&!i)if((qa(t)!=="body"||kl(s))&&(l=pd(t)),n){const p=vi(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?K1(s,l):on(0),d=o.left+l.scrollLeft-c.x-f.x,m=o.top+l.scrollTop-c.y-f.y;return{x:d,y:m,width:o.width,height:o.height}}function Of(e){return qr(e).position==="static"}function Ox(e,t){if(!fn(e)||qr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gn(e)===r&&(r=r.ownerDocument.body),r}function Y1(e,t){const r=er(e);if(md(e))return r;if(!fn(e)){let s=Ds(e);for(;s&&!Ta(s);){if(Hr(s)&&!Of(s))return s;s=Ds(s)}return r}let n=Ox(e,t);for(;n&&_I(n)&&Of(n);)n=Ox(n,t);return n&&Ta(n)&&Of(n)&&!Jh(n)?r:n||FI(e)||r}const KI=async function(e){const t=this.getOffsetParent||Y1,r=this.getDimensions,n=await r(e.floating);return{reference:GI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QI(e){return qr(e).direction==="rtl"}const YI={convertOffsetParentRelativeRectToViewportRelativeRect:$I,getDocumentElement:gn,getClippingRect:VI,getOffsetParent:Y1,getElementRects:KI,getClientRects:zI,getDimensions:WI,getScale:ra,isElement:Hr,isRTL:QI};function Z1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZI(e,t){let r=null,n;const s=gn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:p}=u;if(l||t(),!m||!p)return;const h=xc(d),v=xc(s.clientWidth-(f+m)),b=xc(s.clientHeight-(d+p)),g=xc(f),y={rootMargin:-h+"px "+-v+"px "+-b+"px "+-g+"px",threshold:Qt(0,Is(1,c))||1};let w=!0;function S(j){const C=j[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Z1(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return o(!0),i}function XI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=tg(e),f=s||i?[...u?rl(u):[],...rl(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const d=u&&l?ZI(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let h,v=c?vi(e):null;c&&b();function b(){const g=vi(e);v&&!Z1(v,g)&&r(),v=g,h=requestAnimationFrame(b)}return r(),()=>{var g;f.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(h)}}const JI=DI,eD=AI,tD=kI,rD=OI,nD=TI,_x=PI,sD=RI,iD=(e,t,r)=>{const n=new Map,s={platform:YI,...r},i={...s.platform,_c:n};return EI(e,t,{...s,platform:i})};var aD=typeof document<"u",oD=function(){},qc=aD?k.useLayoutEffect:oD;function Eu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Eu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Eu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function X1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Fx(e,t){const r=X1(e);return Math.round(t*r)/r}function _f(e){const t=k.useRef(e);return qc(()=>{t.current=e}),t}function lD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=k.useState(n);Eu(m,n)||p(n);const[h,v]=k.useState(null),[b,g]=k.useState(null),x=k.useCallback(I=>{I!==j.current&&(j.current=I,v(I))},[]),y=k.useCallback(I=>{I!==C.current&&(C.current=I,g(I))},[]),w=i||h,S=o||b,j=k.useRef(null),C=k.useRef(null),E=k.useRef(f),T=c!=null,A=_f(c),_=_f(s),P=_f(u),O=k.useCallback(()=>{if(!j.current||!C.current)return;const I={placement:t,strategy:r,middleware:m};_.current&&(I.platform=_.current),iD(j.current,C.current,I).then(F=>{const z={...F,isPositioned:P.current!==!1};R.current&&!Eu(E.current,z)&&(E.current=z,ud.flushSync(()=>{d(z)}))})},[m,t,r,_,P]);qc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const R=k.useRef(!1);qc(()=>(R.current=!0,()=>{R.current=!1}),[]),qc(()=>{if(w&&(j.current=w),S&&(C.current=S),w&&S){if(A.current)return A.current(w,S,O);O()}},[w,S,O,A,T]);const $=k.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:y}),[x,y]),L=k.useMemo(()=>({reference:w,floating:S}),[w,S]),M=k.useMemo(()=>{const I={position:r,left:0,top:0};if(!L.floating)return I;const F=Fx(L.floating,f.x),z=Fx(L.floating,f.y);return l?{...I,transform:"translate("+F+"px, "+z+"px)",...X1(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,l,L.floating,f.x,f.y]);return k.useMemo(()=>({...f,update:O,refs:$,elements:L,floatingStyles:M}),[f,O,$,L,M])}const cD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?_x({element:n.current,padding:s}).fn(r):{}:n?_x({element:n,padding:s}).fn(r):{}}}},uD=(e,t)=>({...JI(e),options:[e,t]}),dD=(e,t)=>({...eD(e),options:[e,t]}),fD=(e,t)=>({...sD(e),options:[e,t]}),mD=(e,t)=>({...tD(e),options:[e,t]}),pD=(e,t)=>({...rD(e),options:[e,t]}),hD=(e,t)=>({...nD(e),options:[e,t]}),gD=(e,t)=>({...cD(e),options:[e,t]});var vD="Arrow",J1=k.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return le.jsx(Gr.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:le.jsx("polygon",{points:"0,0 30,0 15,10"})})});J1.displayName=vD;var xD=J1;function yD(e){const[t,r]=k.useState(void 0);return Ts(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ng="Popper",[eS,hd]=Kh(ng),[bD,tS]=eS(ng),rS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=k.useState(null);return le.jsx(bD,{scope:t,anchor:n,onAnchorChange:s,children:r})};rS.displayName=ng;var nS="PopperAnchor",sS=k.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=tS(nS,r),o=k.useRef(null),l=hn(t,o);return k.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:le.jsx(Gr.div,{...s,ref:l})});sS.displayName=nS;var sg="PopperContent",[wD,SD]=eS(sg),iS=k.forwardRef((e,t)=>{var H,se,xe,te,J,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:h,...v}=e,b=tS(sg,r),[g,x]=k.useState(null),y=hn(t,ie=>x(ie)),[w,S]=k.useState(null),j=yD(w),C=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,T=n+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],P=_.length>0,O={padding:A,boundary:_.filter(jD),altBoundary:P},{refs:R,floatingStyles:$,placement:L,isPositioned:M,middlewareData:I}=lD({strategy:"fixed",placement:T,whileElementsMounted:(...ie)=>XI(...ie,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[uD({mainAxis:s+E,alignmentAxis:o}),c&&dD({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?fD():void 0,...O}),c&&mD({...O}),pD({...O,apply:({elements:ie,rects:ge,availableWidth:Oe,availableHeight:Ue})=>{const{width:Ge,height:mt}=ge.reference,Le=ie.floating.style;Le.setProperty("--radix-popper-available-width",`${Oe}px`),Le.setProperty("--radix-popper-available-height",`${Ue}px`),Le.setProperty("--radix-popper-anchor-width",`${Ge}px`),Le.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),w&&gD({element:w,padding:l}),CD({arrowWidth:C,arrowHeight:E}),m&&hD({strategy:"referenceHidden",...O})]}),[F,z]=lS(L),K=ka(h);Ts(()=>{M&&(K==null||K())},[M,K]);const V=(H=I.arrow)==null?void 0:H.x,ee=(se=I.arrow)==null?void 0:se.y,Y=((xe=I.arrow)==null?void 0:xe.centerOffset)!==0,[fe,be]=k.useState();return Ts(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),le.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(te=I.transformOrigin)==null?void 0:te.x,(J=I.transformOrigin)==null?void 0:J.y].join(" "),...((W=I.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:le.jsx(wD,{scope:r,placedSide:F,onArrowChange:S,arrowX:V,arrowY:ee,shouldHideArrow:Y,children:le.jsx(Gr.div,{"data-side":F,"data-align":z,...v,ref:y,style:{...v.style,animation:M?void 0:"none"}})})})});iS.displayName=sg;var aS="PopperArrow",ND={top:"bottom",right:"left",bottom:"top",left:"right"},oS=k.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=SD(aS,n),o=ND[i.placedSide];return le.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:le.jsx(xD,{...s,ref:r,style:{...s.style,display:"block"}})})});oS.displayName=aS;function jD(e){return e!==null}var CD=e=>({name:"transformOrigin",options:e,fn(t){var b,g,x;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=lS(r),d={start:"0%",center:"50%",end:"100%"}[f],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let h="",v="";return u==="bottom"?(h=o?d:`${m}px`,v=`${-c}px`):u==="top"?(h=o?d:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(h=`${-c}px`,v=o?d:`${p}px`):u==="left"&&(h=`${n.floating.width+c}px`,v=o?d:`${p}px`),{data:{x:h,y:v}}}});function lS(e){const[t,r="center"]=e.split("-");return[t,r]}var ED=rS,ig=sS,cS=iS,uS=oS,PD="Portal",dS=k.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=k.useState(!1);Ts(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gh.createPortal(le.jsx(Gr.div,{...n,ref:t}),o):null});dS.displayName=PD;function kD(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var gd=e=>{const{present:t,children:r}=e,n=TD(t),s=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),i=hn(n.ref,ID(s));return typeof r=="function"||n.isPresent?k.cloneElement(s,{ref:i}):null};gd.displayName="Presence";function TD(e){const[t,r]=k.useState(),n=k.useRef(null),s=k.useRef(e),i=k.useRef("none"),o=e?"mounted":"unmounted",[l,c]=kD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const u=yc(n.current);i.current=l==="mounted"?u:"none"},[l]),Ts(()=>{const u=n.current,f=s.current;if(f!==e){const m=i.current,p=yc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ts(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const v=yc(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=p=>{p.target===t&&(i.current=yc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:k.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function yc(e){return(e==null?void 0:e.animationName)||"none"}function ID(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DD=Ob[" useInsertionEffect ".trim().toString()]||Ts;function AD({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=RD({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const f=k.useRef(e!==void 0);k.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=k.useCallback(f=>{var d;if(l){const m=OD(f)?f(e):f;m!==e&&((d=o.current)==null||d.call(o,m))}else i(f)},[l,e,i,o]);return[c,u]}function RD({defaultProp:e,onChange:t}){const[r,n]=k.useState(e),s=k.useRef(r),i=k.useRef(t);return DD(()=>{i.current=t},[t]),k.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function OD(e){return typeof e=="function"}var _D=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FD="VisuallyHidden",fS=k.forwardRef((e,t)=>le.jsx(Gr.span,{...e,ref:t,style:{..._D,...e.style}}));fS.displayName=FD;var MD=fS,[vd,h6]=Kh("Tooltip",[hd]),ag=hd(),mS="TooltipProvider",LD=700,Mx="tooltip.open",[$D,pS]=vd(mS),hS=e=>{const{__scopeTooltip:t,delayDuration:r=LD,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=k.useRef(!0),l=k.useRef(!1),c=k.useRef(0);return k.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),le.jsx($D,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:k.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:k.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};hS.displayName=mS;var gS="Tooltip",[g6,xd]=vd(gS),cp="TooltipTrigger",zD=k.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=xd(cp,r),i=pS(cp,r),o=ag(r),l=k.useRef(null),c=hn(t,l,s.onTriggerChange),u=k.useRef(!1),f=k.useRef(!1),d=k.useCallback(()=>u.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),le.jsx(ig,{asChild:!0,...o,children:le.jsx(Gr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ut(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ut(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ut(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ut(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ut(e.onBlur,s.onClose),onClick:Ut(e.onClick,s.onClose)})})});zD.displayName=cp;var BD="TooltipPortal",[v6,UD]=vd(BD,{forceMount:void 0}),Ia="TooltipContent",vS=k.forwardRef((e,t)=>{const r=UD(Ia,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=xd(Ia,e.__scopeTooltip);return le.jsx(gd,{present:n||o.open,children:o.disableHoverableContent?le.jsx(xS,{side:s,...i,ref:t}):le.jsx(HD,{side:s,...i,ref:t})})}),HD=k.forwardRef((e,t)=>{const r=xd(Ia,e.__scopeTooltip),n=pS(Ia,e.__scopeTooltip),s=k.useRef(null),i=hn(t,s),[o,l]=k.useState(null),{trigger:c,onClose:u}=r,f=s.current,{onPointerInTransitChange:d}=n,m=k.useCallback(()=>{l(null),d(!1)},[d]),p=k.useCallback((h,v)=>{const b=h.currentTarget,g={x:h.clientX,y:h.clientY},x=KD(g,b.getBoundingClientRect()),y=QD(g,x),w=YD(v.getBoundingClientRect()),S=XD([...y,...w]);l(S),d(!0)},[d]);return k.useEffect(()=>()=>m(),[m]),k.useEffect(()=>{if(c&&f){const h=b=>p(b,f),v=b=>p(b,c);return c.addEventListener("pointerleave",h),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",h),f.removeEventListener("pointerleave",v)}}},[c,f,p,m]),k.useEffect(()=>{if(o){const h=v=>{const b=v.target,g={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),y=!ZD(g,o);x?m():y&&(m(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[c,f,o,u,m]),le.jsx(xS,{...e,ref:i})}),[qD,VD]=vd(gS,{isInside:!1}),WD=tI("TooltipContent"),xS=k.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=xd(Ia,r),u=ag(r),{onClose:f}=c;return k.useEffect(()=>(document.addEventListener(Mx,f),()=>document.removeEventListener(Mx,f)),[f]),k.useEffect(()=>{if(c.trigger){const d=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),le.jsx(Qh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:le.jsxs(cS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[le.jsx(WD,{children:n}),le.jsx(qD,{scope:r,isInside:!0,children:le.jsx(MD,{id:c.contentId,role:"tooltip",children:s||n})})]})})});vS.displayName=Ia;var yS="TooltipArrow",GD=k.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ag(r);return VD(yS,r).isInside?null:le.jsx(uS,{...s,...n,ref:t})});GD.displayName=yS;function KD(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function QD(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function YD(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function ZD(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,d=c.x,m=c.y;f>n!=m>n&&r<(d-u)*(n-f)/(m-f)+u&&(s=!s)}return s}function XD(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),JD(t)}function JD(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var eA=hS,bS=vS;const tA=eA,rA=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(bS,{ref:n,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));rA.displayName=bS.displayName;var Va=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xi=typeof window>"u"||"Deno"in globalThis;function It(){}function nA(e,t){return typeof e=="function"?e(t):e}function up(e){return typeof e=="number"&&e>=0&&e!==1/0}function wS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ss(e,t){return typeof e=="function"?e(t):e}function Fr(e,t){return typeof e=="function"?e(t):e}function Lx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==og(o,t.options))return!1}else if(!nl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function $x(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(yi(t.options.mutationKey)!==yi(i))return!1}else if(!nl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function og(e,t){return((t==null?void 0:t.queryKeyHashFn)||yi)(e)}function yi(e){return JSON.stringify(e,(t,r)=>dp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nl(e[r],t[r])):!1}function SS(e,t){if(e===t)return e;const r=zx(e)&&zx(t);if(r||dp(e)&&dp(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const d=r?f:i[f];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=SS(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function Pu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function zx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dp(e){if(!Bx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Bx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bx(e){return Object.prototype.toString.call(e)==="[object Object]"}function sA(e){return new Promise(t=>{setTimeout(t,e)})}function fp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?SS(e,t):t}function iA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function aA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lg=Symbol();function NS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jS(e,t){return typeof e=="function"?e(...t):!!e}var Js,es,ia,u0,oA=(u0=class extends Va{constructor(){super();ae(this,Js);ae(this,es);ae(this,ia);Z(this,ia,t=>{if(!xi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){D(this,es)||this.setEventListener(D(this,ia))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,es))==null||t.call(this),Z(this,es,void 0))}setEventListener(t){var r;Z(this,ia,t),(r=D(this,es))==null||r.call(this),Z(this,es,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){D(this,Js)!==t&&(Z(this,Js,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof D(this,Js)=="boolean"?D(this,Js):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Js=new WeakMap,es=new WeakMap,ia=new WeakMap,u0),cg=new oA,aa,ts,oa,d0,lA=(d0=class extends Va{constructor(){super();ae(this,aa,!0);ae(this,ts);ae(this,oa);Z(this,oa,t=>{if(!xi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){D(this,ts)||this.setEventListener(D(this,oa))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ts))==null||t.call(this),Z(this,ts,void 0))}setEventListener(t){var r;Z(this,oa,t),(r=D(this,ts))==null||r.call(this),Z(this,ts,t(this.setOnline.bind(this)))}setOnline(t){D(this,aa)!==t&&(Z(this,aa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return D(this,aa)}},aa=new WeakMap,ts=new WeakMap,oa=new WeakMap,d0),ku=new lA;function mp(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function cA(e){return Math.min(1e3*2**e,3e4)}function CS(e){return(e??"online")==="online"?ku.isOnline():!0}var ES=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ff(e){return e instanceof ES}function PS(e){let t=!1,r=0,n=!1,s;const i=mp(),o=v=>{var b;n||(m(new ES(v)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>cg.isFocused()&&(e.networkMode==="always"||ku.isOnline())&&e.canRun(),f=()=>CS(e.networkMode)&&e.canRun(),d=v=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,v),s==null||s(),i.resolve(v))},m=v=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var b;s=g=>{(n||u())&&v(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),h=()=>{if(n)return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var j;if(n)return;const x=e.retry??(xi?0:3),y=e.retryDelay??cA,w=typeof y=="function"?y(r,g):y,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,g);if(t||!S){m(g);return}r++,(j=e.onFail)==null||j.call(e,r,g),sA(w).then(()=>u()?void 0:p()).then(()=>{t?m(g):h()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?h():p().then(h),i)}}var uA=e=>setTimeout(e,0);function dA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=uA;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var it=dA(),ei,f0,kS=(f0=class{constructor(){ae(this,ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),up(this.gcTime)&&Z(this,ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:5*60*1e3))}clearGcTimeout(){D(this,ei)&&(clearTimeout(D(this,ei)),Z(this,ei,void 0))}},ei=new WeakMap,f0),la,ca,cr,ti,St,gl,ri,Ar,wn,m0,fA=(m0=class extends kS{constructor(t){super();ae(this,Ar);ae(this,la);ae(this,ca);ae(this,cr);ae(this,ti);ae(this,St);ae(this,gl);ae(this,ri);Z(this,ri,!1),Z(this,gl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Z(this,ti,t.client),Z(this,cr,D(this,ti).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Z(this,la,mA(this.options)),this.state=t.state??D(this,la),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,St))==null?void 0:t.promise}setOptions(t){this.options={...D(this,gl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,cr).remove(this)}setData(t,r){const n=fp(this.state.data,t,this.options);return ye(this,Ar,wn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ye(this,Ar,wn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=D(this,St))==null?void 0:n.promise;return(s=D(this,St))==null||s.cancel(t),r?r.then(It).catch(It):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,la))}isActive(){return this.observers.some(t=>Fr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ss(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!wS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,St))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,St))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(D(this,St)&&(D(this,ri)?D(this,St).cancel({revert:!0}):D(this,St).cancelRetry()),this.scheduleGc()),D(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,Ar,wn).call(this,{type:"invalidate"})}fetch(t,r){var u,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,St))return D(this,St).continueRetry(),D(this,St).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Z(this,ri,!0),n.signal)})},i=()=>{const m=NS(this.options,r),h=(()=>{const v={client:D(this,ti),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return Z(this,ri,!1),this.options.persister?this.options.persister(m,h,this):m(h)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:D(this,ti),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),Z(this,ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ye(this,Ar,wn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=m=>{var p,h,v,b;Ff(m)&&m.silent||ye(this,Ar,wn).call(this,{type:"error",error:m}),Ff(m)||((h=(p=D(this,cr).config).onError)==null||h.call(p,m,this),(b=(v=D(this,cr).config).onSettled)==null||b.call(v,this.state.data,m,this)),this.scheduleGc()};return Z(this,St,PS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,h,v,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(g){c(g);return}(h=(p=D(this,cr).config).onSuccess)==null||h.call(p,m,this),(b=(v=D(this,cr).config).onSettled)==null||b.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{ye(this,Ar,wn).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{ye(this,Ar,wn).call(this,{type:"pause"})},onContinue:()=>{ye(this,Ar,wn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),D(this,St).start()}},la=new WeakMap,ca=new WeakMap,cr=new WeakMap,ti=new WeakMap,St=new WeakMap,gl=new WeakMap,ri=new WeakMap,Ar=new WeakSet,wn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TS(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ff(s)&&s.revert&&D(this,ca)?{...D(this,ca),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),it.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),D(this,cr).notify({query:this,type:"updated",action:t})})},m0);function TS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zr,p0,pA=(p0=class extends Va{constructor(t={}){super();ae(this,Zr);this.config=t,Z(this,Zr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??og(s,r);let o=this.get(i);return o||(o=new fA({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){D(this,Zr).has(t.queryHash)||(D(this,Zr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=D(this,Zr).get(t.queryHash);r&&(t.destroy(),r===t&&D(this,Zr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Zr).get(t)}getAll(){return[...D(this,Zr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Lx(t,n)):r}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zr=new WeakMap,p0),Xr,Pt,ni,Jr,Kn,h0,hA=(h0=class extends kS{constructor(t){super();ae(this,Jr);ae(this,Xr);ae(this,Pt);ae(this,ni);this.mutationId=t.mutationId,Z(this,Pt,t.mutationCache),Z(this,Xr,[]),this.state=t.state||IS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Xr).includes(t)||(D(this,Xr).push(t),this.clearGcTimeout(),D(this,Pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Z(this,Xr,D(this,Xr).filter(r=>r!==t)),this.scheduleGc(),D(this,Pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Xr).length||(this.state.status==="pending"?this.scheduleGc():D(this,Pt).remove(this))}continue(){var t;return((t=D(this,ni))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,f,d,m,p,h,v,b,g,x,y,w,S,j,C,E;const r=()=>{ye(this,Jr,Kn).call(this,{type:"continue"})};Z(this,ni,PS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,A)=>{ye(this,Jr,Kn).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{ye(this,Jr,Kn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Pt).canRun(this)}));const n=this.state.status==="pending",s=!D(this,ni).canStart();try{if(n)r();else{ye(this,Jr,Kn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=D(this,Pt).config).onMutate)==null?void 0:o.call(i,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&ye(this,Jr,Kn).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const T=await D(this,ni).start();return await((f=(u=D(this,Pt).config).onSuccess)==null?void 0:f.call(u,T,t,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,T,t,this.state.context)),await((h=(p=D(this,Pt).config).onSettled)==null?void 0:h.call(p,T,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context)),ye(this,Jr,Kn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(g=D(this,Pt).config).onError)==null?void 0:x.call(g,T,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,T,t,this.state.context)),await((j=(S=D(this,Pt).config).onSettled)==null?void 0:j.call(S,void 0,T,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,T,t,this.state.context)),T}finally{ye(this,Jr,Kn).call(this,{type:"error",error:T})}}finally{D(this,Pt).runNext(this)}}},Xr=new WeakMap,Pt=new WeakMap,ni=new WeakMap,Jr=new WeakSet,Kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),it.batch(()=>{D(this,Xr).forEach(n=>{n.onMutationUpdate(t)}),D(this,Pt).notify({mutation:this,type:"updated",action:t})})},h0);function IS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Rr,vl,g0,gA=(g0=class extends Va{constructor(t={}){super();ae(this,jn);ae(this,Rr);ae(this,vl);this.config=t,Z(this,jn,new Set),Z(this,Rr,new Map),Z(this,vl,0)}build(t,r,n){const s=new hA({mutationCache:this,mutationId:++Xl(this,vl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){D(this,jn).add(t);const r=bc(t);if(typeof r=="string"){const n=D(this,Rr).get(r);n?n.push(t):D(this,Rr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,jn).delete(t)){const r=bc(t);if(typeof r=="string"){const n=D(this,Rr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&D(this,Rr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=bc(t);if(typeof r=="string"){const n=D(this,Rr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=bc(t);if(typeof r=="string"){const s=(n=D(this,Rr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){it.batch(()=>{D(this,jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,jn).clear(),D(this,Rr).clear()})}getAll(){return Array.from(D(this,jn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$x(r,n))}findAll(t={}){return this.getAll().filter(r=>$x(t,r))}notify(t){it.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return it.batch(()=>Promise.all(t.map(r=>r.continue().catch(It))))}},jn=new WeakMap,Rr=new WeakMap,vl=new WeakMap,g0);function bc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ux(e){return{onFetch:(t,r)=>{var f,d,m,p,h;const n=t.options,s=(m=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=NS(t.options,t.fetchOptions),x=async(y,w,S)=>{if(v)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};return b(_),_})(),E=await g(C),{maxPages:T}=t.options,A=S?aA:iA;return{pages:A(y.pages,E,T),pageParams:A(y.pageParams,w,T)}};if(s&&i.length){const y=s==="backward",w=y?vA:Hx,S={pages:i,pageParams:o},j=w(n,S);l=await x(S,j,y)}else{const y=e??i.length;do{const w=c===0?o[0]??n.initialPageParam:Hx(n,l);if(c>0&&w==null)break;l=await x(l,w),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Hx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Je,rs,ns,ua,da,ss,fa,ma,v0,xA=(v0=class{constructor(e={}){ae(this,Je);ae(this,rs);ae(this,ns);ae(this,ua);ae(this,da);ae(this,ss);ae(this,fa);ae(this,ma);Z(this,Je,e.queryCache||new pA),Z(this,rs,e.mutationCache||new gA),Z(this,ns,e.defaultOptions||{}),Z(this,ua,new Map),Z(this,da,new Map),Z(this,ss,0)}mount(){Xl(this,ss)._++,D(this,ss)===1&&(Z(this,fa,cg.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Je).onFocus())})),Z(this,ma,ku.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Je).onOnline())})))}unmount(){var e,t;Xl(this,ss)._--,D(this,ss)===0&&((e=D(this,fa))==null||e.call(this),Z(this,fa,void 0),(t=D(this,ma))==null||t.call(this),Z(this,ma,void 0))}isFetching(e){return D(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,rs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,Je).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=D(this,Je).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ss(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return D(this,Je).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=D(this,Je).get(n.queryHash),i=s==null?void 0:s.state.data,o=nA(t,i);if(o!==void 0)return D(this,Je).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return it.batch(()=>D(this,Je).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,Je).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=D(this,Je);it.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=D(this,Je);return it.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=it.batch(()=>D(this,Je).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(It).catch(It)}invalidateQueries(e,t={}){return it.batch(()=>(D(this,Je).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=it.batch(()=>D(this,Je).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(It)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(It)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=D(this,Je).build(this,t);return r.isStaleByTime(Ss(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(It).catch(It)}fetchInfiniteQuery(e){return e.behavior=Ux(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(It).catch(It)}ensureInfiniteQueryData(e){return e.behavior=Ux(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ku.isOnline()?D(this,rs).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Je)}getMutationCache(){return D(this,rs)}getDefaultOptions(){return D(this,ns)}setDefaultOptions(e){Z(this,ns,e)}setQueryDefaults(e,t){D(this,ua).set(yi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,ua).values()],r={};return t.forEach(n=>{nl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){D(this,da).set(yi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,da).values()],r={};return t.forEach(n=>{nl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,ns).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=og(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,ns).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,Je).clear(),D(this,rs).clear()}},Je=new WeakMap,rs=new WeakMap,ns=new WeakMap,ua=new WeakMap,da=new WeakMap,ss=new WeakMap,fa=new WeakMap,ma=new WeakMap,v0),Mt,Ce,xl,kt,si,pa,is,as,yl,ha,ga,ii,ai,os,va,Ie,bo,pp,hp,gp,vp,xp,yp,bp,DS,x0,yA=(x0=class extends Va{constructor(t,r){super();ae(this,Ie);ae(this,Mt);ae(this,Ce);ae(this,xl);ae(this,kt);ae(this,si);ae(this,pa);ae(this,is);ae(this,as);ae(this,yl);ae(this,ha);ae(this,ga);ae(this,ii);ae(this,ai);ae(this,os);ae(this,va,new Set);this.options=r,Z(this,Mt,t),Z(this,as,null),Z(this,is,mp()),this.options.experimental_prefetchInRender||D(this,is).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Ce).addObserver(this),qx(D(this,Ce),this.options)?ye(this,Ie,bo).call(this):this.updateResult(),ye(this,Ie,vp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wp(D(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wp(D(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Ie,xp).call(this),ye(this,Ie,yp).call(this),D(this,Ce).removeObserver(this)}setOptions(t){const r=this.options,n=D(this,Ce);if(this.options=D(this,Mt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fr(this.options.enabled,D(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Ie,bp).call(this),D(this,Ce).setOptions(this.options),r._defaulted&&!Pu(this.options,r)&&D(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Ce),observer:this});const s=this.hasListeners();s&&Vx(D(this,Ce),n,this.options,r)&&ye(this,Ie,bo).call(this),this.updateResult(),s&&(D(this,Ce)!==n||Fr(this.options.enabled,D(this,Ce))!==Fr(r.enabled,D(this,Ce))||Ss(this.options.staleTime,D(this,Ce))!==Ss(r.staleTime,D(this,Ce)))&&ye(this,Ie,pp).call(this);const i=ye(this,Ie,hp).call(this);s&&(D(this,Ce)!==n||Fr(this.options.enabled,D(this,Ce))!==Fr(r.enabled,D(this,Ce))||i!==D(this,os))&&ye(this,Ie,gp).call(this,i)}getOptimisticResult(t){const r=D(this,Mt).getQueryCache().build(D(this,Mt),t),n=this.createResult(r,t);return wA(this,n)&&(Z(this,kt,n),Z(this,pa,this.options),Z(this,si,D(this,Ce).state)),n}getCurrentResult(){return D(this,kt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){D(this,va).add(t)}getCurrentQuery(){return D(this,Ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=D(this,Mt).defaultQueryOptions(t),n=D(this,Mt).getQueryCache().build(D(this,Mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ye(this,Ie,bo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,kt)))}createResult(t,r){var T;const n=D(this,Ce),s=this.options,i=D(this,kt),o=D(this,si),l=D(this,pa),u=t!==n?t.state:D(this,xl),{state:f}=t;let d={...f},m=!1,p;if(r._optimisticResults){const A=this.hasListeners(),_=!A&&qx(t,r),P=A&&Vx(t,n,r,s);(_||P)&&(d={...d,...TS(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:v,status:b}=d;p=d.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,g=!0):A=typeof r.placeholderData=="function"?r.placeholderData((T=D(this,ga))==null?void 0:T.state.data,D(this,ga)):r.placeholderData,A!==void 0&&(b="success",p=fp(i==null?void 0:i.data,A,r),m=!0)}if(r.select&&p!==void 0&&!g)if(i&&p===(o==null?void 0:o.data)&&r.select===D(this,yl))p=D(this,ha);else try{Z(this,yl,r.select),p=r.select(p),p=fp(i==null?void 0:i.data,p,r),Z(this,ha,p),Z(this,as,null)}catch(A){Z(this,as,A)}D(this,as)&&(h=D(this,as),p=D(this,ha),v=Date.now(),b="error");const x=d.fetchStatus==="fetching",y=b==="pending",w=b==="error",S=y&&x,j=p!==void 0,E={status:b,fetchStatus:d.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&j,isStale:ug(t,r),refetch:this.refetch,promise:D(this,is)};if(this.options.experimental_prefetchInRender){const A=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},_=()=>{const O=Z(this,is,E.promise=mp());A(O)},P=D(this,is);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&_();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&_();break}}return E}updateResult(){const t=D(this,kt),r=this.createResult(D(this,Ce),this.options);if(Z(this,si,D(this,Ce).state),Z(this,pa,this.options),D(this,si).data!==void 0&&Z(this,ga,D(this,Ce)),Pu(r,t))return;Z(this,kt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!D(this,va).size)return!0;const o=new Set(i??D(this,va));return this.options.throwOnError&&o.add("error"),Object.keys(D(this,kt)).some(l=>{const c=l;return D(this,kt)[c]!==t[c]&&o.has(c)})};ye(this,Ie,DS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Ie,vp).call(this)}},Mt=new WeakMap,Ce=new WeakMap,xl=new WeakMap,kt=new WeakMap,si=new WeakMap,pa=new WeakMap,is=new WeakMap,as=new WeakMap,yl=new WeakMap,ha=new WeakMap,ga=new WeakMap,ii=new WeakMap,ai=new WeakMap,os=new WeakMap,va=new WeakMap,Ie=new WeakSet,bo=function(t){ye(this,Ie,bp).call(this);let r=D(this,Ce).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(It)),r},pp=function(){ye(this,Ie,xp).call(this);const t=Ss(this.options.staleTime,D(this,Ce));if(xi||D(this,kt).isStale||!up(t))return;const n=wS(D(this,kt).dataUpdatedAt,t)+1;Z(this,ii,setTimeout(()=>{D(this,kt).isStale||this.updateResult()},n))},hp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Ce)):this.options.refetchInterval)??!1},gp=function(t){ye(this,Ie,yp).call(this),Z(this,os,t),!(xi||Fr(this.options.enabled,D(this,Ce))===!1||!up(D(this,os))||D(this,os)===0)&&Z(this,ai,setInterval(()=>{(this.options.refetchIntervalInBackground||cg.isFocused())&&ye(this,Ie,bo).call(this)},D(this,os)))},vp=function(){ye(this,Ie,pp).call(this),ye(this,Ie,gp).call(this,ye(this,Ie,hp).call(this))},xp=function(){D(this,ii)&&(clearTimeout(D(this,ii)),Z(this,ii,void 0))},yp=function(){D(this,ai)&&(clearInterval(D(this,ai)),Z(this,ai,void 0))},bp=function(){const t=D(this,Mt).getQueryCache().build(D(this,Mt),this.options);if(t===D(this,Ce))return;const r=D(this,Ce);Z(this,Ce,t),Z(this,xl,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},DS=function(t){it.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(D(this,kt))}),D(this,Mt).getQueryCache().notify({query:D(this,Ce),type:"observerResultsUpdated"})})},x0);function bA(e,t){return Fr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qx(e,t){return bA(e,t)||e.state.data!==void 0&&wp(e,t,t.refetchOnMount)}function wp(e,t,r){if(Fr(t.enabled,e)!==!1&&Ss(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ug(e,t)}return!1}function Vx(e,t,r,n){return(e!==t||Fr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ug(e,r)}function ug(e,t){return Fr(t.enabled,e)!==!1&&e.isStaleByTime(Ss(t.staleTime,e))}function wA(e,t){return!Pu(e.getCurrentResult(),t)}var ls,cs,Lt,Cn,In,Vc,Sp,y0,SA=(y0=class extends Va{constructor(r,n){super();ae(this,In);ae(this,ls);ae(this,cs);ae(this,Lt);ae(this,Cn);Z(this,ls,r),this.setOptions(n),this.bindMethods(),ye(this,In,Vc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=D(this,ls).defaultMutationOptions(r),Pu(this.options,n)||D(this,ls).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,Lt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&yi(n.mutationKey)!==yi(this.options.mutationKey)?this.reset():((s=D(this,Lt))==null?void 0:s.state.status)==="pending"&&D(this,Lt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=D(this,Lt))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,In,Vc).call(this),ye(this,In,Sp).call(this,r)}getCurrentResult(){return D(this,cs)}reset(){var r;(r=D(this,Lt))==null||r.removeObserver(this),Z(this,Lt,void 0),ye(this,In,Vc).call(this),ye(this,In,Sp).call(this)}mutate(r,n){var s;return Z(this,Cn,n),(s=D(this,Lt))==null||s.removeObserver(this),Z(this,Lt,D(this,ls).getMutationCache().build(D(this,ls),this.options)),D(this,Lt).addObserver(this),D(this,Lt).execute(r)}},ls=new WeakMap,cs=new WeakMap,Lt=new WeakMap,Cn=new WeakMap,In=new WeakSet,Vc=function(){var n;const r=((n=D(this,Lt))==null?void 0:n.state)??IS();Z(this,cs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Sp=function(r){it.batch(()=>{var n,s,i,o,l,c,u,f;if(D(this,Cn)&&this.hasListeners()){const d=D(this,cs).variables,m=D(this,cs).context;(r==null?void 0:r.type)==="success"?((s=(n=D(this,Cn)).onSuccess)==null||s.call(n,r.data,d,m),(o=(i=D(this,Cn)).onSettled)==null||o.call(i,r.data,null,d,m)):(r==null?void 0:r.type)==="error"&&((c=(l=D(this,Cn)).onError)==null||c.call(l,r.error,d,m),(f=(u=D(this,Cn)).onSettled)==null||f.call(u,void 0,r.error,d,m))}this.listeners.forEach(d=>{d(D(this,cs))})})},y0),AS=N.createContext(void 0),dg=e=>{const t=N.useContext(AS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},NA=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(AS.Provider,{value:e,children:t})),RS=N.createContext(!1),jA=()=>N.useContext(RS);RS.Provider;function CA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EA=N.createContext(CA()),PA=()=>N.useContext(EA),kA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},TA=e=>{N.useEffect(()=>{e.clearReset()},[e])},IA=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||jS(r,[e.error,n])),DA=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AA=(e,t)=>e.isLoading&&e.isFetching&&!t,RA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wx=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OA(e,t,r){var d,m,p,h,v;const n=jA(),s=PA(),i=dg(),o=i.defaultQueryOptions(e);(m=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||m.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",DA(o),kA(o,s),TA(s);const l=!i.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(b=>{const g=f?c.subscribe(it.batchCalls(b)):It;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o)},[o,c]),RA(o,u))throw Wx(o,c,s);if(IA({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((h=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,o,u),o.experimental_prefetchInRender&&!xi&&AA(u,n)){const b=l?Wx(o,c,s):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;b==null||b.catch(It).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function sl(e,t){return OA(e,yA)}function Mf(e,t){const r=dg(),[n]=N.useState(()=>new SA(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const s=N.useSyncExternalStore(N.useCallback(o=>n.subscribe(it.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((o,l)=>{n.mutate(o,l).catch(It)},[n]);if(s.error&&jS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Gx={it:{home:"Home",specialties:"Categorie",about:"Chi Siamo",menu:"Prodotti",gallery:"Galleria",reviews:"Recensioni",contact:"Contatti",discover:"Scopri",ourSpecialties:"Le Nostre Categorie",reservations:"Ordini",contactUs:"Contattaci",makeReservation:"Fai un Ordine",yourName:"Il Tuo Nome",phoneNumber:"Numero di Telefono",date:"Data",time:"Ora",numberOfGuests:"Quantità",specialRequests:"Richieste Speciali",requestReservation:"Invia Ordine",processingRequest:"Elaborazione...",findUs:"Trovaci",address:"Indirizzo",phone:"Telefono",email:"Email",hours:"Orari",ourMenu:"I Nostri Prodotti",menuDescription:"Esplora la nostra varietà di composizioni floreali e servizi",downloadMenu:"Scarica Catalogo",menuUnavailable:"Il catalogo PDF non è ancora disponibile",menuComingSoon:"Il nostro catalogo completo sarà presto disponibile",freshFlowers:"Fiori freschi per ogni occasione",indoorOutdoorPlants:"Piante da interno ed esterno per decorare con la natura",highQualityFakeFlowers:"Fiori finti di alta qualità, ideali per decorazioni durature",tailorMadeServices:"Servizi floreali su misura per cerimonie, eventi e ambienti",yearsExperience:"Anni di Esperienza",happyCustomers:"Clienti Felici",flowerVarieties:"Varietà di Fiori"},en:{home:"Home",specialties:"Categories",about:"About",menu:"Products",gallery:"Gallery",reviews:"Reviews",contact:"Contact",discover:"Discover",ourSpecialties:"Our Categories",reservations:"Orders",contactUs:"Contact Us",makeReservation:"Place an Order",yourName:"Your Name",phoneNumber:"Phone Number",date:"Date",time:"Time",numberOfGuests:"Quantity",specialRequests:"Special Requests",requestReservation:"Submit Order",processingRequest:"Processing...",findUs:"Find Us",address:"Address",phone:"Phone",email:"Email",hours:"Hours",ourMenu:"Our Products",menuDescription:"Explore our diverse selection of floral arrangements and services",downloadMenu:"Download Catalog",menuUnavailable:"Product catalog PDF is not available yet",menuComingSoon:"Our complete catalog will be available soon"},fr:{home:"Accueil",specialties:"Catégories",about:"À Propos",menu:"Produits",gallery:"Galerie",reviews:"Avis",contact:"Contact",discover:"Découvrir",ourSpecialties:"Nos Catégories",reservations:"Commandes",contactUs:"Nous Contacter",makeReservation:"Passer Commande",yourName:"Votre Nom",phoneNumber:"Numéro de Téléphone",date:"Date",time:"Heure",numberOfGuests:"Quantité",specialRequests:"Demandes Spéciales",requestReservation:"Envoyer Commande",processingRequest:"Traitement...",findUs:"Nous Trouver",address:"Adresse",phone:"Téléphone",email:"Email",hours:"Horaires",ourMenu:"Nos Produits",menuDescription:"Explorez notre sélection variée d'arrangements floraux et services",downloadMenu:"Télécharger Catalogue",menuUnavailable:"Le catalogue PDF n'est pas encore disponible",menuComingSoon:"Notre catalogue complet sera bientôt disponible"},ar:{home:"الرئيسية",specialties:"الفئات",about:"من نحن",menu:"المنتجات",gallery:"المعرض",reviews:"التقييمات",contact:"اتصل بنا",discover:"اكتشف",ourSpecialties:"فئاتنا",reservations:"الطلبات",contactUs:"اتصل بنا",makeReservation:"اطلب الآن",yourName:"اسمك",phoneNumber:"رقم الهاتف",date:"التاريخ",time:"الوقت",numberOfGuests:"الكمية",specialRequests:"طلبات خاصة",requestReservation:"إرسال الطلب",processingRequest:"جاري المعالجة...",findUs:"جدنا",address:"العنوان",phone:"الهاتف",email:"البريد الإلكتروني",hours:"ساعات العمل",ourMenu:"منتجاتنا",menuDescription:"استكشف مجموعتنا المتنوعة من التنسيقات الزهرية والخدمات",downloadMenu:"تحميل الكتالوج",menuUnavailable:"كتالوج المنتجات PDF غير متوفر بعد",menuComingSoon:"سيكون كتالوجنا الكامل متاحًا قريبًا"},fa:{home:"خانه",specialties:"دسته‌بندی‌ها",about:"درباره ما",menu:"محصولات",gallery:"گالری",reviews:"نظرات",contact:"تماس با ما",discover:"کشف کنید",ourSpecialties:"دسته‌بندی‌های ما",reservations:"سفارشات",contactUs:"با ما تماس بگیرید",makeReservation:"ثبت سفارش",yourName:"نام شما",phoneNumber:"شماره تلفن",date:"تاریخ",time:"زمان",numberOfGuests:"تعداد",specialRequests:"درخواست های خاص",requestReservation:"ارسال سفارش",processingRequest:"در حال پردازش...",findUs:"ما را پیدا کنید",address:"آدرس",phone:"تلفن",email:"ایمیل",hours:"ساعات کاری",ourMenu:"محصولات ما",menuDescription:"مجموعه متنوعی از تنظیمات گل و خدمات ما را کاوش کنید",downloadMenu:"دانلود کاتالوگ",menuUnavailable:"کاتالوگ محصولات PDF هنوز در دسترس نیست",menuComingSoon:"کاتالوگ کامل ما به زودی در دسترس خواهد بود"}},OS=N.createContext(void 0),_A=({children:e})=>{const[t,r]=N.useState("it");N.useEffect(()=>{const o=localStorage.getItem("flowerShopSettings");if(o)try{const l=JSON.parse(o);l.defaultLanguage&&r(l.defaultLanguage)}catch{console.error("Failed to parse settings for language")}else{const l={totalSeats:50,reservationDuration:120,openingTime:"08:00",closingTime:"19:00",languages:["it","en","fr","ar","fa"],defaultLanguage:"it"};localStorage.setItem("flowerShopSettings",JSON.stringify(l))}document.documentElement.lang=t,t==="ar"||t==="fa"?document.documentElement.dir="rtl":document.documentElement.dir="ltr"},[t]);const i={language:t,setLanguage:o=>{r(o);const l=localStorage.getItem("flowerShopSettings");if(l)try{const c=JSON.parse(l);c.defaultLanguage=o,localStorage.setItem("flowerShopSettings",JSON.stringify(c))}catch{console.error("Failed to update language setting")}},t:o=>Gx[t][o]||Gx.en[o]||o};return a.jsx(OS.Provider,{value:i,children:e})},_S=()=>{const e=N.useContext(OS);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},FA=Gu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?p2:"button";return a.jsx(o,{className:he(FA({variant:t,size:r,className:e})),ref:i,...s})});U.displayName="Button";let zt=class extends N.Component{constructor(){super(...arguments);ze(this,"state",{hasError:!1});ze(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error(`ErrorBoundary caught an error in ${this.props.componentName||"component"}:`,r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-red-50 border border-red-200 rounded-lg m-4",children:[a.jsx(lm,{className:"h-12 w-12 text-red-500 mb-4"}),a.jsxs("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:["Something went wrong in ",this.props.componentName||"this component"]}),a.jsx("p",{className:"text-red-600 text-center mb-4 max-w-md",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),this.state.error&&a.jsxs("details",{className:"mb-4 max-w-2xl",children:[a.jsx("summary",{className:"cursor-pointer text-red-700 font-medium",children:"Show Error Details"}),a.jsx("pre",{className:"mt-2 p-3 bg-red-100 rounded text-xs text-red-800 overflow-auto max-h-40",children:this.state.error.stack})]}),a.jsxs(U,{onClick:this.handleRetry,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[a.jsx(cn,{className:"h-4 w-4 mr-2"}),"Try Again"]})]}):this.props.children}};const ue=N.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ue.displayName="Card";const Ne=N.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...t}));Ne.displayName="CardHeader";const je=N.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const fg=N.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));fg.displayName="CardDescription";const de=N.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:he("p-6 pt-0",e),...t}));de.displayName="CardContent";const FS=N.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...t}));FS.displayName="CardFooter";const MA="https://despodpgvkszyexvcbft.supabase.co",LA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRlc3BvZHBndmtzenlleHZjYmZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNTcyMTAsImV4cCI6MjA2MzkzMzIxMH0.zyjFQA-Kr317M5l_6qjV_a-6ED2iU4wraRuYaa0iGEg",B=T2(MA,LA),bi=Object.freeze(Object.defineProperty({__proto__:null,supabase:B},Symbol.toStringTag,{value:"Module"})),$A=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),[s,i]=N.useState(!1),o=async()=>{i(!0),n([]);const c=[];c.push({name:"Environment Variables",status:"loading",message:"Checking environment configuration..."}),n([...c]);try{c[0]={name:"Environment Variables",status:"error",message:"Missing environment variables",details:"Supabase URL: ✗, Anon Key: ✗"}}catch(u){c[0]={name:"Environment Variables",status:"error",message:"Error checking environment variables",details:u instanceof Error?u.message:"Unknown error"}}n([...c]),c.push({name:"Supabase Connection",status:"loading",message:"Testing database connection..."}),n([...c]);try{const{error:u}=await B.from("settings").select("key").limit(1);c[1]={name:"Supabase Connection",status:u?"error":"success",message:u?"Database connection failed":"Database connection successful",details:u?u.message:"Connected to Supabase successfully"}}catch(u){c[1]={name:"Supabase Connection",status:"error",message:"Database connection error",details:u instanceof Error?u.message:"Unknown connection error"}}n([...c]),c.push({name:"Settings Table",status:"loading",message:"Checking settings table..."}),n([...c]);try{const{data:u,error:f}=await B.from("settings").select("*").limit(5);c[2]={name:"Settings Table",status:f?"error":"success",message:f?"Settings table access failed":`Settings table accessible (${(u==null?void 0:u.length)||0} records)`,details:f?f.message:`Found ${(u==null?void 0:u.length)||0} settings records`}}catch(u){c[2]={name:"Settings Table",status:"error",message:"Settings table error",details:u instanceof Error?u.message:"Unknown table error"}}n([...c]),c.push({name:"Logo Settings",status:"loading",message:"Checking logo configuration..."}),n([...c]);try{const f=!!localStorage.getItem("logoSettings");c[3]={name:"Logo Settings",status:f?"success":"error",message:f?"Logo settings found":"Logo settings missing",details:f?"Logo configuration available in localStorage":"No logo settings found"}}catch(u){c[3]={name:"Logo Settings",status:"error",message:"Logo settings error",details:u instanceof Error?u.message:"Unknown logo error"}}n([...c]),i(!1)},l=c=>{switch(c){case"loading":return a.jsx(we,{className:"h-4 w-4 animate-spin text-blue-500"});case"success":return a.jsx(gt,{className:"h-4 w-4 text-green-500"});case"error":return a.jsx(tb,{className:"h-4 w-4 text-red-500"})}};return e?a.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-96",children:a.jsxs(ue,{className:"bg-white/95 backdrop-blur-sm shadow-lg",children:[a.jsx(Ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"text-sm",children:"System Diagnostics"}),a.jsx(U,{onClick:()=>t(!1),variant:"ghost",size:"sm",children:a.jsx(Xc,{className:"h-4 w-4"})})]})}),a.jsxs(de,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(U,{onClick:o,disabled:s,className:"w-full",size:"sm",children:s?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Tests..."]}):"Run Diagnostics"}),a.jsx(U,{onClick:()=>{window.stripeConfigCache&&delete window.stripeConfigCache,localStorage.removeItem("stripeConfig"),window.location.reload()},variant:"outline",className:"w-full",size:"sm",children:"Clear Cache & Reload"})]}),r.length>0&&a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map((c,u)=>a.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-gray-50 rounded text-xs",children:[l(c.status),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-900",children:c.name}),a.jsx("div",{className:"text-gray-600",children:c.message}),c.details&&a.jsx("div",{className:"text-gray-500 mt-1",children:c.details})]})]},u))})]})]})}):a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsxs(U,{onClick:()=>t(!0),variant:"outline",size:"sm",className:"bg-white/90 backdrop-blur-sm",children:[a.jsx(Fo,{className:"h-4 w-4 mr-2"}),"Diagnostics"]})})},zA=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1);return N.useEffect(()=>{const i=setTimeout(async()=>{if(!(e||r)){n(!0);try{console.log("🚀 [BackgroundInitializer] Starting initialization...");const{settingsService:o}=await vr(async()=>{const{settingsService:m}=await Promise.resolve().then(()=>EN);return{settingsService:m}},void 0),{initializeDatabase:l}=await vr(async()=>{const{initializeDatabase:m}=await Promise.resolve().then(()=>K4);return{initializeDatabase:m}},void 0),c=l(),u=new Promise((m,p)=>{setTimeout(()=>p(new Error("Database initialization timeout")),15e3)});try{await Promise.race([c,u])||console.warn("⚠️ [BackgroundInitializer] Database initialization returned false, but continuing...")}catch(m){console.warn("⚠️ [BackgroundInitializer] Database initialization failed, but continuing:",m)}const f=o.initialize(),d=new Promise((m,p)=>{setTimeout(()=>p(new Error("Settings initialization timeout")),1e4)});try{await Promise.race([f,d]),console.log("✅ [BackgroundInitializer] Settings initialized successfully")}catch(m){console.warn("⚠️ [BackgroundInitializer] Settings initialization failed, but continuing:",m)}console.log("✅ [BackgroundInitializer] Initialization completed"),t(!0)}catch(o){console.error("❌ [BackgroundInitializer] Initialization failed:",o),t(!0)}finally{n(!1)}}},100);return()=>clearTimeout(i)},[e,r]),null};var Lf=0;function BA(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kx()),document.body.insertAdjacentElement("beforeend",e[1]??Kx()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lf--}},[])}function Kx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $f="focusScope.autoFocusOnMount",zf="focusScope.autoFocusOnUnmount",Qx={bubbles:!1,cancelable:!0},UA="FocusScope",MS=k.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=k.useState(null),u=ka(s),f=ka(i),d=k.useRef(null),m=hn(t,v=>c(v)),p=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let v=function(y){if(p.paused||!l)return;const w=y.target;l.contains(w)?d.current=w:Qn(d.current,{select:!0})},b=function(y){if(p.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Qn(d.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&Qn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,p.paused]),k.useEffect(()=>{if(l){Zx.add(p);const v=document.activeElement;if(!l.contains(v)){const g=new CustomEvent($f,Qx);l.addEventListener($f,u),l.dispatchEvent(g),g.defaultPrevented||(HA(KA(LS(l)),{select:!0}),document.activeElement===v&&Qn(l))}return()=>{l.removeEventListener($f,u),setTimeout(()=>{const g=new CustomEvent(zf,Qx);l.addEventListener(zf,f),l.dispatchEvent(g),g.defaultPrevented||Qn(v??document.body,{select:!0}),l.removeEventListener(zf,f),Zx.remove(p)},0)}}},[l,u,f,p]);const h=k.useCallback(v=>{if(!r&&!n||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(b&&g){const x=v.currentTarget,[y,w]=qA(x);y&&w?!v.shiftKey&&g===w?(v.preventDefault(),r&&Qn(y,{select:!0})):v.shiftKey&&g===y&&(v.preventDefault(),r&&Qn(w,{select:!0})):g===x&&v.preventDefault()}},[r,n,p.paused]);return le.jsx(Gr.div,{tabIndex:-1,...o,ref:m,onKeyDown:h})});MS.displayName=UA;function HA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qn(n,{select:t}),document.activeElement!==r)return}function qA(e){const t=LS(e),r=Yx(t,e),n=Yx(t.reverse(),e);return[r,n]}function LS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yx(e,t){for(const r of e)if(!VA(r,{upTo:t}))return r}function VA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WA(e){return e instanceof HTMLInputElement&&"select"in e}function Qn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&WA(e)&&t&&e.select()}}var Zx=GA();function GA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Xx(e,t),e.unshift(t)},remove(t){var r;e=Xx(e,t),(r=e[0])==null||r.resume()}}}function Xx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function KA(e){return e.filter(t=>t.tagName!=="A")}var QA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ri=new WeakMap,wc=new WeakMap,Sc={},Bf=0,$S=function(e){return e&&(e.host||$S(e.parentNode))},YA=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$S(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ZA=function(e,t,r,n){var s=YA(t,Array.isArray(e)?e:[e]);Sc[r]||(Sc[r]=new WeakMap);var i=Sc[r],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))f(m);else try{var p=m.getAttribute(n),h=p!==null&&p!=="false",v=(Ri.get(m)||0)+1,b=(i.get(m)||0)+1;Ri.set(m,v),i.set(m,b),o.push(m),v===1&&h&&wc.set(m,!0),b===1&&m.setAttribute(r,"true"),h||m.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",m,g)}})};return f(t),l.clear(),Bf++,function(){o.forEach(function(d){var m=Ri.get(d)-1,p=i.get(d)-1;Ri.set(d,m),i.set(d,p),m||(wc.has(d)||d.removeAttribute(n),wc.delete(d)),p||d.removeAttribute(r)}),Bf--,Bf||(Ri=new WeakMap,Ri=new WeakMap,wc=new WeakMap,Sc={})}},XA=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=QA(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),ZA(n,s,r,"aria-hidden")):function(){return null}},tn=function(){return tn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},tn.apply(this,arguments)};function zS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function JA(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Wc="right-scroll-bar-position",Gc="width-before-scroll-bar",eR="with-scroll-bars-hidden",tR="--removed-body-scroll-bar-size";function Uf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rR(e,t){var r=k.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var nR=typeof window<"u"?k.useLayoutEffect:k.useEffect,Jx=new WeakMap;function sR(e,t){var r=rR(null,function(n){return e.forEach(function(s){return Uf(s,n)})});return nR(function(){var n=Jx.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Uf(l,null)}),i.forEach(function(l){s.has(l)||Uf(l,o)})}Jx.set(r,e)},[e]),r}function iR(e){return e}function aR(e,t){t===void 0&&(t=iR);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function oR(e){e===void 0&&(e={});var t=aR(null);return t.options=tn({async:!0,ssr:!1},e),t}var BS=function(e){var t=e.sideCar,r=zS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,tn({},r))};BS.isSideCarExport=!0;function lR(e,t){return e.useMedium(t),BS}var US=oR(),Hf=function(){},yd=k.forwardRef(function(e,t){var r=k.useRef(null),n=k.useState({onScrollCapture:Hf,onWheelCapture:Hf,onTouchMoveCapture:Hf}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,p=e.noRelative,h=e.noIsolation,v=e.inert,b=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,y=e.gapMode,w=zS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,j=sR([r,t]),C=tn(tn({},w),s);return k.createElement(k.Fragment,null,f&&k.createElement(S,{sideCar:US,removeScrollBar:u,shards:d,noRelative:p,noIsolation:h,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:y}),o?k.cloneElement(k.Children.only(l),tn(tn({},C),{ref:j})):k.createElement(x,tn({},C,{className:c,ref:j}),l))});yd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yd.classNames={fullWidth:Gc,zeroRight:Wc};var cR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cR();return t&&e.setAttribute("nonce",t),e}function dR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mR=function(){var e=0,t=null;return{add:function(r){e==0&&(t=uR())&&(dR(t,r),fR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pR=function(){var e=mR();return function(t,r){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HS=function(){var e=pR(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},hR={left:0,top:0,right:0,gap:0},qf=function(e){return parseInt(e||"",10)||0},gR=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[qf(r),qf(n),qf(s)]},vR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hR;var t=gR(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},xR=HS(),na="data-scroll-locked",yR=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(eR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(na,`] {
    `).concat(tR,": ").concat(l,`px;
  }
`)},ey=function(){var e=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(e)?e:0},bR=function(){k.useEffect(function(){return document.body.setAttribute(na,(ey()+1).toString()),function(){var e=ey()-1;e<=0?document.body.removeAttribute(na):document.body.setAttribute(na,e.toString())}},[])},wR=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;bR();var i=k.useMemo(function(){return vR(s)},[s]);return k.createElement(xR,{styles:yR(i,!t,s,r?"":"!important")})},Np=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return Np=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{Np=!1}var Oi=Np?{passive:!1}:!1,SR=function(e){return e.tagName==="TEXTAREA"},qS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SR(e)&&r[t]==="visible")},NR=function(e){return qS(e,"overflowY")},jR=function(e){return qS(e,"overflowX")},ty=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=VS(e,n);if(s){var i=WS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CR=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ER=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VS=function(e,t){return e==="v"?NR(t):jR(t)},WS=function(e,t){return e==="v"?CR(t):ER(t)},PR=function(e,t){return e==="h"&&t==="rtl"?-1:1},kR=function(e,t,r,n,s){var i=PR(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,f=o>0,d=0,m=0;do{if(!l)break;var p=WS(e,l),h=p[0],v=p[1],b=p[2],g=v-b-i*h;(h||g)&&VS(e,l)&&(d+=g,m+=h);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(m)<1)&&(u=!0),u},jc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ry=function(e){return[e.deltaX,e.deltaY]},ny=function(e){return e&&"current"in e?e.current:e},TR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},IR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DR=0,_i=[];function AR(e){var t=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),s=k.useState(DR++)[0],i=k.useState(HS)[0],o=k.useRef(e);k.useEffect(function(){o.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=JA([e.lockRef.current],(e.shards||[]).map(ny),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=k.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=jc(v),x=r.current,y="deltaX"in v?v.deltaX:x[0]-g[0],w="deltaY"in v?v.deltaY:x[1]-g[1],S,j=v.target,C=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in v&&C==="h"&&j.type==="range")return!1;var E=ty(C,j);if(!E)return!0;if(E?S=C:(S=C==="v"?"h":"v",E=ty(C,j)),!E)return!1;if(!n.current&&"changedTouches"in v&&(y||w)&&(n.current=S),!S)return!0;var T=n.current||S;return kR(T,b,v,T==="h"?y:w)},[]),c=k.useCallback(function(v){var b=v;if(!(!_i.length||_i[_i.length-1]!==i)){var g="deltaY"in b?ry(b):jc(b),x=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&TR(S.delta,g)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(o.current.shards||[]).map(ny).filter(Boolean).filter(function(S){return S.contains(b.target)}),w=y.length>0?l(b,y[0]):!o.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),u=k.useCallback(function(v,b,g,x){var y={name:v,delta:b,target:g,should:x,shadowParent:RR(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),f=k.useCallback(function(v){r.current=jc(v),n.current=void 0},[]),d=k.useCallback(function(v){u(v.type,ry(v),v.target,l(v,e.lockRef.current))},[]),m=k.useCallback(function(v){u(v.type,jc(v),v.target,l(v,e.lockRef.current))},[]);k.useEffect(function(){return _i.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Oi),document.addEventListener("touchmove",c,Oi),document.addEventListener("touchstart",f,Oi),function(){_i=_i.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Oi),document.removeEventListener("touchmove",c,Oi),document.removeEventListener("touchstart",f,Oi)}},[]);var p=e.removeScrollBar,h=e.inert;return k.createElement(k.Fragment,null,h?k.createElement(i,{styles:IR(s)}):null,p?k.createElement(wR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const OR=lR(US,AR);var GS=k.forwardRef(function(e,t){return k.createElement(yd,tn({},e,{ref:t,sideCar:OR}))});GS.classNames=yd.classNames;var bd="Popover",[KS,b6]=Kh(bd,[hd]),Tl=hd(),[_R,$s]=KS(bd),QS=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Tl(t),c=k.useRef(null),[u,f]=k.useState(!1),[d,m]=AD({prop:n,defaultProp:s??!1,onChange:i,caller:bd});return le.jsx(ED,{...l,children:le.jsx(_R,{scope:t,contentId:vI(),triggerRef:c,open:d,onOpenChange:m,onOpenToggle:k.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:k.useCallback(()=>f(!0),[]),onCustomAnchorRemove:k.useCallback(()=>f(!1),[]),modal:o,children:r})})};QS.displayName=bd;var YS="PopoverAnchor",FR=k.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=$s(YS,r),i=Tl(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return k.useEffect(()=>(o(),()=>l()),[o,l]),le.jsx(ig,{...i,...n,ref:t})});FR.displayName=YS;var ZS="PopoverTrigger",XS=k.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=$s(ZS,r),i=Tl(r),o=hn(t,s.triggerRef),l=le.jsx(Gr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nN(s.open),...n,ref:o,onClick:Ut(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:le.jsx(ig,{asChild:!0,...i,children:l})});XS.displayName=ZS;var mg="PopoverPortal",[MR,LR]=KS(mg,{forceMount:void 0}),JS=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=$s(mg,t);return le.jsx(MR,{scope:t,forceMount:r,children:le.jsx(gd,{present:r||i.open,children:le.jsx(dS,{asChild:!0,container:s,children:n})})})};JS.displayName=mg;var Da="PopoverContent",eN=k.forwardRef((e,t)=>{const r=LR(Da,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=$s(Da,e.__scopePopover);return le.jsx(gd,{present:n||i.open,children:i.modal?le.jsx(zR,{...s,ref:t}):le.jsx(BR,{...s,ref:t})})});eN.displayName=Da;var $R=$1("PopoverContent.RemoveScroll"),zR=k.forwardRef((e,t)=>{const r=$s(Da,e.__scopePopover),n=k.useRef(null),s=hn(t,n),i=k.useRef(!1);return k.useEffect(()=>{const o=n.current;if(o)return XA(o)},[]),le.jsx(GS,{as:$R,allowPinchZoom:!0,children:le.jsx(tN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ut(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ut(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),BR=k.forwardRef((e,t)=>{const r=$s(Da,e.__scopePopover),n=k.useRef(!1),s=k.useRef(!1);return le.jsx(tN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tN=k.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...d}=e,m=$s(Da,r),p=Tl(r);return BA(),le.jsx(MS,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:le.jsx(Qh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:le.jsx(cS,{"data-state":nN(m.open),role:"dialog",id:m.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rN="PopoverClose",UR=k.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=$s(rN,r);return le.jsx(Gr.button,{type:"button",...n,ref:t,onClick:Ut(e.onClick,()=>s.onOpenChange(!1))})});UR.displayName=rN;var HR="PopoverArrow",qR=k.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Tl(r);return le.jsx(uS,{...s,...n,ref:t})});qR.displayName=HR;function nN(e){return e?"open":"closed"}var VR=QS,WR=XS,GR=JS,sN=eN;const iN=VR,aN=WR,pg=N.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(GR,{children:a.jsx(sN,{ref:s,align:t,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));pg.displayName=sN.displayName;const KR=()=>{const[e,t]=N.useState("it"),[r,n]=N.useState(!1),s=i=>{t(i)};return a.jsxs(iN,{open:r,onOpenChange:n,children:[a.jsx(aN,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:"bg-white/90 border-gray-300 text-gray-700 hover:bg-gray-50 px-3 flex gap-2 shadow-sm",children:[a.jsx(aE,{size:14,className:"text-gray-600"}),a.jsx("span",{className:"font-medium",children:e.toUpperCase()})]})}),a.jsx(pg,{className:"w-40 p-0 bg-white border border-gray-200 shadow-lg",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx(U,{variant:e==="it"?"default":"ghost",onClick:()=>{s("it"),n(!1)},className:`rounded-none justify-start text-sm ${e==="it"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"🇮🇹 Italiano"}),a.jsx(U,{variant:e==="en"?"default":"ghost",onClick:()=>{s("en"),n(!1)},className:`rounded-none justify-start text-sm ${e==="en"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"🇬🇧 English"}),a.jsx(U,{variant:e==="fr"?"default":"ghost",onClick:()=>{s("fr"),n(!1)},className:`rounded-none justify-start text-sm ${e==="fr"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"🇫🇷 Français"}),a.jsx(U,{variant:e==="ar"?"default":"ghost",onClick:()=>{s("ar"),n(!1)},className:`rounded-none justify-start text-sm ${e==="ar"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"🇸🇦 العربية"}),a.jsx(U,{variant:e==="fa"?"default":"ghost",onClick:()=>{s("fa"),n(!1)},className:`rounded-none justify-start text-sm ${e==="fa"?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"🇮🇷 فارسی"})]})})]})},Il=()=>{const e={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},[t,r]=N.useState(!1),[n,s]=N.useState(!1),i=o=>({home:"Home",specialties:"Categorie",menu:"Prodotti",gallery:"Galleria",about:"Chi Siamo",makeReservation:"Fai un Ordine"})[o]||o;return a.jsx("header",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-md shadow-sm border-b border-peach-100 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-8 animate-fade-in-left",children:[a.jsxs("div",{className:"flex items-center space-x-3 logo-container hover-scale",children:[!t&&!n&&a.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-peach-100 to-coral-100 rounded animate-pulse flex items-center justify-center",children:a.jsx(Qs,{className:"text-peach-400 animate-bounce",size:20})}),!n&&a.jsx("img",{src:e.logoUrl,alt:e.altText,className:`h-12 w-auto logo-smooth-load animate-scale-in hover-glow transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onLoad:o=>{console.log("✅ [Header] Logo loaded successfully"),o.currentTarget.classList.add("loaded"),r(!0)},onError:o=>{console.error("❌ [Header] Logo failed to load:",e.logoUrl),s(!0)}}),n&&a.jsx("div",{className:"h-12 flex items-center px-3 bg-gradient-to-r from-peach-500 to-coral-500 text-white rounded-lg font-bold text-sm",children:"Francesco Fiori"})]}),a.jsxs("nav",{className:"hidden md:flex space-x-8",children:[a.jsxs("a",{href:"/",className:"text-gray-700 hover:text-peach-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-1 hover-scale",children:[i("home"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-peach-500 to-coral-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#categories",className:"text-gray-700 hover:text-coral-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-2 hover-scale",children:[i("specialties"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-coral-500 to-peach-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs(lv,{to:"/menu",className:"text-gray-700 hover:text-emerald-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-3 hover-scale",children:[i("menu"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-emerald-600 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#gallery",className:"text-gray-700 hover:text-amber-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-4 hover-scale",children:[i("gallery"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-amber-500 to-amber-600 transition-all duration-300 group-hover:w-full animate-shimmer"})]}),a.jsxs("a",{href:"/#about",className:"text-gray-700 hover:text-peach-500 transition-colors font-medium font-inter relative group animate-fade-in-up animate-stagger-5 hover-scale",children:[i("about"),a.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-peach-500 to-coral-500 transition-all duration-300 group-hover:w-full animate-shimmer"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 animate-fade-in-right",children:[a.jsx("div",{className:"animate-scale-in animate-stagger-1",children:a.jsx(KR,{})}),a.jsxs(lv,{to:"/order",className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-peach-500 to-coral-500 text-white rounded-full hover:from-peach-600 hover:to-coral-600 transition-all duration-300 shadow-md hover:shadow-lg font-medium hover-lift animate-pulse-glow animate-scale-in animate-stagger-2",children:[a.jsx(Es,{size:16,className:"animate-wiggle"}),i("makeReservation")]}),a.jsxs("button",{className:"relative p-3 text-gray-700 hover:text-peach-600 transition-colors bg-gradient-to-br from-peach-50 to-amber-50 hover:from-peach-100 hover:to-amber-100 rounded-full group shadow-md hover:shadow-lg hover-lift animate-bounce-gentle animate-scale-in animate-stagger-3",children:[a.jsx(di,{size:20,className:"group-hover:animate-wiggle"}),a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-coral-500 to-peach-500 text-white text-xs rounded-full flex items-center justify-center font-inter font-semibold shadow-md animate-heartbeat",children:"0"}),a.jsx(Qs,{className:"absolute -bottom-1 -right-1 text-amber-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-bounce animate-float",size:12})]})]})]})})})},QR=()=>{const[e,t]=N.useState({heading:"Francesco Fiori & Piante",subheading:"Creazioni floreali uniche per ogni occasione speciale",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),[r,n]=N.useState({logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"}),[s,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!0);return N.useEffect(()=>{const d=setTimeout(async()=>{try{const{settingsService:m}=await vr(async()=>{const{settingsService:S}=await Promise.resolve().then(()=>EN);return{settingsService:S}},void 0),p=m.initialize(),h=new Promise((S,j)=>{setTimeout(()=>j(new Error("Settings init timeout")),5e3)});await Promise.race([p,h]);const v=m.getSetting("heroContent",e),b=new Promise((S,j)=>{setTimeout(()=>j(new Error("Hero content timeout")),3e3)}),g=await Promise.race([v,b]);t(g);const x=m.getSetting("logoSettings",r),y=new Promise((S,j)=>{setTimeout(()=>j(new Error("Logo settings timeout")),3e3)}),w=await Promise.race([x,y]);n(w),console.log("✅ [Hero] Content loaded successfully")}catch(m){console.warn("⚠️ [Hero] Failed to load content, using defaults:",m)}finally{u(!1)}},500);return()=>clearTimeout(d)},[]),a.jsx("section",{className:"relative min-h-screen bg-gradient-to-br from-peach-50 via-white to-amber-50 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4 pt-32 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-[80vh]",children:[a.jsx("div",{className:"text-center lg:text-left space-y-8 animate-fade-in-left",children:a.jsx("div",{className:"flex justify-center lg:justify-start mb-8",children:a.jsxs("div",{className:"relative",children:[!o&&a.jsx("div",{className:"h-96 md:h-[480px] w-96 bg-gradient-to-br from-peach-100 to-coral-100 rounded-3xl animate-pulse flex items-center justify-center",children:a.jsx(Qs,{className:"text-peach-300 animate-float",size:64})}),r.logoUrl&&a.jsx("img",{src:r.logoUrl,alt:r.altText,className:`h-96 md:h-[480px] w-auto object-contain drop-shadow-2xl transition-all duration-700 hover-scale animate-scale-in ${o?"opacity-100":"opacity-0"}`,onLoad:()=>{console.log("✅ [Hero] Large logo loaded successfully"),l(!0)},onError:f=>{console.error("❌ [Hero] Large logo failed to load:",r.logoUrl),l(!0)}}),a.jsxs("div",{className:"hidden text-center",children:[a.jsx(Qs,{className:"h-24 w-24 text-peach-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 font-playfair",children:"Francesco Fiori & Piante"})]})]})})}),a.jsx("div",{className:"relative animate-fade-in-right animate-stagger-1",children:a.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl bg-gradient-to-br from-white via-peach-50 to-amber-50 p-8 hover-lift",children:[!s&&a.jsx("div",{className:"absolute inset-8 rounded-2xl bg-gradient-to-br from-peach-100 to-coral-100 animate-pulse flex items-center justify-center",children:a.jsx(Qs,{className:"text-peach-300 animate-float",size:64})}),a.jsx("img",{src:e.backgroundImage,alt:"Beautiful flower arrangement",className:`w-full h-96 md:h-[500px] object-cover rounded-2xl transition-opacity duration-700 hover-scale ${s?"opacity-100":"opacity-0"}`,onLoad:()=>{i(!0)},onError:f=>{console.error(`❌ Hero image failed to load: ${f.currentTarget.src}`);const d="https://images.unsplash.com/photo-1486718448742-163732cd1544?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80";f.currentTarget.src!==d?f.currentTarget.src=d:i(!1)}}),a.jsx("div",{className:"absolute inset-8 rounded-2xl bg-gradient-to-t from-black/20 via-transparent to-transparent"})]})})]}),a.jsxs("div",{className:"text-center space-y-8 animate-fade-in-up animate-stagger-2 mt-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-playfair font-bold text-gray-800 leading-tight animate-scale-in",children:a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-peach-500 via-coral-500 to-peach-600 animate-shimmer",children:e.heading})}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-600 font-inter font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-up animate-stagger-1",children:e.subheading})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center pt-4 animate-fade-in-up animate-stagger-2",children:[a.jsx("button",{className:"group bg-gradient-to-r from-peach-500 via-coral-500 to-peach-600 text-white px-10 py-4 rounded-full font-semibold font-inter hover:from-peach-600 hover:via-coral-600 hover:to-peach-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl hover-lift animate-pulse-glow",children:a.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Shop Flowers"}),a.jsx(Qs,{className:"group-hover:animate-bloom",size:18})]})}),a.jsx("button",{className:"group bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-10 py-4 rounded-full font-semibold font-inter hover:from-emerald-600 hover:to-emerald-700 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl hover-lift animate-bounce-gentle",children:a.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Browse Plants"}),a.jsx(Qs,{className:"group-hover:animate-bloom",size:18})]})})]})]})]})})};function YR(e){return Object.prototype.toString.call(e)==="[object Object]"}function sy(e){return YR(e)||Array.isArray(e)}function ZR(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function hg(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!sy(l)||!sy(c)?l===c:hg(l,c)})}function iy(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function XR(e,t){if(e.length!==t.length)return!1;const r=iy(e),n=iy(t);return r.every((s,i)=>{const o=n[i];return hg(s,o)})}function gg(e){return typeof e=="number"}function jp(e){return typeof e=="string"}function wd(e){return typeof e=="boolean"}function ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ye(e){return Math.abs(e)}function vg(e){return Math.sign(e)}function Ro(e,t){return Ye(e-t)}function JR(e,t){if(e===0||t===0||Ye(e)<=Ye(t))return 0;const r=Ro(Ye(e),Ye(t));return Ye(r/e)}function e4(e){return Math.round(e*100)/100}function il(e){return al(e).map(Number)}function Br(e){return e[Dl(e)]}function Dl(e){return Math.max(0,e.length-1)}function xg(e,t){return t===Dl(e)}function oy(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function al(e){return Object.keys(e)}function oN(e,t){return[e,t].reduce((r,n)=>(al(n).forEach(s=>{const i=r[s],o=n[s],l=ay(i)&&ay(o);r[s]=l?oN(i,o):o}),r),{})}function Cp(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function t4(e,t){const r={start:n,center:s,end:i};function n(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,u){return jp(e)?r[e](c):e(t,c,u)}return{measure:o}}function ol(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const u=s;u.addListener(o),c=()=>u.removeListener(o)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function r4(e,t,r,n){const s=ol(),i=1e3/60;let o=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&h()})}function f(){p(),s.clear()}function d(b){if(!c)return;o||(o=b,r(),r());const g=b-o;for(o=b,l+=g;l>=i;)r(),l-=i;const x=l/i;n(x),c&&(c=t.requestAnimationFrame(d))}function m(){c||(c=t.requestAnimationFrame(d))}function p(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function h(){o=null,l=0}return{init:u,destroy:f,start:m,stop:p,update:r,render:n}}function n4(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",i=n?"x":"y",o=!n&&r?-1:1,l=f(),c=d();function u(h){const{height:v,width:b}=h;return n?v:b}function f(){return n?"top":r?"right":"left"}function d(){return n?"bottom":r?"left":"right"}function m(h){return h*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:m}}function wi(e=0,t=0){const r=Ye(e-t);function n(u){return u<e}function s(u){return u>t}function i(u){return n(u)||s(u)}function o(u){return i(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:n,removeOffset:l}}function lN(e,t,r){const{constrain:n}=wi(0,e),s=e+1;let i=o(t);function o(m){return r?Ye((s+m)%s):n(m)}function l(){return i}function c(m){return i=o(m),d}function u(m){return f().set(l()+m)}function f(){return lN(e,l(),r)}const d={get:l,set:c,add:u,clone:f};return d}function s4(e,t,r,n,s,i,o,l,c,u,f,d,m,p,h,v,b,g,x){const{cross:y,direction:w}=e,S=["INPUT","SELECT","TEXTAREA"],j={passive:!1},C=ol(),E=ol(),T=wi(50,225).constrain(p.measure(20)),A={mouse:300,touch:400},_={mouse:500,touch:600},P=h?43:25;let O=!1,R=0,$=0,L=!1,M=!1,I=!1,F=!1;function z(W){if(!x)return;function ie(Oe){(wd(x)||x(W,Oe))&&be(Oe)}const ge=t;C.add(ge,"dragstart",Oe=>Oe.preventDefault(),j).add(ge,"touchmove",()=>{},j).add(ge,"touchend",()=>{}).add(ge,"touchstart",ie).add(ge,"mousedown",ie).add(ge,"touchcancel",se).add(ge,"contextmenu",se).add(ge,"click",xe,!0)}function K(){C.clear(),E.clear()}function V(){const W=F?r:t;E.add(W,"touchmove",H,j).add(W,"touchend",se).add(W,"mousemove",H,j).add(W,"mouseup",se)}function ee(W){const ie=W.nodeName||"";return S.includes(ie)}function Y(){return(h?_:A)[F?"mouse":"touch"]}function fe(W,ie){const ge=d.add(vg(W)*-1),Oe=f.byDistance(W,!h).distance;return h||Ye(W)<T?Oe:b&&ie?Oe*.5:f.byIndex(ge.get(),0).distance}function be(W){const ie=Cp(W,n);F=ie,I=h&&ie&&!W.buttons&&O,O=Ro(s.get(),o.get())>=2,!(ie&&W.button!==0)&&(ee(W.target)||(L=!0,i.pointerDown(W),u.useFriction(0).useDuration(0),s.set(o),V(),R=i.readPoint(W),$=i.readPoint(W,y),m.emit("pointerDown")))}function H(W){if(!Cp(W,n)&&W.touches.length>=2)return se(W);const ge=i.readPoint(W),Oe=i.readPoint(W,y),Ue=Ro(ge,R),Ge=Ro(Oe,$);if(!M&&!F&&(!W.cancelable||(M=Ue>Ge,!M)))return se(W);const mt=i.pointerMove(W);Ue>v&&(I=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(w(mt)),W.preventDefault()}function se(W){const ge=f.byDistance(0,!1).index!==d.get(),Oe=i.pointerUp(W)*Y(),Ue=fe(w(Oe),ge),Ge=JR(Oe,Ue),mt=P-10*Ge,Le=g+Ge/50;M=!1,L=!1,E.clear(),u.useDuration(mt).useFriction(Le),c.distance(Ue,!h),F=!1,m.emit("pointerUp")}function xe(W){I&&(W.stopPropagation(),W.preventDefault(),I=!1)}function te(){return L}return{init:z,destroy:K,pointerDown:te}}function i4(e,t){let n,s;function i(d){return d.timeStamp}function o(d,m){const h=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(Cp(d,t)?d:d.touches[0])[h]}function l(d){return n=d,s=d,o(d)}function c(d){const m=o(d)-o(s),p=i(d)-i(n)>170;return s=d,p&&(n=d),m}function u(d){if(!n||!s)return 0;const m=o(s)-o(n),p=i(d)-i(n),h=i(d)-i(s)>170,v=m/p;return p&&!h&&Ye(v)>.1?v:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function a4(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:n,right:s+i,bottom:n+o,left:s,width:i,height:o}}return{measure:e}}function o4(e){function t(n){return e*(n/100)}return{measure:t}}function l4(e,t,r,n,s,i,o){const l=[e].concat(n);let c,u,f=[],d=!1;function m(b){return s.measureSize(o.measure(b))}function p(b){if(!i)return;u=m(e),f=n.map(m);function g(x){for(const y of x){if(d)return;const w=y.target===e,S=n.indexOf(y.target),j=w?u:f[S],C=m(w?e:n[S]);if(Ye(C-j)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(x=>{(wd(i)||i(b,x))&&g(x)}),r.requestAnimationFrame(()=>{l.forEach(x=>c.observe(x))})}function h(){d=!0,c&&c.disconnect()}return{init:p,destroy:h}}function c4(e,t,r,n,s,i){let o=0,l=0,c=s,u=i,f=e.get(),d=0;function m(){const j=n.get()-e.get(),C=!c;let E=0;return C?(o=0,r.set(n),e.set(n),E=j):(r.set(e),o+=j/c,o*=u,f+=o,e.add(o),E=f-d),l=vg(E),d=f,S}function p(){const j=n.get()-t.get();return Ye(j)<.001}function h(){return c}function v(){return l}function b(){return o}function g(){return y(s)}function x(){return w(i)}function y(j){return c=j,S}function w(j){return u=j,S}const S={direction:v,duration:h,velocity:b,seek:m,settled:p,useBaseFriction:x,useBaseDuration:g,useFriction:w,useDuration:y};return S}function u4(e,t,r,n,s){const i=s.measure(10),o=s.measure(50),l=wi(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function f(p){if(!u())return;const h=e.reachedMin(t.get())?"min":"max",v=Ye(e[h]-t.get()),b=r.get()-t.get(),g=l.constrain(v/o);r.subtract(b*g),!p&&Ye(b)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function d(p){c=!p}return{shouldConstrain:u,constrain:f,toggleActive:d}}function d4(e,t,r,n,s){const i=wi(-t+e,0),o=d(),l=f(),c=m();function u(h,v){return Ro(h,v)<=1}function f(){const h=o[0],v=Br(o),b=o.lastIndexOf(h),g=o.indexOf(v)+1;return wi(b,g)}function d(){return r.map((h,v)=>{const{min:b,max:g}=i,x=i.constrain(h),y=!v,w=xg(r,v);return y?g:w||u(b,x)?b:u(g,x)?g:x}).map(h=>parseFloat(h.toFixed(3)))}function m(){if(t<=e+s)return[i.max];if(n==="keepSnaps")return o;const{min:h,max:v}=l;return o.slice(h,v)}return{snapsContained:c,scrollContainLimit:l}}function f4(e,t,r){const n=t[0],s=r?n-e:Br(t);return{limit:wi(s,n)}}function m4(e,t,r,n){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=wi(i,o);function u(m){return m===1?c(r.get()):m===-1?l(r.get()):!1}function f(m){if(!u(m))return;const p=e*(m*-1);n.forEach(h=>h.add(p))}return{loop:f}}function p4(e){const{max:t,length:r}=e;function n(i){const o=i-t;return r?o/-r:0}return{get:n}}function h4(e,t,r,n,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=d().map(t.measure),u=m(),f=p();function d(){return l(n).map(v=>Br(v)[o]-v[0][i]).map(Ye)}function m(){return n.map(v=>r[i]-v[i]).map(v=>-Ye(v))}function p(){return l(u).map(v=>v[0]).map((v,b)=>v+c[b])}return{snaps:u,snapsAligned:f}}function g4(e,t,r,n,s,i){const{groupSlides:o}=s,{min:l,max:c}=n,u=f();function f(){const m=o(i),p=!e||t==="keepSnaps";return r.length===1?[i]:p?m:m.slice(l,c).map((h,v,b)=>{const g=!v,x=xg(b,v);if(g){const y=Br(b[0])+1;return oy(y)}if(x){const y=Dl(i)-Br(b)[0]+1;return oy(y,Br(b)[0])}return h})}return{slideRegistry:u}}function v4(e,t,r,n,s){const{reachedAny:i,removeOffset:o,constrain:l}=n;function c(h){return h.concat().sort((v,b)=>Ye(v)-Ye(b))[0]}function u(h){const v=e?o(h):l(h),b=t.map((x,y)=>({diff:f(x-v,0),index:y})).sort((x,y)=>Ye(x.diff)-Ye(y.diff)),{index:g}=b[0];return{index:g,distance:v}}function f(h,v){const b=[h,h+r,h-r];if(!e)return h;if(!v)return c(b);const g=b.filter(x=>vg(x)===v);return g.length?c(g):Br(b)-r}function d(h,v){const b=t[h]-s.get(),g=f(b,v);return{index:h,distance:g}}function m(h,v){const b=s.get()+h,{index:g,distance:x}=u(b),y=!e&&i(b);if(!v||y)return{index:g,distance:h};const w=t[g]-x,S=h+f(w,0);return{index:g,distance:S}}return{byDistance:m,byIndex:d,shortcut:f}}function x4(e,t,r,n,s,i,o){function l(d){const m=d.distance,p=d.index!==t.get();i.add(m),m&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(r.set(t.get()),t.set(d.index),o.emit("select"))}function c(d,m){const p=s.byDistance(d,m);l(p)}function u(d,m){const p=t.clone().set(d),h=s.byIndex(p.get(),m);l(h)}return{distance:c,index:u}}function y4(e,t,r,n,s,i,o,l){const c={passive:!0,capture:!0};let u=0;function f(p){if(!l)return;function h(v){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const x=r.findIndex(y=>y.includes(v));gg(x)&&(s.useDuration(0),n.index(x,0),o.emit("slideFocus"))}i.add(document,"keydown",d,!1),t.forEach((v,b)=>{i.add(v,"focus",g=>{(wd(l)||l(p,g))&&h(b)},c)})}function d(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:f}}function wo(e){let t=e;function r(){return t}function n(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return gg(c)?c:c.get()}return{get:r,set:n,add:s,subtract:i}}function cN(e,t){const r=e.scroll==="x"?o:l,n=t.style;let s=null,i=!1;function o(m){return`translate3d(${m}px,0px,0px)`}function l(m){return`translate3d(0px,${m}px,0px)`}function c(m){if(i)return;const p=e4(e.direction(m));p!==s&&(n.transform=r(p),s=p)}function u(m){i=!m}function f(){i||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:c,toggleActive:u}}function b4(e,t,r,n,s,i,o,l,c){const f=il(s),d=il(s).reverse(),m=g().concat(x());function p(C,E){return C.reduce((T,A)=>T-s[A],E)}function h(C,E){return C.reduce((T,A)=>p(T,E)>0?T.concat([A]):T,[])}function v(C){return i.map((E,T)=>({start:E-n[T]+.5+C,end:E+t-.5+C}))}function b(C,E,T){const A=v(E);return C.map(_=>{const P=T?0:-r,O=T?r:0,R=T?"end":"start",$=A[_][R];return{index:_,loopPoint:$,slideLocation:wo(-1),translate:cN(e,c[_]),target:()=>l.get()>$?P:O}})}function g(){const C=o[0],E=h(d,C);return b(E,r,!1)}function x(){const C=t-o[0]-1,E=h(f,C);return b(E,-r,!0)}function y(){return m.every(({index:C})=>{const E=f.filter(T=>T!==C);return p(E,t)<=.1})}function w(){m.forEach(C=>{const{target:E,translate:T,slideLocation:A}=C,_=E();_!==A.get()&&(T.to(_),A.set(_))})}function S(){m.forEach(C=>C.translate.clear())}return{canLoop:y,clear:S,loop:w,loopPoints:m}}function w4(e,t,r){let n,s=!1;function i(c){if(!r)return;function u(f){for(const d of f)if(d.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(f=>{s||(wd(r)||r(c,f))&&u(f)}),n.observe(e,{childList:!0})}function o(){n&&n.disconnect(),s=!0}return{init:i,destroy:o}}function S4(e,t,r,n){const s={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(h=>{c||(h.forEach(v=>{const b=t.indexOf(v.target);s[b]=v}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(h=>l.observe(h))}function f(){l&&l.disconnect(),c=!0}function d(h){return al(s).reduce((v,b)=>{const g=parseInt(b),{isIntersecting:x}=s[g];return(h&&x||!h&&!x)&&v.push(g),v},[])}function m(h=!0){if(h&&i)return i;if(!h&&o)return o;const v=d(h);return h&&(i=v),h||(o=v),v}return{init:u,destroy:f,get:m}}function N4(e,t,r,n,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,u=r[0]&&s,f=h(),d=v(),m=r.map(o),p=b();function h(){if(!u)return 0;const x=r[0];return Ye(t[l]-x[l])}function v(){if(!u)return 0;const x=i.getComputedStyle(Br(n));return parseFloat(x.getPropertyValue(`margin-${c}`))}function b(){return r.map((x,y,w)=>{const S=!y,j=xg(w,y);return S?m[y]+f:j?m[y]+d:w[y+1][l]-x[l]}).map(Ye)}return{slideSizes:m,slideSizesWithGaps:p,startGap:f,endGap:d}}function j4(e,t,r,n,s,i,o,l,c){const{startEdge:u,endEdge:f,direction:d}=e,m=gg(r);function p(g,x){return il(g).filter(y=>y%x===0).map(y=>g.slice(y,y+x))}function h(g){return g.length?il(g).reduce((x,y,w)=>{const S=Br(x)||0,j=S===0,C=y===Dl(g),E=s[u]-i[S][u],T=s[u]-i[y][f],A=!n&&j?d(o):0,_=!n&&C?d(l):0,P=Ye(T-_-(E+A));return w&&P>t+c&&x.push(y),C&&x.push(g.length),x},[]).map((x,y,w)=>{const S=Math.max(w[y-1]||0);return g.slice(S,x)}):[]}function v(g){return m?p(g,r):h(g)}return{groupSlides:v}}function C4(e,t,r,n,s,i,o){const{align:l,axis:c,direction:u,startIndex:f,loop:d,duration:m,dragFree:p,dragThreshold:h,inViewThreshold:v,slidesToScroll:b,skipSnaps:g,containScroll:x,watchResize:y,watchSlides:w,watchDrag:S,watchFocus:j}=i,C=2,E=a4(),T=E.measure(t),A=r.map(E.measure),_=n4(c,u),P=_.measureSize(T),O=o4(P),R=t4(l,P),$=!d&&!!x,L=d||!!x,{slideSizes:M,slideSizesWithGaps:I,startGap:F,endGap:z}=N4(_,T,A,r,L,s),K=j4(_,P,b,d,T,A,F,z,C),{snaps:V,snapsAligned:ee}=h4(_,R,T,A,K),Y=-Br(V)+Br(I),{snapsContained:fe,scrollContainLimit:be}=d4(P,Y,ee,x,C),H=$?fe:ee,{limit:se}=f4(Y,H,d),xe=lN(Dl(H),f,d),te=xe.clone(),J=il(r),W=({dragHandler:Sr,scrollBody:Ja,scrollBounds:Ii,options:{loop:zn}})=>{zn||Ii.constrain(Sr.pointerDown()),Ja.seek()},ie=({scrollBody:Sr,translate:Ja,location:Ii,offsetLocation:zn,previousLocation:Bn,scrollLooper:Ql,slideLooper:Un,dragHandler:Jd,animation:ef,eventHandler:eo,scrollBounds:Yl,options:{loop:Zl}},Di)=>{const Nr=Sr.settled(),tf=!Yl.shouldConstrain(),me=Zl?Nr:Nr&&tf,Te=me&&!Jd.pointerDown();Te&&ef.stop();const $e=Ii.get()*Di+Bn.get()*(1-Di);zn.set($e),Zl&&(Ql.loop(Sr.direction()),Un.loop()),Ja.to(zn.get()),Te&&eo.emit("settle"),me||eo.emit("scroll")},ge=r4(n,s,()=>W(Xa),Sr=>ie(Xa,Sr)),Oe=.68,Ue=H[xe.get()],Ge=wo(Ue),mt=wo(Ue),Le=wo(Ue),Ot=wo(Ue),br=c4(Ge,Le,mt,Ot,m,Oe),Ti=v4(d,H,Y,se,Ot),wr=x4(ge,xe,te,br,Ti,Ot,o),Gl=p4(se),Kl=ol(),_t=S4(t,r,o,v),{slideRegistry:xn}=g4($,x,H,be,K,J),Xd=y4(e,r,xn,wr,br,Kl,o,j),Xa={ownerDocument:n,ownerWindow:s,eventHandler:o,containerRect:T,slideRects:A,animation:ge,axis:_,dragHandler:s4(_,e,n,s,Ot,i4(_,s),Ge,ge,wr,br,Ti,xe,o,O,p,h,g,Oe,S),eventStore:Kl,percentOfView:O,index:xe,indexPrevious:te,limit:se,location:Ge,offsetLocation:Le,previousLocation:mt,options:i,resizeHandler:l4(t,o,s,r,_,y,E),scrollBody:br,scrollBounds:u4(se,Le,Ot,br,O),scrollLooper:m4(Y,se,Le,[Ge,Le,mt,Ot]),scrollProgress:Gl,scrollSnapList:H.map(Gl.get),scrollSnaps:H,scrollTarget:Ti,scrollTo:wr,slideLooper:b4(_,P,Y,M,I,V,H,Le,r),slideFocus:Xd,slidesHandler:w4(t,o,w),slidesInView:_t,slideIndexes:J,slideRegistry:xn,slidesToScroll:K,target:Ot,translate:cN(_,t)};return Xa}function E4(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(f=>f(t,u)),c}function i(u,f){return e[u]=n(u).concat([f]),c}function o(u,f){return e[u]=n(u).filter(d=>d!==f),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const P4={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function k4(e){function t(i,o){return oN(i,o||{})}function r(i){const o=i.breakpoints||{},l=al(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>t(c,u),{});return t(i,l)}function n(i){return i.map(o=>al(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function T4(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(i=>i.destroy())}return{init:r,destroy:n}}function Tu(e,t,r){const n=e.ownerDocument,s=n.defaultView,i=k4(s),o=T4(i),l=ol(),c=E4(),{mergeOptions:u,optionsAtMedia:f,optionsMediaQueries:d}=i,{on:m,off:p,emit:h}=c,v=_;let b=!1,g,x=u(P4,Tu.globalOptions),y=u(x),w=[],S,j,C;function E(){const{container:J,slides:W}=y;j=(jp(J)?e.querySelector(J):J)||e.children[0];const ge=jp(W)?j.querySelectorAll(W):W;C=[].slice.call(ge||j.children)}function T(J){const W=C4(e,j,C,n,s,J,c);if(J.loop&&!W.slideLooper.canLoop()){const ie=Object.assign({},J,{loop:!1});return T(ie)}return W}function A(J,W){b||(x=u(x,J),y=f(x),w=W||w,E(),g=T(y),d([x,...w.map(({options:ie})=>ie)]).forEach(ie=>l.add(ie,"change",_)),y.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(te),g.eventHandler.init(te),g.resizeHandler.init(te),g.slidesHandler.init(te),g.options.loop&&g.slideLooper.loop(),j.offsetParent&&C.length&&g.dragHandler.init(te),S=o.init(te,w)))}function _(J,W){const ie=K();P(),A(u({startIndex:ie},J),W),c.emit("reInit")}function P(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),o.destroy(),l.clear()}function O(){b||(b=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function R(J,W,ie){!y.active||b||(g.scrollBody.useBaseFriction().useDuration(W===!0?0:y.duration),g.scrollTo.index(J,ie||0))}function $(J){const W=g.index.add(1).get();R(W,J,-1)}function L(J){const W=g.index.add(-1).get();R(W,J,1)}function M(){return g.index.add(1).get()!==K()}function I(){return g.index.add(-1).get()!==K()}function F(){return g.scrollSnapList}function z(){return g.scrollProgress.get(g.offsetLocation.get())}function K(){return g.index.get()}function V(){return g.indexPrevious.get()}function ee(){return g.slidesInView.get()}function Y(){return g.slidesInView.get(!1)}function fe(){return S}function be(){return g}function H(){return e}function se(){return j}function xe(){return C}const te={canScrollNext:M,canScrollPrev:I,containerNode:se,internalEngine:be,destroy:O,off:p,on:m,emit:h,plugins:fe,previousScrollSnap:V,reInit:v,rootNode:H,scrollNext:$,scrollPrev:L,scrollProgress:z,scrollSnapList:F,scrollTo:R,selectedScrollSnap:K,slideNodes:xe,slidesInView:ee,slidesNotInView:Y};return A(t,r),setTimeout(()=>c.emit("init"),0),te}Tu.globalOptions=void 0;function yg(e={},t=[]){const r=k.useRef(e),n=k.useRef(t),[s,i]=k.useState(),[o,l]=k.useState(),c=k.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return k.useEffect(()=>{hg(r.current,e)||(r.current=e,c())},[e,c]),k.useEffect(()=>{XR(n.current,t)||(n.current=t,c())},[t,c]),k.useEffect(()=>{if(ZR()&&o){Tu.globalOptions=yg.globalOptions;const u=Tu(o,r.current,n.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,s]}yg.globalOptions=void 0;const uN=N.createContext(null);function Sd(){const e=N.useContext(uN);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const dN=N.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:i,...o},l)=>{const[c,u]=yg({...t,axis:e==="horizontal"?"x":"y"},n),[f,d]=N.useState(!1),[m,p]=N.useState(!1),h=N.useCallback(x=>{x&&(d(x.canScrollPrev()),p(x.canScrollNext()))},[]),v=N.useCallback(()=>{u==null||u.scrollPrev()},[u]),b=N.useCallback(()=>{u==null||u.scrollNext()},[u]),g=N.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),v()):x.key==="ArrowRight"&&(x.preventDefault(),b())},[v,b]);return N.useEffect(()=>{!u||!r||r(u)},[u,r]),N.useEffect(()=>{if(u)return h(u),u.on("reInit",h),u.on("select",h),()=>{u==null||u.off("select",h)}},[u,h]),a.jsx(uN.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:b,canScrollPrev:f,canScrollNext:m},children:a.jsx("div",{ref:l,onKeyDownCapture:g,className:he("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});dN.displayName="Carousel";const fN=N.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=Sd();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:he("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});fN.displayName="CarouselContent";const mN=N.forwardRef(({className:e,...t},r)=>{const{orientation:n}=Sd();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:he("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});mN.displayName="CarouselItem";const pN=N.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:l}=Sd();return a.jsxs(U,{ref:s,variant:t,size:r,className:he("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(rb,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});pN.displayName="CarouselPrevious";const hN=N.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:i,scrollNext:o,canScrollNext:l}=Sd();return a.jsxs(U,{ref:s,variant:t,size:r,className:he("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:o,...n,children:[a.jsx(nE,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});hN.displayName="CarouselNext";const I4=Gu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function at({className:e,variant:t,...r}){return a.jsx("div",{className:he(I4({variant:t}),e),...r})}const D4=({category:e})=>a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50/30 rounded-2xl p-8 shadow-lg border border-peach-100/50",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.icon,a.jsx("h3",{className:"text-2xl font-bold text-gray-800 font-playfair",children:e.title})]}),a.jsx("div",{className:"mb-6",children:a.jsxs(dN,{className:"w-full max-w-xs mx-auto",children:[a.jsx(fN,{children:e.images.map((t,r)=>a.jsx(mN,{children:a.jsxs("div",{className:"aspect-square overflow-hidden rounded-xl relative",children:[a.jsx("img",{src:t,alt:`${e.title} ${r+1}`,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"}),e.labels&&e.labels.length>0&&a.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:e.labels.map((n,s)=>a.jsxs(at,{variant:"outline",className:"bg-white/90 text-blue-700 border-blue-200 text-xs backdrop-blur-sm",children:[a.jsx(Fa,{className:"w-3 h-3 mr-1"}),n]},s))})]})},r))}),a.jsx(pN,{className:"bg-white/80 hover:bg-white border-peach-200"}),a.jsx(hN,{className:"bg-white/80 hover:bg-white border-peach-200"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700 font-inter leading-relaxed",children:e.explanation}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3 font-playfair",children:"Caratteristiche:"}),a.jsx("ul",{className:"space-y-2",children:e.features.map((t,r)=>a.jsxs("li",{className:"flex items-center gap-2 text-gray-600 font-inter",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-peach-400 to-coral-500 rounded-full"}),t]},r))})]})]})]}),A4=()=>{const[e,t]=N.useState([]),[r,n]=N.useState({}),[s,i]=N.useState(!0);N.useEffect(()=>{o(),l()},[]);const o=async()=>{try{const{data:u,error:f}=await B.from("category_pictures").select("*").eq("is_active",!0).order("position");!f&&u&&t(u)}catch(u){console.log("Could not load category pictures:",u)}},l=async()=>{try{console.log("[Categories] Loading category galleries from database...");const u=["matrimoni","fiori_piante","fiori_finti","funerali"],f={};for(const d of u){const{data:m,error:p}=await B.from("content_sections").select("content_value").eq("section_key",`category_${d}_images`).single();if(!p&&(m!=null&&m.content_value))try{const h=JSON.parse(m.content_value);console.log(`[Categories] Loaded ${d} gallery:`,h);let v=[],b=[];Array.isArray(h)&&(h.length>0&&typeof h[0]=="string"?(v=h.filter(g=>g&&g.trim()),b=[]):(v=h.filter(g=>g&&g.url&&g.url.trim()).map(g=>g.url.trim()),b=h.filter(g=>g&&g.url&&g.url.trim()).map(g=>g.label||""))),f[d]={images:v,labels:b}}catch(h){console.error(`[Categories] Error parsing ${d} gallery:`,h)}else console.log(`[Categories] No gallery data found for ${d}`)}n(f),console.log("[Categories] All category galleries loaded:",f)}catch(u){console.error("[Categories] Error loading category galleries:",u)}finally{i(!1)}},c=()=>{var f,d,m,p,h,v,b,g;const u={fiori_piante:["https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],fiori_finti:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],matrimoni:["https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"],funerali:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]};return[{title:"Fiori & Piante",description:"Fiori freschi e piante di qualità premium",images:((f=r.fiori_piante)==null?void 0:f.images)||u.fiori_piante,explanation:"Da Francesco Fiori & Piante, troverai un'ampia scelta di fiori freschi di stagione e piante ornamentali per ogni ambiente. Che tu stia cercando una pianta verde per il tuo salotto o un mazzo colorato per sorprendere una persona cara, siamo qui per consigliarti con passione e competenza.",features:["Fiori freschi tagliati quotidianamente","Piante da interno e esterno","Composizioni personalizzate","Garanzia di freschezza","Cura e manutenzione inclusa"],labels:((d=r.fiori_piante)==null?void 0:d.labels)||[],icon:a.jsx(ms,{className:"text-emerald-500",size:28})},{title:"Fiori Finti",description:"Eleganti composizioni artificiali",images:((m=r.fiori_finti)==null?void 0:m.images)||u.fiori_finti,explanation:"Per chi desidera la bellezza dei fiori senza pensieri, proponiamo una collezione curata di fiori artificiali di alta qualità.",features:["Materiali di alta qualità","Aspetto realistico","Nessuna manutenzione richiesta","Durata illimitata","Resistenti agli allergeni","Perfetti per ogni ambiente"],labels:((p=r.fiori_finti)==null?void 0:p.labels)||[],icon:a.jsx(lb,{className:"text-amber-500",size:28})},{title:"Matrimoni",description:"Allestimenti floreali per il giorno speciale",images:((h=r.matrimoni)==null?void 0:h.images)||u.matrimoni,explanation:"Rendiamo unico il giorno più importante della tua vita con allestimenti floreali personalizzati per matrimoni. Bouquet da sposa, centrotavola, archi floreali e decorazioni per chiesa e location: tutto viene progettato su misura per raccontare la vostra storia d'amore con i fiori.",features:["Bouquet da sposa personalizzati","Centrotavola eleganti","Archi floreali per cerimonie","Decorazioni per chiesa","Allestimenti per location","Progettazione su misura","Consulenza personalizzata","Servizio completo matrimoni"],labels:((v=r.matrimoni)==null?void 0:v.labels)||[],icon:a.jsx(ib,{className:"text-rose-500",size:28})},{title:"Funerali",description:"Composizioni di cordoglio e commemorazione",images:((b=r.funerali)==null?void 0:b.images)||u.funerali,explanation:"Nel momento del dolore, offriamo composizioni floreali sobrie ed eleganti per onorare la memoria dei tuoi cari.",features:["Composizioni tradizionali e moderne","Corone e cuscini floreali","Mazzi di cordoglio","Consegna tempestiva","Servizio discreto e rispettoso","Personalizzazione su richiesta"],labels:((g=r.funerali)==null?void 0:g.labels)||[],icon:a.jsx(mb,{className:"text-sage-500",size:28})}]};return a.jsx("section",{id:"categories",className:"py-20 bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair animate-scale-in",children:"Esplora per Categoria"}),a.jsx("p",{className:"text-xl text-gray-600 font-inter animate-fade-in-up animate-stagger-1",children:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿"})]}),a.jsxs("div",{className:"mb-16 animate-slide-in-up animate-stagger-2",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in-down",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-2 font-playfair animate-bounce-gentle",children:"La Nostra Galleria"}),a.jsx("p",{className:"text-gray-600 animate-fade-in-up animate-stagger-1",children:"Scopri alcuni dei nostri lavori più belli (incluso il tuo cane! 🐕)"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:!s&&e&&e.length>0?e.map((u,f)=>a.jsxs("div",{className:`group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-white hover-lift animate-scale-in animate-stagger-${Math.min(f+1,5)}`,children:[a.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:a.jsx("img",{src:u.image_url,alt:u.alt_text||`Gallery picture ${u.position}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 hover-glow"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.alt_text&&a.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0",children:a.jsx("p",{className:"text-sm font-medium animate-fade-in-up",children:u.alt_text})}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-all duration-300",children:a.jsx(ms,{className:"text-white animate-float",size:20})})]},u.id)):[1,2,3].map(u=>a.jsx("div",{className:`group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 bg-white hover-lift animate-fade-in-up animate-stagger-${u}`,children:a.jsx("div",{className:"aspect-[4/3] overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500 animate-bounce-gentle",children:[a.jsx(ms,{size:48,className:"mx-auto mb-2 text-gray-400 animate-float"}),a.jsxs("p",{className:"text-sm animate-fade-in-up",children:["Picture ",u]}),a.jsx("p",{className:"text-xs animate-fade-in-up animate-stagger-1",children:"Upload via Admin Panel"})]})})},u))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in-up animate-stagger-3",children:c().map((u,f)=>a.jsx("div",{className:`animate-scale-in animate-stagger-${Math.min(f+1,5)} hover-lift`,children:a.jsx(D4,{category:u})},f))})]})})},R4=({product:e,name:t,price:r,image:n,description:s,onOrder:i,onViewDetails:o})=>{const l=(e==null?void 0:e.name)||t||"",c=e?`€${e.price.toFixed(2)}`:r||"",u=(e==null?void 0:e.image_url)||n||"",f=(e==null?void 0:e.description)||s||"",d=(e==null?void 0:e.is_available)!==!1,m=(e==null?void 0:e.stock_quantity)||0,p=()=>{e&&i&&d&&i(e)},h=()=>{e&&o&&o(e)};return a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50/30 rounded-xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-peach-100/50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:u,alt:l,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",onError:v=>{const b=v.target;b.src="/placeholder.svg"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-peach-900/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e&&a.jsx("div",{className:"absolute top-3 left-3",children:d?m<=5&&m>0?a.jsxs("span",{className:"bg-amber-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:["Ultimi ",m]}):null:a.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Non Disponibile"})}),e&&e.labels&&e.labels.length>0&&a.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-1",children:e.labels.map((v,b)=>a.jsxs(at,{variant:"outline",className:"bg-white/90 text-blue-700 border-blue-200 text-xs backdrop-blur-sm",children:[a.jsx(Fa,{className:"w-3 h-3 mr-1"}),v]},b))}),e&&(i||o)&&a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 space-y-2",children:o&&a.jsx("button",{onClick:h,className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-all duration-300 shadow-lg",title:"Visualizza dettagli",children:a.jsx(Fo,{size:16})})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 font-playfair",children:l}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm font-inter line-clamp-2",children:f}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-coral-600 font-playfair",children:c}),e&&i?a.jsx("button",{onClick:p,disabled:!d,className:`p-3 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110 group/btn ${d?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white hover:from-emerald-600 hover:to-emerald-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:d?"Ordina ora":"Non disponibile",children:a.jsx(di,{size:20,className:d?"group-hover/btn:animate-bounce":""})}):a.jsx("button",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-110 group/btn",children:a.jsx(di,{size:20,className:"group-hover/btn:animate-bounce"})})]}),e&&a.jsx("div",{className:"mt-3",children:a.jsx("span",{className:"inline-block bg-peach-100 text-peach-800 px-2 py-1 rounded-full text-xs font-medium",children:e.category})})]})]})},O4=v2,_4=h2,gN=N.forwardRef(({className:e,...t},r)=>a.jsx(S0,{ref:r,className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gN.displayName=S0.displayName;const vN=N.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(_4,{children:[a.jsx(gN,{}),a.jsxs(N0,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(g2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(dn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vN.displayName=N0.displayName;const xN=({className:e,...t})=>a.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xN.displayName="DialogHeader";const yN=N.forwardRef(({className:e,...t},r)=>a.jsx(j0,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));yN.displayName=j0.displayName;const F4=N.forwardRef(({className:e,...t},r)=>a.jsx(C0,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));F4.displayName=C0.displayName;const pe=N.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));pe.displayName="Input";const mn=N.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));mn.displayName="Textarea";var M4="Label",bN=N.forwardRef((e,t)=>a.jsx(Fe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bN.displayName=M4;var wN=bN;const L4=Gu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=N.forwardRef(({className:e,...t},r)=>a.jsx(wN,{ref:r,className:he(L4(),e),...t}));re.displayName=wN.displayName;const Al=x2,Si=N.forwardRef(({className:e,...t},r)=>a.jsx(E0,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Si.displayName=E0.displayName;const Ee=N.forwardRef(({className:e,...t},r)=>a.jsx(P0,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ee.displayName=P0.displayName;const Ke=N.forwardRef(({className:e,...t},r)=>a.jsx(k0,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ke.displayName=k0.displayName;let Kc=null,qs=null;const $4=async()=>{if(!window.stripeConfigCache&&qs&&(qs=null,Kc=null),qs)return qs;try{const{data:e,error:t}=await B.from("settings").select("value").eq("key","stripeConfig").single();if(t||!(e!=null&&e.value))throw new Error("Stripe configuration not found. Please configure Stripe in the admin panel.");return qs=e.value,window.stripeConfigCache=qs,qs}catch(e){throw console.error("Error loading Stripe config:",e),new Error("Failed to load Stripe configuration")}},z4=async()=>{if(!Kc){const e=await $4();if(!(e!=null&&e.publishableKey))throw new Error("Stripe publishable key not configured");Kc=I2(e.publishableKey)}return Kc};class B4{constructor(){ze(this,"stripe",null)}async getStripeInstance(){return this.stripe||(this.stripe=z4()),await this.stripe}async createCheckoutSession(t,r,n,s){try{const i=t.reduce((d,m)=>d+m.price*m.quantity,0),l={line_items:t.map(d=>{const m={name:d.name,images:d.image?[d.image]:[]};return d.description&&d.description.trim()!==""&&(m.description=d.description.trim()),{price_data:{currency:"eur",product_data:m,unit_amount:Math.round(d.price*100)},quantity:d.quantity}}),mode:"payment",customer_email:r.email,billing_address_collection:"required",shipping_address_collection:{allowed_countries:["IT","FR","DE","ES","AT","CH"]},success_url:`${window.location.origin}/payment/success?session_id={CHECKOUT_SESSION_ID}&order_id=${n}`,cancel_url:`${window.location.origin}/payment/cancel?order_id=${n}`,metadata:{order_id:n,customer_name:r.name,customer_phone:r.phone||"",...s},payment_intent_data:{metadata:{order_id:n,customer_name:r.name}}},u=await fetch("/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();return{sessionId:f.id,url:f.url}}catch(i){throw console.error("Error creating checkout session:",i),new Error("Failed to create checkout session. Please try again.")}}async redirectToCheckout(t){try{const r=await this.getStripeInstance();if(!r)throw new Error("Stripe failed to initialize");const{error:n}=await r.redirectToCheckout({sessionId:t});if(n)throw n}catch(r){throw console.error("Error redirecting to checkout:",r),new Error("Failed to redirect to checkout. Please try again.")}}async checkoutAndRedirect(t,r,n,s){try{const i=await this.createCheckoutSession(t,r,n,s);await this.redirectToCheckout(i.sessionId)}catch(i){throw console.error("Error in checkout flow:",i),i}}async verifyPayment(t){try{const n=await fetch(`/verify-payment?session_id=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(r){throw console.error("Error verifying payment:",r),new Error("Failed to verify payment status")}}async updateOrderAfterPayment(t,r){try{const{error:n}=await B.from("orders").update({status:"paid",stripe_session_id:r.stripeSessionId,stripe_payment_intent_id:r.paymentIntentId,payment_status:r.status,paid_amount:r.amountPaid,paid_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;await B.from("order_status_history").insert({order_id:t,status:"paid",notes:`Payment completed via Stripe. Payment Intent: ${r.paymentIntentId}`,created_by:"system"})}catch(n){throw console.error("Error updating order after payment:",n),new Error("Failed to update order status")}}async handleFailedPayment(t,r){try{const{error:n}=await B.from("orders").update({status:"payment_failed",payment_status:"failed",updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;await B.from("order_status_history").insert({order_id:t,status:"payment_failed",notes:`Payment failed. Reason: ${r||"Unknown"}`,created_by:"system"})}catch(n){throw console.error("Error handling failed payment:",n),new Error("Failed to update order status for failed payment")}}async getPublicStripeInstance(){return await this.getStripeInstance()}}const Iu=new B4,SN=({items:e,customerInfo:t,orderId:r,onCreateOrder:n,onSuccess:s,onError:i,disabled:o=!1,className:l="",children:c})=>{const[u,f]=N.useState(!1),{toast:d}=De(),m=async()=>{if(!e.length||!t.name||!t.email){const h="Missing required information for checkout";d({title:"Checkout Error",description:h,variant:"destructive"}),i==null||i(h);return}try{f(!0);let h=r;if(n&&!r&&(h=await n()),!h)throw new Error("Order ID is required for payment processing");const v=e.reduce((b,g)=>b+g.price*g.quantity,0);d({title:"Redirecting to Payment",description:`Processing payment of €${v.toFixed(2)}...`});try{console.log("Creating real Stripe checkout session..."),await Iu.checkoutAndRedirect(e,t,h,{source:"francesco_fiori_website",order_type:"product_order"})}catch(b){throw console.error("Real Stripe checkout failed:",b),b}s==null||s()}catch(h){console.error("Checkout error:",h);const v=h instanceof Error?h.message:"Payment processing failed";d({title:"Payment Error",description:v,variant:"destructive"}),i==null||i(v)}finally{f(!1)}},p=e.reduce((h,v)=>h+v.price*v.quantity,0);return a.jsxs("div",{className:`space-y-4 ${l}`,children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[e.map((h,v)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[h.name," × ",h.quantity]}),a.jsxs("span",{className:"font-medium",children:["€",(h.price*h.quantity).toFixed(2)]})]},v)),a.jsx("div",{className:"border-t pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between font-semibold",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["€",p.toFixed(2)]})]})})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Billing Information"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",t.email]}),t.phone&&a.jsxs("p",{children:[a.jsx("strong",{children:"Phone:"})," ",t.phone]})]})]}),a.jsx(U,{onClick:m,disabled:o||u||!e.length,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",size:"lg",children:u?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing Payment..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sl,{className:"h-5 w-5 mr-2"}),c||`Pay €${p.toFixed(2)} with Stripe`]})}),a.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[a.jsx("p",{children:"🔒 Secure payment powered by Stripe"}),a.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})},U4=({product:e,isOpen:t,onClose:r})=>{const[n,s]=N.useState(!1),[i,o]=N.useState({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),{toast:l}=De(),c=(h,v)=>{o(b=>({...b,[h]:v}))},u=h=>{o(v=>({...v,quantity:Math.max(1,v.quantity+(h?1:-1))}))},f=()=>e?e.price*i.quantity:0,d=()=>{const h=Date.now().toString(),v=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`ORD-${h.slice(-6)}${v}`},m=async()=>{if(!e)return null;try{const h=d(),v=f(),{data:b,error:g}=await B.from("orders").insert({order_number:h,customer_name:i.customerName,customer_email:i.customerEmail,customer_phone:i.customerPhone||null,total_amount:v,status:"payment_pending",payment_status:"pending",billing_address:{street:i.deliveryAddress,city:"",postalCode:"",country:"Italy"},shipping_address:{street:i.deliveryAddress,city:"",postalCode:"",country:"Italy"},notes:`Product Order - ${e.name}
Quantity: ${i.quantity}
Special Requests: ${i.specialRequests}
Delivery Date: ${i.deliveryDate}`}).select().single();if(g)throw g;const{error:x}=await B.from("order_items").insert({order_id:b.id,product_id:e.id,product_name:e.name,quantity:i.quantity,price:e.price});if(x)throw x;return b}catch(h){throw console.error("Order creation error:",h),h}},p=async h=>{h.preventDefault()};return e?a.jsx(O4,{open:t,onOpenChange:r,children:a.jsxs(vN,{className:"max-w-2xl max-h-[95vh] overflow-y-auto",children:[a.jsx(xN,{children:a.jsxs(yN,{className:"flex items-center gap-2",children:[a.jsx(di,{className:"h-6 w-6"}),"Ordina: ",e.name]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("img",{src:e.image_url,alt:e.name,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.name}),a.jsx("p",{className:"text-gray-600 text-sm",children:e.description}),a.jsxs("p",{className:"text-xl font-bold text-emerald-600 mt-2",children:["€",e.price.toFixed(2)]})]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerName",className:"flex items-center gap-2",children:[a.jsx(fb,{className:"h-4 w-4"}),"Nome Completo *"]}),a.jsx(pe,{id:"customerName",value:i.customerName,onChange:h=>c("customerName",h.target.value),placeholder:"Il tuo nome completo",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerEmail",className:"flex items-center gap-2",children:[a.jsx(ob,{className:"h-4 w-4"}),"Email *"]}),a.jsx(pe,{id:"customerEmail",type:"email",value:i.customerEmail,onChange:h=>c("customerEmail",h.target.value),placeholder:"la-tua-email@esempio.com",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerPhone",className:"flex items-center gap-2",children:[a.jsx(Ku,{className:"h-4 w-4"}),"Telefono"]}),a.jsx(pe,{id:"customerPhone",value:i.customerPhone,onChange:h=>c("customerPhone",h.target.value),placeholder:"+39 123 456 7890"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"deliveryDate",children:"Data di Consegna"}),a.jsx(pe,{id:"deliveryDate",type:"date",value:i.deliveryDate,onChange:h=>c("deliveryDate",h.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Quantità"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!1),disabled:i.quantity<=1,children:a.jsx(lE,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-lg font-semibold w-12 text-center",children:i.quantity}),a.jsx(U,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),children:a.jsx(Es,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"deliveryAddress",className:"flex items-center gap-2",children:[a.jsx(cm,{className:"h-4 w-4"}),"Indirizzo di Consegna *"]}),a.jsx(pe,{id:"deliveryAddress",value:i.deliveryAddress,onChange:h=>c("deliveryAddress",h.target.value),placeholder:"Via, Città, CAP",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"specialRequests",children:"Richieste Speciali"}),a.jsx(mn,{id:"specialRequests",value:i.specialRequests,onChange:h=>c("specialRequests",h.target.value),placeholder:"Eventuali richieste particolari o personalizzazioni...",rows:3})]}),a.jsx("div",{className:"bg-emerald-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Totale:"}),a.jsxs("span",{className:"text-emerald-600",children:["€",f().toFixed(2)]})]})}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scegli il metodo di pagamento"}),a.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Form valid: ",i.customerName&&i.customerEmail&&i.deliveryAddress?"Yes":"No"]}),a.jsxs(Al,{defaultValue:"stripe",className:"w-full",children:[a.jsxs(Si,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsxs(Ee,{value:"stripe",className:"flex items-center gap-2",children:[a.jsx(Sl,{className:"h-4 w-4"}),"Paga Ora (Stripe)"]}),a.jsx(Ee,{value:"later",children:"Paga Dopo"})]}),a.jsxs(Ke,{value:"stripe",className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Pagamento Sicuro con Stripe"}),a.jsx("p",{className:"text-blue-700 text-sm",children:"Paga subito con carta di credito o debito. Il tuo ordine sarà confermato immediatamente."})]}),i.customerName&&i.customerEmail&&i.deliveryAddress?a.jsx(SN,{items:[{id:e.id,name:e.name,price:e.price,quantity:i.quantity,image:e.image_url||void 0,description:e.description||void 0}],customerInfo:{name:i.customerName,email:i.customerEmail,phone:i.customerPhone||void 0},onCreateOrder:async()=>{const h=await m();if(!h)throw new Error("Failed to create order");return h.id},onSuccess:()=>{l({title:"Ordine Completato! 🎉",description:"Il pagamento è stato elaborato con successo."}),o({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),r()},onError:h=>{l({title:"Errore nel Pagamento",description:h,variant:"destructive"})}}):a.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:a.jsx("p",{className:"text-amber-800 text-sm",children:"Compila tutti i campi obbligatori sopra per procedere al pagamento."})})]}),a.jsxs(Ke,{value:"later",className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Ordina Ora, Paga Dopo"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Il tuo ordine sarà salvato e ti contatteremo per confermare i dettagli e il pagamento."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(U,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Annulla"}),a.jsx(U,{type:"button",disabled:n||!i.customerName||!i.customerEmail||!i.deliveryAddress,onClick:async()=>{s(!0);try{const h=await m();h&&(await B.from("order_notifications").insert({order_id:h.id,notification_type:"new_order",is_read:!1}),l({title:"Ordine Inviato con Successo! 🎉",description:`Il tuo ordine #${h.order_number} è stato ricevuto. Ti contatteremo presto per confermare i dettagli.`}),o({customerName:"",customerEmail:"",customerPhone:"",quantity:1,specialRequests:"",deliveryDate:"",deliveryAddress:""}),r())}catch(h){l({title:"Errore nell'invio dell'ordine",description:h.message||"Riprova o contattaci direttamente.",variant:"destructive"})}finally{s(!1)}},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:n?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Invio in corso..."]}):a.jsxs(a.Fragment,{children:[a.jsx(di,{className:"mr-2 h-4 w-4"}),"Conferma Ordine"]})})]})]})]})]})]})]})]})}):null},NN=()=>{const[e,t]=N.useState({}),[r,n]=N.useState(null),[s,i]=N.useState(!1),[o,l]=N.useState(!0),[c,u]=N.useState("I Nostri Prodotti"),[f,d]=N.useState("Scopri la nostra selezione di fiori e composizioni per ogni occasione");N.useEffect(()=>{m(),p()},[]);const m=async()=>{try{const{data:S,error:j}=await B.from("products").select(`
          *,
          categories (
            name,
            slug
          )
        `).eq("is_active",!0).order("sort_order",{ascending:!0});if(!j&&S){const C={};S.forEach(E=>{var _,P;const T=((_=E.categories)==null?void 0:_.slug)||"uncategorized";C[T]||(C[T]=[]);const A={...E,category:((P=E.categories)==null?void 0:P.name)||"Uncategorized",category_slug:T,is_available:(E.stock_quantity||0)>0,images:E.gallery?Array.isArray(E.gallery)?E.gallery:[E.image_url].filter(Boolean):[E.image_url].filter(Boolean)};C[T].push(A)}),t(C)}}catch(S){console.log("Could not load products:",S)}finally{l(!1)}},p=async()=>{try{const{data:S,error:j}=await B.from("content_sections").select("section_key, content_value").in("section_key",["products_heading","products_subheading"]);!j&&S&&S.forEach(C=>{C.section_key==="products_heading"&&C.content_value&&u(C.content_value),C.section_key==="products_subheading"&&C.content_value&&d(C.content_value)})}catch(S){console.log("Could not load content:",S)}},h=S=>{n(S),i(!0)},v=()=>{i(!1),n(null)},b=S=>{switch(S){case"fiori-piante":return a.jsx(ms,{className:"text-emerald-500",size:28});case"fiori-finti":return a.jsx(lb,{className:"text-amber-500",size:28});case"matrimoni":return a.jsx(ib,{className:"text-rose-500",size:28});case"funerali":return a.jsx(mb,{className:"text-sage-500",size:28});default:return a.jsx(ms,{className:"text-emerald-500",size:28})}},g=S=>{switch(S){case"fiori-piante":return"from-peach-400 to-coral-500";case"fiori-finti":return"from-amber-400 to-peach-500";case"matrimoni":return"from-rose-400 to-pink-500";case"funerali":return"from-sage-400 to-emerald-500";default:return"from-peach-400 to-coral-500"}},x=S=>{switch(S){case"fiori-piante":return"Fiori & Piante";case"fiori-finti":return"Fiori Finti";case"matrimoni":return"Matrimoni";case"funerali":return"Funerali";default:return S}};if(o)return a.jsx("section",{id:"products",className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"text-center animate-fade-in-up",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto animate-pulse-glow"}),a.jsx("p",{className:"mt-4 text-gray-600 animate-bounce-gentle",children:"Caricamento prodotti..."})]})})});const w=["matrimoni","fiori-piante","fiori-finti","funerali"].filter(S=>e[S]&&e[S].length>0);return a.jsxs(a.Fragment,{children:[a.jsx("section",{id:"products",className:"py-20 bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 overflow-hidden",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12 animate-fade-in-up",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair animate-scale-in",children:c}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto font-inter animate-fade-in-up animate-stagger-1",children:f})]}),a.jsx("div",{className:"space-y-16",children:w.map((S,j)=>{const C=e[S]||[],E=x(S),T=b(S),A=g(S);return a.jsxs("div",{className:`space-y-8 animate-slide-in-up animate-stagger-${Math.min(j+2,5)}`,children:[a.jsxs("div",{className:"text-center animate-fade-in-down",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:`p-4 rounded-full bg-gradient-to-r ${A} shadow-lg hover-lift animate-bounce-gentle`,children:a.jsx("div",{className:"bg-white p-2 rounded-full animate-heartbeat",children:T})})}),a.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2 font-playfair animate-fade-in-up",children:E}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-emerald-400 to-emerald-600 mx-auto rounded-full animate-shimmer"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:C.slice(0,4).map((_,P)=>a.jsx("div",{className:`animate-scale-in animate-stagger-${Math.min(P+1,5)} hover-lift`,children:a.jsx(R4,{product:_,onOrder:h})},_.id))}),C.length>4&&a.jsx("div",{className:"text-center animate-fade-in-up animate-stagger-5",children:a.jsxs("button",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-6 py-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 hover-glow animate-pulse-glow",children:[a.jsx(uE,{size:20,className:"animate-wiggle"}),"Vedi tutti i prodotti ",E,a.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm animate-bounce-gentle",children:["+",C.length-4]})]})})]},S)})}),a.jsx("div",{className:"mt-16 text-center animate-slide-in-up animate-stagger-5",children:a.jsxs("div",{className:"bg-gradient-to-br from-peach-50/50 via-white to-amber-50/50 rounded-2xl p-8 border border-peach-100/50 hover-lift animate-pulse-glow",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 font-playfair animate-fade-in-up",children:"Non trovi quello che cerchi?"}),a.jsx("p",{className:"text-gray-600 mb-6 font-inter animate-fade-in-up animate-stagger-1",children:"Contattaci per composizioni personalizzate e consulenze su misura per le tue esigenze"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up animate-stagger-2",children:[a.jsx("button",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-8 py-3 rounded-full hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 hover-glow animate-heartbeat",children:"Richiedi Preventivo Personalizzato"}),a.jsx("button",{className:"border-2 border-emerald-500 text-emerald-600 px-8 py-3 rounded-full hover:bg-emerald-50 transition-all duration-300 hover-lift animate-bounce-gentle",children:"Contattaci"})]})]})})]})}),a.jsx(U4,{product:r,isOpen:s,onClose:v})]})},H4=()=>{const{language:e,t}=_S(),r={it:{title:"Chi Siamo - Francesco Fiori & Piante",storyTitle:"La Nostra Storia",paragraph1:"Francesco Fiori & Piante nasce dalla passione per la bellezza naturale e dall'esperienza artigianale tramandata nel tempo. Dai momenti più delicati come i funerali, ai giorni più belli come i matrimoni, offriamo composizioni floreali create con amore e cura.",paragraph2:"Le nostre creazioni nascono da una profonda passione per la bellezza naturale. Solo fiori selezionati, solo eleganza made in Torino. 🌼 Situati all'interno del Mercato di Porta Palazzo, offriamo esperienza artigianale e passione per la bellezza naturale.",quote:"📍 Trovaci a Porta Palazzo, Torino – nel cuore del mercato più vivace e colorato della città.",quoteAuthor:"Un viaggio tra profumi, colori e armonie floreali",servicesTitle:"Nel nostro negozio puoi trovare:",services:["Fiori freschi per ogni occasione","Piante da interno ed esterno per decorare con la natura","Fiori finti di alta qualità, ideali per decorazioni durature","Servizi floreali su misura per cerimonie, eventi e ambienti"],stats:{years:"Anni di Esperienza",customers:"Clienti Felici",varieties:"Varietà di Fiori"},closingMessage:"Vieni a trovarci da Francesco Fiori & Piante e porta un tocco di natura nella tua vita.",tagline:"Creiamo bellezza, un fiore alla volta"},en:{title:"About Francesco Fiori & Piante",storyTitle:"Our Story",paragraph1:"Francesco Fiori & Piante was born from a passion for natural beauty and artisanal experience passed down through time. From the most delicate moments like funerals, to the most beautiful days like weddings, we offer floral arrangements created with love and care.",paragraph2:"Our creations are born from a deep passion for natural beauty. Only selected flowers, only elegance made in Turin. 🌼 Located inside the Porta Palazzo Market, we offer artisanal experience and passion for natural beauty.",quote:"📍 Find us at Porta Palazzo, Turin – in the heart of the city's most vibrant and colorful market.",quoteAuthor:"A journey through scents, colors and floral harmonies",servicesTitle:"In our shop you can find:",services:["Fresh flowers for every occasion","Indoor and outdoor plants to decorate with nature","High quality fake flowers, ideal for long-lasting decorations","Tailor-made floral services for ceremonies, events, and environments"],stats:{years:"Years Experience",customers:"Happy Customers",varieties:"Flower Varieties"},closingMessage:"Come visit us at Francesco Fiori & Piante and bring a touch of nature into your life.",tagline:"Creating beauty, one flower at a time"},fr:{title:"À Propos de Francesco Fiori & Piante",storyTitle:"Notre Histoire",paragraph1:"Francesco Fiori & Piante est né d'une passion pour la beauté naturelle et l'expérience artisanale transmise à travers le temps. Des moments les plus délicats comme les funérailles, aux plus beaux jours comme les mariages, nous offrons des arrangements floraux créés avec amour et soin.",paragraph2:"Nos créations naissent d'une passion profonde pour la beauté naturelle. Seulement des fleurs sélectionnées, seulement l'élégance made in Turin. 🌼 Situés à l'intérieur du Marché de Porta Palazzo, nous offrons une expérience artisanale et une passion pour la beauté naturelle.",quote:"📍 Trouvez-nous à Porta Palazzo, Turin – au cœur du marché le plus vivant et coloré de la ville.",quoteAuthor:"Un voyage à travers les parfums, couleurs et harmonies florales",servicesTitle:"Dans notre boutique vous pouvez trouver:",services:["Fleurs fraîches pour chaque occasion","Plantes d'intérieur et d'extérieur pour décorer avec la nature","Fleurs artificielles de haute qualité, idéales pour des décorations durables","Services floraux sur mesure pour cérémonies, événements et environnements"],stats:{years:"Années d'Expérience",customers:"Clients Satisfaits",varieties:"Variétés de Fleurs"},closingMessage:"Venez nous rendre visite chez Francesco Fiori & Piante et apportez une touche de nature dans votre vie.",tagline:"Créer la beauté, une fleur à la fois"},ar:{title:"حول فرانشيسكو فيوري وبيانتي",storyTitle:"قصتنا",paragraph1:"ولد فرانشيسكو فيوري وبيانتي من شغف بالجمال الطبيعي والخبرة الحرفية المتوارثة عبر الزمن. من اللحظات الأكثر حساسية مثل الجنازات، إلى أجمل الأيام مثل حفلات الزفاف، نقدم تنسيقات زهرية مصنوعة بحب وعناية.",paragraph2:"إبداعاتنا تولد من شغف عميق بالجمال الطبيعي. فقط زهور مختارة، فقط أناقة صنع في تورين. 🌼 تقع داخل سوق بورتا بالازو، نقدم خبرة حرفية وشغف بالجمال الطبيعي.",quote:"📍 اعثر علينا في بورتا بالازو، تورين – في قلب أكثر أسواق المدينة حيوية وألوانًا.",quoteAuthor:"رحلة عبر العطور والألوان والتناغمات الزهرية",servicesTitle:"في متجرنا يمكنك أن تجد:",services:["زهور طازجة لكل مناسبة","نباتات داخلية وخارجية للتزيين بالطبيعة","زهور صناعية عالية الجودة، مثالية للديكورات طويلة الأمد","خدمات زهرية مخصصة للاحتفالات والفعاليات والبيئات"],stats:{years:"سنوات الخبرة",customers:"عملاء سعداء",varieties:"أنواع الزهور"},closingMessage:"تعال لزيارتنا في فرانشيسكو فيوري وبيانتي وأضف لمسة من الطبيعة إلى حياتك.",tagline:"نخلق الجمال، زهرة واحدة في كل مرة"},fa:{title:"درباره فرانچسکو فیوری و پیانته",storyTitle:"داستان ما",paragraph1:"فرانچسکو فیوری و پیانته از عشق به زیبایی طبیعی و تجربه صنعتگری که در طول زمان منتقل شده، متولد شد. از حساس‌ترین لحظات مانند تشییع جنازه، تا زیباترین روزها مانند عروسی، ما تنظیمات گل ارائه می‌دهیم که با عشق و مراقبت ساخته شده‌اند.",paragraph2:"آثار ما از عشق عمیق به زیبایی طبیعی متولد می‌شوند. فقط گل‌های انتخابی، فقط ظرافت ساخت تورین. 🌼 واقع در داخل بازار پورتا پالازو، ما تجربه صنعتگری و عشق به زیبایی طبیعی ارائه می‌دهیم.",quote:"📍 ما را در پورتا پالازو، تورین پیدا کنید – در قلب پر جنب و جوش‌ترین و رنگارنگ‌ترین بازار شهر.",quoteAuthor:"سفری در میان عطرها، رنگ‌ها و هارمونی‌های گل",servicesTitle:"در فروشگاه ما می‌توانید پیدا کنید:",services:["گل‌های تازه برای هر مناسبت","گیاهان داخلی و خارجی برای تزیین با طبیعت","گل‌های مصنوعی با کیفیت بالا، ایده‌آل برای تزیینات بادوام","خدمات گل سفارشی برای مراسم، رویدادها و محیط‌ها"],stats:{years:"سال تجربه",customers:"مشتریان خوشحال",varieties:"انواع گل"},closingMessage:"برای دیدن ما به فرانچسکو فیوری و پیانته بیایید و لمسی از طبیعت را به زندگی‌تان بیاورید.",tagline:"خلق زیبایی، یک گل در هر زمان"}},n=r[e]||r.it;return a.jsx("section",{id:"about",className:"py-20 bg-gradient-to-br from-emerald-50 via-peach-50 to-amber-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(ms,{className:"mx-auto text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-coral-500 mb-4",size:48}),a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6 font-playfair",children:n.title})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 font-playfair",children:n.storyTitle}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed font-inter",children:n.paragraph1}),a.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed font-inter",children:n.paragraph2}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3 font-playfair",children:n.servicesTitle}),a.jsx("ul",{className:"space-y-2",children:n.services.map((i,o)=>a.jsxs("li",{className:"flex items-start gap-3 text-gray-600 font-inter",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-peach-400 to-coral-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:i})]},o))})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-peach-50 to-coral-50 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-peach-600 to-coral-600 font-playfair",children:"20+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.years})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-emerald-700 font-playfair",children:"5000+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.customers})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl",children:[a.jsx("div",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 to-coral-600 font-playfair",children:"100+"}),a.jsx("div",{className:"text-sm text-gray-600 font-inter",children:n.stats.varieties})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-2xl",children:a.jsx("img",{src:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",alt:"Francesco Florist at work",className:"rounded-xl"})}),a.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-gradient-to-br from-white to-peach-50 p-6 rounded-xl shadow-lg border border-peach-200 max-w-sm",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800 font-playfair mb-3",children:n.quote}),n.quote&&a.jsx("ul",{className:"text-xs text-gray-600 font-inter space-y-1",children:n.services.map((i,o)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-peach-500 mr-2",children:"•"}),a.jsx("span",{children:i})]},o))}),n.quoteAuthor&&a.jsx("p",{className:"text-xs text-gray-600 font-inter italic mt-2",children:n.quoteAuthor})]})]})]}),a.jsx("div",{className:"mt-16 text-center",children:a.jsxs("div",{className:"bg-gradient-to-br from-white to-peach-50 p-8 rounded-2xl shadow-lg border border-peach-200 max-w-3xl mx-auto",children:[a.jsx("p",{className:"text-lg text-gray-700 font-inter leading-relaxed mb-4",children:n.closingMessage}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-peach-600",children:[a.jsx(ms,{size:20}),a.jsx("span",{className:"text-sm font-medium",children:n.tagline}),a.jsx(ms,{size:20})]})]})})]})})})},Rl=()=>a.jsx("footer",{className:"bg-gray-800 text-white py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("div",{className:"flex items-center space-x-3 mb-4",children:a.jsx("img",{src:"/lovable-uploads/c329c8f3-84d0-4928-bcae-d840d21eb631.png",alt:"Francesco Fiori & Piante",className:"h-8 w-auto filter brightness-0 invert"})}),a.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"Creating beautiful floral arrangements and providing premium plants for over 20 years. Your trusted partner for life's special moments."}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("p",{children:"Via dei Fiori 123, 00100 Roma, Italy"}),a.jsx("p",{children:"Tel: +39 06 1234 5678"}),a.jsx("p",{children:"Email: info@francescofiori.it"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsx("li",{children:a.jsx("a",{href:"#home",className:"hover:text-yellow-400 transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"#flowers",className:"hover:text-yellow-400 transition-colors",children:"Flowers"})}),a.jsx("li",{children:a.jsx("a",{href:"#plants",className:"hover:text-yellow-400 transition-colors",children:"Plants"})}),a.jsx("li",{children:a.jsx("a",{href:"#bouquets",className:"hover:text-yellow-400 transition-colors",children:"Bouquets"})}),a.jsx("li",{children:a.jsx("a",{href:"#about",className:"hover:text-yellow-400 transition-colors",children:"About"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Services"}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsx("li",{children:"Wedding Arrangements"}),a.jsx("li",{children:"Corporate Events"}),a.jsx("li",{children:"Funeral Flowers"}),a.jsx("li",{children:"Plant Care Services"}),a.jsx("li",{children:"Custom Bouquets"})]})]})]}),a.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:a.jsx("p",{children:"© 2024 Francesco Fiori & Piante. All rights reserved."})})]})}),q4=()=>a.jsxs("div",{className:"min-h-screen font-inter overflow-x-hidden",children:[a.jsx(Il,{}),a.jsx(zt,{componentName:"Hero",children:a.jsx("div",{className:"animate-fade-in-up",children:a.jsx(QR,{})})}),a.jsx(zt,{componentName:"Categories",children:a.jsx("div",{className:"animate-fade-in-left animate-stagger-1",children:a.jsx(A4,{})})}),a.jsx(zt,{componentName:"Products",children:a.jsx("div",{className:"animate-fade-in-right animate-stagger-2",children:a.jsx(NN,{})})}),a.jsx(zt,{componentName:"About",children:a.jsx("div",{className:"animate-slide-in-up animate-stagger-3",children:a.jsx(H4,{})})}),a.jsx(zt,{componentName:"Footer",children:a.jsx("div",{className:"animate-fade-in-up animate-stagger-4",children:a.jsx(Rl,{})})})]}),ly=[{name:"Fiori & Piante",slug:"fiori-piante",description:"Fiori freschi e piante di qualità premium",image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:1},{name:"Fiori Finti",slug:"fiori-finti",description:"Eleganti composizioni artificiali",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:2},{name:"Matrimoni",slug:"matrimoni",description:"Allestimenti floreali per il giorno speciale",image_url:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:3},{name:"Funerali",slug:"funerali",description:"Composizioni di cordoglio e commemorazione",image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,sort_order:4}];async function Ep(){try{console.log("[InitCategories] Checking if categories need to be initialized...");const{data:e,error:t}=await B.from("categories").select("id").limit(1);if(t)return console.error("[InitCategories] Error checking existing categories:",t),console.error("[InitCategories] Error details:",t.message,t.details),console.log("[InitCategories] This might mean the categories table does not exist"),!1;if(e&&e.length>0)return console.log("[InitCategories] Categories already exist, skipping initialization"),console.log("[InitCategories] Found",e.length,"existing categories"),!0;console.log("[InitCategories] No categories found, initializing default categories..."),console.log("[InitCategories] Default categories to insert:",ly);const{data:r,error:n}=await B.from("categories").insert(ly).select();return n?(console.error("[InitCategories] Error inserting default categories:",n),console.error("[InitCategories] Error details:",n.message,n.details),!1):(console.log("[InitCategories] Default categories initialized successfully"),console.log("[InitCategories] Inserted categories:",r),!0)}catch(e){return console.error("[InitCategories] Error in initializeCategories:",e),!1}}const jN=async(e=!1)=>{try{if(console.log("[InitializeProducts] Starting product initialization..."),!e){const{data:d,error:m}=await B.from("products").select("id").limit(1);if(m)return console.error("[InitializeProducts] Error checking existing products:",m),!1;if(d&&d.length>0)return console.log("[InitializeProducts] Products already exist, skipping initialization"),!0}const{data:t,error:r}=await B.from("categories").select("id, name, slug");if(r)return console.error("[InitializeProducts] Error fetching categories:",r),!1;if(!t||t.length===0)return console.error("[InitializeProducts] No categories found. Please initialize categories first."),!1;const n=t.reduce((d,m)=>(d[m.slug]=m.id,d),{});console.log("[InitializeProducts] Category mapping:",n);const i=[{name:"Bouquet Sposa Elegante",description:"Bouquet raffinato con rose bianche e peonie per il giorno più importante",price:85,slug:"bouquet-sposa-elegante",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:10,sort_order:1},{name:"Centrotavola Matrimonio",description:"Elegante centrotavola con fiori misti e candele per ricevimento",price:45,slug:"centrotavola-matrimonio",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:15,sort_order:2},{name:"Addobbo Chiesa",description:"Composizione floreale per altare con fiori bianchi e verdi",price:120,slug:"addobbo-chiesa",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:5,sort_order:3},{name:"Bouquet Damigelle",description:"Piccoli bouquet coordinati per le damigelle d'onore",price:35,slug:"bouquet-damigelle",category_id:n.matrimoni,image_url:"https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:20,sort_order:4},{name:"Bouquet Rose Rosse",description:"Classico bouquet di rose rosse fresche, simbolo di amore eterno",price:55,slug:"bouquet-rose-rosse",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:25,sort_order:1},{name:"Pianta Monstera",description:"Elegante pianta da interno, perfetta per decorare casa o ufficio",price:35,slug:"pianta-monstera",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:12,sort_order:2},{name:"Gigli Bianchi",description:"Freschi gigli bianchi dal profumo delicato e raffinato",price:40,slug:"gigli-bianchi",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1466721591366-2d5fba72006d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:18,sort_order:3},{name:"Composizione Mista",description:"Colorata composizione con fiori di stagione in vaso decorativo",price:65,slug:"composizione-mista",category_id:n["fiori-piante"],image_url:"https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:8,sort_order:4},{name:"Orchidea Artificiale",description:"Elegante orchidea artificiale di alta qualità, indistinguibile dal vero",price:45,slug:"orchidea-artificiale",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:15,sort_order:1},{name:"Bouquet Peonie Finte",description:"Splendido bouquet di peonie artificiali per decorazioni durature",price:38,slug:"bouquet-peonie-finte",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:20,sort_order:2},{name:"Centro Tavola Artificiale",description:"Composizione artificiale per tavolo con fiori misti colorati",price:52,slug:"centro-tavola-artificiale",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:10,sort_order:3},{name:"Piante Grasse Artificiali",description:"Set di piante grasse artificiali in vasi decorativi moderni",price:28,slug:"piante-grasse-artificiali",category_id:n["fiori-finti"],image_url:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:25,sort_order:4},{name:"Corona Funebre Classica",description:"Elegante corona funebre con fiori bianchi e verdi per ultimo saluto",price:75,slug:"corona-funebre-classica",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!0,stock_quantity:8,sort_order:1},{name:"Cuscino Floreale",description:"Cuscino floreale di cordoglio con fiori freschi e nastro personalizzato",price:65,slug:"cuscino-floreale",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:12,sort_order:2},{name:"Mazzo di Cordoglio",description:"Sobrio mazzo di fiori bianchi per esprimere vicinanza nel dolore",price:45,slug:"mazzo-di-cordoglio",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:15,sort_order:3},{name:"Composizione Commemorativa",description:"Composizione floreale per commemorazione con fiori di stagione",price:55,slug:"composizione-commemorativa",category_id:n.funerali,image_url:"https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",is_active:!0,is_featured:!1,stock_quantity:10,sort_order:4}].filter(d=>d.category_id);if(i.length===0)return console.error("[InitializeProducts] No valid products to insert (missing categories)"),!1;console.log(`[InitializeProducts] Inserting ${i.length} products...`);const{data:o,error:l}=await B.from("products").select("slug");if(l)return console.error("[InitializeProducts] Error checking existing products:",l),!1;const c=new Set((o==null?void 0:o.map(d=>d.slug))||[]),u=i.filter(d=>!c.has(d.slug));if(u.length===0)return console.log("[InitializeProducts] All products already exist"),!0;console.log(`[InitializeProducts] Inserting ${u.length} new products...`);const{error:f}=await B.from("products").insert(u);return f?(console.error("[InitializeProducts] Error inserting products:",f),!1):(console.log("[InitializeProducts] Products initialized successfully"),!0)}catch(t){return console.error("[InitializeProducts] Error during initialization:",t),!1}};async function V4(){try{console.log("[InitDB] Ensuring settings table exists...");const{error:e}=await B.rpc("exec_sql",{sql:`
        CREATE TABLE IF NOT EXISTS settings (
          key TEXT PRIMARY KEY,
          value JSONB,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );

        CREATE INDEX IF NOT EXISTS idx_settings_key ON settings(key);
        CREATE INDEX IF NOT EXISTS idx_settings_updated_at ON settings(updated_at);

        -- Enable RLS
        ALTER TABLE settings ENABLE ROW LEVEL SECURITY;

        -- Create RLS policies
        DROP POLICY IF EXISTS "Allow public read access to settings" ON settings;
        CREATE POLICY "Allow public read access to settings"
          ON settings
          FOR SELECT
          USING (true);

        DROP POLICY IF EXISTS "Allow authenticated users to update settings" ON settings;
        CREATE POLICY "Allow authenticated users to update settings"
          ON settings
          FOR UPDATE
          USING (auth.role() = 'authenticated')
          WITH CHECK (auth.role() = 'authenticated');

        DROP POLICY IF EXISTS "Allow authenticated users to insert settings" ON settings;
        CREATE POLICY "Allow authenticated users to insert settings"
          ON settings
          FOR INSERT
          WITH CHECK (auth.role() = 'authenticated');
      `});return e?console.log("[InitDB] Settings table creation via RPC failed, table might already exist:",e.message):console.log("[InitDB] Settings table ensured"),!0}catch(e){return console.error("[InitDB] Error ensuring settings table:",e),!0}}async function W4(){try{console.log("[InitDB] Ensuring content_sections table exists...");const{error:e}=await B.rpc("exec_sql",{sql:`
        CREATE TABLE IF NOT EXISTS content_sections (
          id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
          section_key TEXT NOT NULL UNIQUE,
          section_name TEXT NOT NULL,
          content_type TEXT NOT NULL,
          content_value TEXT,
          metadata JSONB,
          is_active BOOLEAN DEFAULT true,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        );

        CREATE INDEX IF NOT EXISTS idx_content_sections_section_key ON content_sections(section_key);
        CREATE INDEX IF NOT EXISTS idx_content_sections_active ON content_sections(is_active);
        CREATE INDEX IF NOT EXISTS idx_content_sections_metadata ON content_sections USING GIN(metadata);
      `});return e?console.log("[InitDB] Table creation via RPC failed, table might already exist:",e.message):console.log("[InitDB] Content sections table ensured"),!0}catch(e){return console.error("[InitDB] Error ensuring content_sections table:",e),!0}}async function Nd(){try{if(console.log("[InitDB] Starting comprehensive database initialization..."),console.log("[InitDB] Step 0a: Ensuring settings table..."),await V4(),console.log("[InitDB] Step 0b: Ensuring content_sections table..."),await W4(),console.log("[InitDB] Step 1: Initializing categories..."),!await Ep())return console.error("[InitDB] Failed to initialize categories"),!1;if(console.log("[InitDB] Categories initialized successfully"),console.log("[InitDB] Step 2: Initializing products..."),!await jN())return console.error("[InitDB] Failed to initialize products"),!1;console.log("[InitDB] Products initialized successfully"),console.log("[InitDB] Step 3: Initializing content sections...");const r=[{section_key:"hero_main_content",section_name:"Hero Section - Main Content",content_type:"json",content_value:JSON.stringify({heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),metadata:{section:"hero"},is_active:!0},{section_key:"category_matrimoni_images",section_name:"Category Images: Matrimoni",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1606800052052-a08af7148866?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1521543298264-785fba19d562?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_matrimoni_features",section_name:"Matrimoni - Features",content_type:"json",content_value:JSON.stringify(["Consulenza personalizzata","Bouquet sposa e damigelle","Allestimenti chiesa e location","Centrotavola e decorazioni","Addobbi floreali completi","Servizio completo per matrimoni"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_matrimoni_explanation",section_name:"Matrimoni - Explanation",content_type:"textarea",content_value:"Rendiamo unico il giorno più importante della tua vita con allestimenti floreali personalizzati per matrimoni. Bouquet da sposa, centrotavola, archi floreali e decorazioni per chiesa e location: tutto viene progettato su misura per raccontare la vostra storia d'amore con i fiori.",metadata:{section:"categories"},is_active:!0},{section_key:"category_fiori_piante_images",section_name:"Category Images: Fiori & Piante",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1518335935020-cfd6580c1ab4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_fiori_finti_images",section_name:"Category Images: Fiori Finti",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1502780402662-acc01917738e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1454391304352-2bf4678b1a7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0},{section_key:"category_funerali_images",section_name:"Category Images: Funerali",content_type:"json",content_value:JSON.stringify(["https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1595207759571-3a4df3c49230?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1490750967868-88aa4486c946?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80","https://images.unsplash.com/photo-1583160247711-2191776b4b91?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"]),metadata:{section:"categories"},is_active:!0}],{data:n,error:s}=await B.from("content_sections").select("section_key").in("section_key",r.map(u=>u.section_key));if(s)return console.error("[InitDB] Error checking existing sections:",s),!1;const i=(n==null?void 0:n.map(u=>u.section_key))||[],o=r.filter(u=>!i.includes(u.section_key));if(o.length===0)return console.log("[InitDB] All category content sections already exist"),!0;console.log(`[InitDB] Inserting ${o.length} new content sections...`);const{data:l,error:c}=await B.from("content_sections").insert(o).select();return c?(console.error("[InitDB] Error inserting content sections:",c),!1):(console.log("[InitDB] Successfully inserted content sections:",l),console.log("[InitDB] Step 4: Initializing default settings..."),await G4(),!0)}catch(e){return console.error("[InitDB] Error in initializeDatabase:",e),!1}}async function G4(){try{console.log("[InitDB] Initializing default settings...");const e=[{key:"heroContent",value:{heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}},{key:"logoSettings",value:{logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"}},{key:"aboutContent",value:{heading:"Chi Siamo",subheading:"Passione per la bellezza naturale e l'arte floreale",backgroundImage:"",backgroundColor:"#FEF7CD",paragraphs:["Francesco Fiori & Piante offre composizioni floreali per ogni occasione, dai funerali ai matrimoni. Troverai fiori freschi, piante da interno ed esterno, fiori finti di alta qualità e servizi su misura. Situati all'interno del Mercato di Porta Palazzo a Torino, portiamo esperienza artigianale e passione per la bellezza naturale."]}},{key:"restaurantSettings",value:{totalSeats:50,reservationDuration:120,openingTime:"11:30",closingTime:"22:00",languages:["it","en","ar","fa"],defaultLanguage:"it"}},{key:"contactContent",value:{address:"Piazza della Repubblica, 10100 Torino TO",phone:"+393498851455",email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"}}],{data:t,error:r}=await B.from("settings").select("key").in("key",e.map(o=>o.key));if(r)return console.error("[InitDB] Error checking existing settings:",r),!1;const n=(t==null?void 0:t.map(o=>o.key))||[],s=e.filter(o=>!n.includes(o.key));if(s.length===0)return console.log("[InitDB] All default settings already exist"),!0;console.log(`[InitDB] Inserting ${s.length} new settings...`);const{error:i}=await B.from("settings").insert(s);return i?(console.error("[InitDB] Error inserting settings:",i),!1):(console.log("[InitDB] Successfully inserted default settings"),!0)}catch(e){return console.error("[InitDB] Error in initializeDefaultSettings:",e),!1}}async function CN(){try{console.log("[InitDB] Testing database connection...");const{data:e,error:t}=await B.from("content_sections").select("count").limit(1);return t?(console.error("[InitDB] Database connection failed:",t),!1):(console.log("[InitDB] Database connection successful"),!0)}catch(e){return console.error("[InitDB] Database connection error:",e),!1}}const K4=Object.freeze(Object.defineProperty({__proto__:null,initializeDatabase:Nd,testDatabaseConnection:CN},Symbol.toStringTag,{value:"Module"})),Ol=({currentImage:e,onImageSelected:t,onMultipleImagesSelected:r,buttonLabel:n,className:s,bucketName:i="specialties",folderPath:o,acceptedFileTypes:l="image/*",maxFileSize:c=10*1024*1024,multiple:u=!1,maxFiles:f=10})=>{const[d,m]=N.useState(!1),[p,h]=N.useState(e),[v,b]=N.useState([]),[g,x]=N.useState(null),[y,w]=N.useState({}),S=N.useRef(null),{toast:j}=De();T0.useEffect(()=>{e!==p&&h(e)},[e]);const C=async T=>{const A=T.target.files;if(!A||A.length===0)return;const _=Array.from(A);if(_.length>1&&!u){j({title:"Multiple files not allowed",description:"Please select only one file",variant:"destructive"});return}if(u&&_.length>f){j({title:"Too many files",description:`Please select no more than ${f} files`,variant:"destructive"});return}for(const P of _)if(P.size>c){const O=Math.round(c/1048576);j({title:"File too large",description:`${P.name} exceeds ${O}MB limit`,variant:"destructive"});return}m(!0),x(null),w({}),console.log(`Starting upload for ${_.length} file(s)`),console.log("Using bucket:",i,"and folder:",o||"root");try{const P=_[0],O=P.name.split(".").pop(),R=`${Date.now()}-${Math.random().toString(36).substring(2)}.${O}`,$=o?`${o}/${R}`:R,{data:L,error:M}=await B.storage.listBuckets();if(!M&&L){if(!L.find(Y=>Y.name===i)){console.log(`Bucket ${i} not found. Available buckets:`,L.map(fe=>fe.name)),console.log(`Attempting to create ${i} bucket...`);const{error:Y}=await B.storage.createBucket(i,{public:!0,fileSizeLimit:52428800});Y?(console.warn("Could not create bucket:",Y),console.log("Will proceed with upload anyway...")):console.log(`Successfully created ${i} bucket`)}}else M&&(console.warn("Could not list buckets:",M),console.log("Will proceed with upload anyway..."));const{data:I,error:F}=await B.storage.from(i).upload($,P,{cacheControl:"3600",upsert:!0});if(F)throw console.error("Upload error:",F),new Error(F.message||"Failed to upload file");if(!I)throw new Error("No data returned from upload");const{data:z}=B.storage.from(i).getPublicUrl($),K=z.publicUrl;console.log("File uploaded successfully:",K),console.log("📤 ImageUploader: Calling onImageSelected with URL:",K),t(K),h(K),console.log("📤 ImageUploader: Preview image set to:",K);const V=l.includes("audio");j({title:V?"Audio uploaded":"Image uploaded",description:V?"The audio file has been uploaded successfully":"The image has been uploaded successfully"})}catch(P){console.error("Error uploading files:",P),x(P.message||"Upload failed"),j({title:"Upload failed",description:P.message||"There was an error uploading your files. Please try again.",variant:"destructive"})}finally{m(!1),w({})}},E=()=>{S.current&&S.current.click()};return a.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-4 ${s||""}`,children:[a.jsx("input",{ref:S,type:"file",accept:l,onChange:C,multiple:u,className:"hidden"}),d?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32",children:[a.jsx(we,{className:"h-10 w-10 animate-spin text-peach-500"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Uploading..."})]}):p?a.jsxs("div",{className:"relative",children:[l.includes("audio")?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 bg-gray-50 rounded-md",children:[a.jsx(um,{size:32,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Audio file uploaded"}),a.jsxs("audio",{controls:!0,className:"mt-2 max-w-full",children:[a.jsx("source",{src:p}),"Your browser does not support the audio element."]})]}):a.jsx("img",{src:p,alt:"Selected image",className:"max-h-48 mx-auto rounded-md object-contain",onError:T=>{const A=T.target;A.src="/placeholder.svg",console.error("Failed to load image:",p)}}),a.jsx(U,{type:"button",onClick:E,className:"absolute top-2 right-2 bg-peach-500/70 hover:bg-peach-600 text-white rounded-full p-1",size:"icon",children:a.jsx(db,{size:16})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 cursor-pointer",onClick:E,children:[l.includes("audio")?a.jsx(um,{size:32,className:"text-gray-400 mb-2"}):a.jsx(Qp,{size:32,className:"text-gray-400 mb-2"}),a.jsx("p",{className:"text-center text-sm text-gray-500",children:n||(l.includes("audio")?"Click to upload an audio file":"Click to upload an image")}),g&&a.jsx("p",{className:"text-center text-xs text-red-500 mt-2",children:g})]})]})},cy=e=>{try{return typeof e=="object"&&e!==null?e:JSON.parse(JSON.stringify(e))}catch(t){throw console.error("Error parsing JSON:",t),t}};class Q4{constructor(){ze(this,"subscribers",{});ze(this,"initialized",!1);ze(this,"settingsCache",{});ze(this,"initializationPromise",null);ze(this,"initializationInProgress",!1)}async initialize(){if(!this.initialized){if(this.initializationPromise)return this.initializationPromise;if(this.initializationInProgress)return await new Promise(t=>setTimeout(t,100)),this.initialize();this.initializationInProgress=!0,this.initializationPromise=this._initialize();try{await this.initializationPromise}finally{this.initializationInProgress=!1}return this.initializationPromise}}async _initialize(){try{const t=B.from("settings").select("key").limit(1),r=new Promise((i,o)=>{setTimeout(()=>o(new Error("Settings check timed out")),5e3)});let n;try{n=await Promise.race([t,r])}catch(i){console.warn("Settings check failed, proceeding anyway:",i),n={data:[]}}const s=(n==null?void 0:n.data)||[];if(!s||s.length===0){console.log("No settings found, initializing defaults");const i={totalSeats:50,reservationDuration:120,openingTime:"11:30",closingTime:"22:00",languages:["it","en","ar","fa"],defaultLanguage:"it"},o={address:"Piazza della Repubblica, 10100 Torino TO",phone:"+393498851455",email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"},l={heading:"La Nostra Galleria",subheading:"Scorci delle nostre creazioni floreali e dell'atmosfera del negozio"},c=[{id:"1",src:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Saffron Rice with Tahdig",featured:!0},{id:"2",src:"https://images.unsplash.com/photo-1486718448742-163732cd1544?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Traditional Kabab Platter",featured:!1},{id:"3",src:"https://images.unsplash.com/photo-1482881497185-d4a9ddbe4151?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Persian Dessert Selection",featured:!1},{id:"4",src:"https://images.unsplash.com/photo-1460574283810-2aab119d8511?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Restaurant Interior",featured:!0},{id:"5",src:"https://images.unsplash.com/photo-1494891848038-7bd202a2afeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Architectural Details",featured:!1},{id:"6",src:"https://images.unsplash.com/photo-1466442929976-97f336a657be?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Persian Dining Experience",featured:!0}],u={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},f=[this.updateSetting("restaurantSettings",i),this.updateSetting("contactContent",o),this.updateSetting("galleryContent",l),this.updateSetting("galleryImages",c),this.updateSetting("logoSettings",u),this.updateSetting("popups",[]),this.updateSetting("reservations",[])];await Promise.allSettled(f),console.log("Settings initialized in database")}else console.log("Settings already exist in database, skipping initialization");console.log("🚫 [SettingsService] localStorage operations disabled - using database only"),this.initialized=!0}catch(t){console.error("Error initializing settings:",t)}finally{this.initializationPromise=null}}_preloadFromLocalStorage(){console.log("🚫 [SettingsService] localStorage preloading disabled - using database only")}async getSetting(t,r,n){try{if(console.log(`🔍 [SettingsService] Fetching ${t} from DATABASE ONLY (no localStorage)`),this.settingsCache[t])return console.log(`📋 [SettingsService] Found ${t} in memory cache`),this.settingsCache[t];console.log(`🌐 [SettingsService] Fetching ${t} from Supabase database...`);const s=B.from("settings").select("*").eq("key",t).single();if(n!=null&&n.aborted)throw new Error("Aborted");const i=new Promise((l,c)=>{setTimeout(()=>c(new Error("Supabase request timed out")),15e3)}),o=await Promise.race([s,i]);if(o.error)throw o.error;return this.settingsCache[t]=o.data.value,console.log(`✅ [SettingsService] Successfully fetched ${t} from database`),console.log(`📄 [SettingsService] ${t} data:`,JSON.stringify(o.data.value,null,2)),o.data.value}catch(s){if(n!=null&&n.aborted)throw new Error("Request aborted");return console.warn(`⚠️ [SettingsService] Error getting setting ${t} from database:`,s),r}}subscribe(t,r){return this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push(r),()=>{this.subscribers[t]=this.subscribers[t].filter(n=>n!==r)}}notifySubscribers(t,r){this.subscribers[t]&&this.subscribers[t].forEach(n=>{try{n(r)}catch(s){console.error(`Error in subscriber callback for ${t}:`,s)}});try{window.dispatchEvent(new Event("databaseUpdated")),window.dispatchEvent(new CustomEvent("databaseChange",{detail:{key:t,value:r}}))}catch(n){console.warn("Error dispatching database events:",n)}}async saveContentChanges(t,r){try{console.log(`💾 [SettingsService] Saving ${t} content to DATABASE ONLY:`,r),this.settingsCache[`${t}Content`]=r;try{const s=cy(r),{error:i}=await B.from("settings").upsert({key:`${t}Content`,value:s,updated_at:new Date().toISOString()},{onConflict:"key"});if(i)throw console.error(`❌ [SettingsService] Database save error for ${t}Content:`,i),i;console.log(`✅ [SettingsService] Successfully saved ${t} content to database`)}catch(s){throw console.error(`❌ [SettingsService] Database save for ${t}Content failed:`,s),s}const n=Date.now();return window.dispatchEvent(new CustomEvent("databaseUpdated",{detail:{key:`${t}Content`,timestamp:n}})),!0}catch(n){return console.error(`❌ [SettingsService] Error saving ${t} content:`,n),!1}}async updateSetting(t,r){try{console.log(`💾 [SettingsService] Updating ${t} in DATABASE ONLY:`,r),this.settingsCache[t]=r;try{const n=cy(r),{error:s}=await B.from("settings").upsert({key:t,value:n,updated_at:new Date().toISOString()},{onConflict:"key"});if(s)throw console.error(`❌ [SettingsService] Database error updating ${t}:`,s),s;console.log(`✅ [SettingsService] Successfully updated ${t} in database`)}catch(n){throw console.error(`❌ [SettingsService] Database update for ${t} failed:`,n),n}return this.notifySubscribers(t,r),!0}catch(n){return console.error(`❌ [SettingsService] Error updating setting ${t}:`,n),!1}}cleanup(){this.subscribers={},this.settingsCache={},this.initialized=!1,this.initializationPromise=null,this.initializationInProgress=!1}}const kn=new Q4,EN=Object.freeze(Object.defineProperty({__proto__:null,settingsService:kn},Symbol.toStringTag,{value:"Module"}));function PN(e,t){const[r,n]=N.useState(t),[s,i]=N.useState(!0),[o,l]=N.useState(navigator.onLine);N.useEffect(()=>{const f=()=>{l(!0),c()},d=()=>l(!1);return window.addEventListener("online",f),window.addEventListener("offline",d),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",d)}},[]),N.useEffect(()=>{const f=B.channel(`public:settings:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:`key=eq.${e}`},d=>{var m;if(console.log(`Settings: Received realtime update for ${e}:`,d),d.new&&((m=d.new)==null?void 0:m.value)!==void 0)try{const p=d.new.value;n(p),console.log(`Settings: Updated ${e} via Supabase realtime`),localStorage.setItem(e,JSON.stringify(p))}catch(p){console.warn(`Settings: Error processing realtime update for ${e}:`,p)}}).subscribe();return()=>{B.removeChannel(f)}},[e]);const c=N.useCallback(async()=>{i(!0);try{console.log(`[useSetting] Loading setting: ${e}`);const f=kn.getSetting(e,t),d=new Promise((p,h)=>{setTimeout(()=>h(new Error(`Timeout loading setting ${e}`)),1e4)}),m=await Promise.race([f,d]);console.log(`[useSetting] Loaded setting ${e}:`,m),n(m)}catch(f){console.error(`[useSetting] Error loading setting ${e}:`,f),console.log(`[useSetting] Using default value for ${e}:`,t),n(t)}finally{i(!1)}},[e,t]);return N.useEffect(()=>{const d=(async()=>{try{console.log(`[useSetting] Initializing settings service for ${e}`),await kn.initialize(),await c();const m=kn.subscribe(e,h=>{console.log(`[useSetting] Received subscription update for ${e}:`,h),n(h)}),p=h=>{var g;const v=h,b=h;((v==null?void 0:v.key)===e||((g=b==null?void 0:b.detail)==null?void 0:g.key)===e)&&(console.log(`[useSetting] Storage event detected for ${e}, reloading...`),c())};return window.addEventListener("storage",p),window.addEventListener("localStorageUpdated",p),()=>{m(),window.removeEventListener("storage",p),window.removeEventListener("localStorageUpdated",p)}}catch(m){return console.error(`[useSetting] Error initializing settings for ${e}:`,m),n(t),i(!1),()=>{}}})();return()=>{d.then(m=>{typeof m=="function"&&m()}).catch(m=>{console.warn(`[useSetting] Error during cleanup for ${e}:`,m)})}},[e,c,t]),[r,async f=>{const d=await kn.updateSetting(e,f);return d&&n(f),d},s]}function Y4(){return PN("logoSettings",{logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"})}function kN(){return PN("heroContent",{heading:"Francesco Fiori & Piante",subheading:"Creazioni floreali uniche per ogni occasione speciale",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})}const Vf=({section:e,onSave:t,saving:r})=>{const{toast:n}=De(),[s,i]=N.useState(!1),[o,l]=N.useState(""),[c,u,f]=kN();N.useEffect(()=>{l(e.content_value||"")},[e.content_value]);let d;try{d=e.content_value?JSON.parse(e.content_value):{}}catch{d={}}const m=async()=>{try{e.section_key.includes("hero")&&d.backgroundImage&&(console.log("🚀 ContentEditor: Updating hero content in settings table"),await u({heading:d.heading||"",subheading:d.subheading||"",backgroundImage:d.backgroundImage||""}),console.log("✅ ContentEditor: Hero content updated in settings table")),t(e.id,o),i(!1),n({title:"Success",description:"Content updated successfully"})}catch(h){console.error("ContentEditor: Error saving:",h),n({title:"Error",description:"Failed to update content",variant:"destructive"})}},p=h=>{try{const v={...d,backgroundImage:h};l(JSON.stringify(v,null,2)),console.log("🖼️ ContentEditor: Image uploaded, content updated:",v)}catch(v){console.error("Error updating image:",v)}};return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[e.section_name,a.jsxs(U,{onClick:()=>i(!s),variant:"outline",size:"sm",children:[a.jsx(cb,{className:"h-4 w-4 mr-1"}),s?"Cancel":"Edit"]})]})}),a.jsx(de,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content (JSON)"}),a.jsx(mn,{value:o,onChange:h=>l(h.target.value),rows:10,className:"font-mono text-sm"})]}),e.section_key.includes("hero")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Background Image"}),a.jsx(Ol,{currentImage:d.backgroundImage,onImageSelected:p,bucketName:"uploads",folderPath:"hero-images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a new hero background image. This will update both the content sections and settings tables."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:m,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-4 w-4 mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"h-4 w-4 mr-1"}),"Save Changes"]})}),a.jsx(U,{onClick:()=>i(!1),variant:"outline",children:"Cancel"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Section Key:"}),a.jsx("p",{className:"font-mono text-sm",children:e.section_key})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Content Type:"}),a.jsx("p",{className:"text-sm",children:e.content_type})]}),d.heading&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Heading:"}),a.jsx("p",{className:"font-semibold",children:d.heading})]}),d.subheading&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Subheading:"}),a.jsx("p",{className:"text-sm",children:d.subheading})]}),d.backgroundImage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Background Image:"}),a.jsx("img",{src:d.backgroundImage,alt:"Background",className:"w-full h-24 object-cover rounded mt-1",onError:h=>{const v=h.target;v.src="/placeholder.svg"}})]})]})})]})};function Pp(e,t){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pp(e,t)}function TN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pp(e,t)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ce.apply(null,arguments)}function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Z4(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e){var t=Z4(e,"string");return ll(t)=="symbol"?t:t+""}function J4(e,t,r){return(t=X4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uy(Object(r),!0).forEach(function(n){J4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ft(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fy=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),my=function(){return Math.random().toString(36).substring(7).split("").join(".")},py={INIT:"@@redux/INIT"+my(),REPLACE:"@@redux/REPLACE"+my()};function eO(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function IN(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ft(1));return r(IN)(e,t)}if(typeof e!="function")throw new Error(Ft(2));var s=e,i=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function f(){if(c)throw new Error(Ft(3));return i}function d(v){if(typeof v!="function")throw new Error(Ft(4));if(c)throw new Error(Ft(5));var b=!0;return u(),l.push(v),function(){if(b){if(c)throw new Error(Ft(6));b=!1,u();var x=l.indexOf(v);l.splice(x,1),o=null}}}function m(v){if(!eO(v))throw new Error(Ft(7));if(typeof v.type>"u")throw new Error(Ft(8));if(c)throw new Error(Ft(9));try{c=!0,i=s(i,v)}finally{c=!1}for(var b=o=l,g=0;g<b.length;g++){var x=b[g];x()}return v}function p(v){if(typeof v!="function")throw new Error(Ft(10));s=v,m({type:py.REPLACE})}function h(){var v,b=d;return v={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Ft(11));function y(){x.next&&x.next(f())}y();var w=b(y);return{unsubscribe:w}}},v[fy]=function(){return this},v}return m({type:py.INIT}),n={dispatch:m,subscribe:d,getState:f,replaceReducer:p},n[fy]=h,n}function hy(e,t){return function(){return t(e.apply(this,arguments))}}function gy(e,t){if(typeof e=="function")return hy(e,t);if(typeof e!="object"||e===null)throw new Error(Ft(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=hy(s,t))}return r}function DN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function tO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(Ft(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=DN.apply(void 0,l)(s.dispatch),dy(dy({},s),{},{dispatch:i})}}}var AN=q.createContext(null);function rO(e){e()}var RN=rO,nO=function(t){return RN=t},sO=function(){return RN};function iO(){var e=sO(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,o=r={callback:s,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var vy={notify:function(){},get:function(){return[]}};function ON(e,t){var r,n=vy;function s(d){return c(),n.subscribe(d)}function i(){n.notify()}function o(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=iO())}function u(){r&&(r(),r=void 0,n.clear(),n=vy)}var f={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect;function aO(e){var t=e.store,r=e.context,n=e.children,s=k.useMemo(function(){var l=ON(t);return{store:t,subscription:l}},[t]),i=k.useMemo(function(){return t.getState()},[t]);_N(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var o=r||AN;return q.createElement(o.Provider,{value:s},n)}function Du(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FN={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=typeof Symbol=="function"&&Symbol.for,bg=ft?Symbol.for("react.element"):60103,wg=ft?Symbol.for("react.portal"):60106,jd=ft?Symbol.for("react.fragment"):60107,Cd=ft?Symbol.for("react.strict_mode"):60108,Ed=ft?Symbol.for("react.profiler"):60114,Pd=ft?Symbol.for("react.provider"):60109,kd=ft?Symbol.for("react.context"):60110,Sg=ft?Symbol.for("react.async_mode"):60111,Td=ft?Symbol.for("react.concurrent_mode"):60111,Id=ft?Symbol.for("react.forward_ref"):60112,Dd=ft?Symbol.for("react.suspense"):60113,oO=ft?Symbol.for("react.suspense_list"):60120,Ad=ft?Symbol.for("react.memo"):60115,Rd=ft?Symbol.for("react.lazy"):60116,lO=ft?Symbol.for("react.block"):60121,cO=ft?Symbol.for("react.fundamental"):60117,uO=ft?Symbol.for("react.responder"):60118,dO=ft?Symbol.for("react.scope"):60119;function or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bg:switch(e=e.type,e){case Sg:case Td:case jd:case Ed:case Cd:case Dd:return e;default:switch(e=e&&e.$$typeof,e){case kd:case Id:case Rd:case Ad:case Pd:return e;default:return t}}case wg:return t}}}function MN(e){return or(e)===Td}Re.AsyncMode=Sg;Re.ConcurrentMode=Td;Re.ContextConsumer=kd;Re.ContextProvider=Pd;Re.Element=bg;Re.ForwardRef=Id;Re.Fragment=jd;Re.Lazy=Rd;Re.Memo=Ad;Re.Portal=wg;Re.Profiler=Ed;Re.StrictMode=Cd;Re.Suspense=Dd;Re.isAsyncMode=function(e){return MN(e)||or(e)===Sg};Re.isConcurrentMode=MN;Re.isContextConsumer=function(e){return or(e)===kd};Re.isContextProvider=function(e){return or(e)===Pd};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bg};Re.isForwardRef=function(e){return or(e)===Id};Re.isFragment=function(e){return or(e)===jd};Re.isLazy=function(e){return or(e)===Rd};Re.isMemo=function(e){return or(e)===Ad};Re.isPortal=function(e){return or(e)===wg};Re.isProfiler=function(e){return or(e)===Ed};Re.isStrictMode=function(e){return or(e)===Cd};Re.isSuspense=function(e){return or(e)===Dd};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jd||e===Td||e===Ed||e===Cd||e===Dd||e===oO||typeof e=="object"&&e!==null&&(e.$$typeof===Rd||e.$$typeof===Ad||e.$$typeof===Pd||e.$$typeof===kd||e.$$typeof===Id||e.$$typeof===cO||e.$$typeof===uO||e.$$typeof===dO||e.$$typeof===lO)};Re.typeOf=or;FN.exports=Re;var fO=FN.exports,Ng=fO,mO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jg={};jg[Ng.ForwardRef]=hO;jg[Ng.Memo]=LN;function xy(e){return Ng.isMemo(e)?LN:jg[e.$$typeof]||mO}var gO=Object.defineProperty,vO=Object.getOwnPropertyNames,yy=Object.getOwnPropertySymbols,xO=Object.getOwnPropertyDescriptor,yO=Object.getPrototypeOf,by=Object.prototype;function $N(e,t,r){if(typeof t!="string"){if(by){var n=yO(t);n&&n!==by&&$N(e,n,r)}var s=vO(t);yy&&(s=s.concat(yy(t)));for(var i=xy(e),o=xy(t),l=0;l<s.length;++l){var c=s[l];if(!pO[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var u=xO(t,c);try{gO(e,c,u)}catch{}}}}return e}var bO=$N;const wy=Hp(bO);var zN={exports:{}},Me={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=60103,_d=60106,_l=60107,Fl=60108,Ml=60114,Ll=60109,$l=60110,zl=60112,Bl=60113,Cg=60120,Ul=60115,Hl=60116,BN=60121,UN=60122,HN=60117,qN=60129,VN=60131;if(typeof Symbol=="function"&&Symbol.for){var pt=Symbol.for;Od=pt("react.element"),_d=pt("react.portal"),_l=pt("react.fragment"),Fl=pt("react.strict_mode"),Ml=pt("react.profiler"),Ll=pt("react.provider"),$l=pt("react.context"),zl=pt("react.forward_ref"),Bl=pt("react.suspense"),Cg=pt("react.suspense_list"),Ul=pt("react.memo"),Hl=pt("react.lazy"),BN=pt("react.block"),UN=pt("react.server.block"),HN=pt("react.fundamental"),qN=pt("react.debug_trace_mode"),VN=pt("react.legacy_hidden")}function Kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Od:switch(e=e.type,e){case _l:case Ml:case Fl:case Bl:case Cg:return e;default:switch(e=e&&e.$$typeof,e){case $l:case zl:case Hl:case Ul:case Ll:return e;default:return t}}case _d:return t}}}var wO=Ll,SO=Od,NO=zl,jO=_l,CO=Hl,EO=Ul,PO=_d,kO=Ml,TO=Fl,IO=Bl;Me.ContextConsumer=$l;Me.ContextProvider=wO;Me.Element=SO;Me.ForwardRef=NO;Me.Fragment=jO;Me.Lazy=CO;Me.Memo=EO;Me.Portal=PO;Me.Profiler=kO;Me.StrictMode=TO;Me.Suspense=IO;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return Kr(e)===$l};Me.isContextProvider=function(e){return Kr(e)===Ll};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Od};Me.isForwardRef=function(e){return Kr(e)===zl};Me.isFragment=function(e){return Kr(e)===_l};Me.isLazy=function(e){return Kr(e)===Hl};Me.isMemo=function(e){return Kr(e)===Ul};Me.isPortal=function(e){return Kr(e)===_d};Me.isProfiler=function(e){return Kr(e)===Ml};Me.isStrictMode=function(e){return Kr(e)===Fl};Me.isSuspense=function(e){return Kr(e)===Bl};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_l||e===Ml||e===qN||e===Fl||e===Bl||e===Cg||e===VN||typeof e=="object"&&e!==null&&(e.$$typeof===Hl||e.$$typeof===Ul||e.$$typeof===Ll||e.$$typeof===$l||e.$$typeof===zl||e.$$typeof===HN||e.$$typeof===BN||e[0]===UN)};Me.typeOf=Kr;zN.exports=Me;var DO=zN.exports,AO=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],RO=["reactReduxForwardedRef"],OO=[],_O=[null,null];function FO(e,t){var r=e[1];return[t.payload,r+1]}function Sy(e,t,r){_N(function(){return e.apply(void 0,t)},r)}function MO(e,t,r,n,s,i,o){e.current=n,t.current=s,r.current=!1,i.current&&(i.current=null,o())}function LO(e,t,r,n,s,i,o,l,c,u){if(e){var f=!1,d=null,m=function(){if(!f){var v=t.getState(),b,g;try{b=n(v,s.current)}catch(x){g=x,d=x}g||(d=null),b===i.current?o.current||c():(i.current=b,l.current=b,o.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};r.onStateChange=m,r.trySubscribe(),m();var p=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return p}}var $O=function(){return[null,0]};function zO(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(y){return"ConnectAdvanced("+y+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,f=u===void 0?!0:u,d=r.storeKey,m=d===void 0?"store":d;r.withRef;var p=r.forwardRef,h=p===void 0?!1:p,v=r.context,b=v===void 0?AN:v,g=Du(r,AO),x=b;return function(w){var S=w.displayName||w.name||"Component",j=s(S),C=ce({},g,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:f,storeKey:m,displayName:j,wrappedComponentName:S,WrappedComponent:w}),E=g.pure;function T(R){return e(R.dispatch,C)}var A=E?k.useMemo:function(R){return R()};function _(R){var $=k.useMemo(function(){var Le=R.reactReduxForwardedRef,Ot=Du(R,RO);return[R.context,Le,Ot]},[R]),L=$[0],M=$[1],I=$[2],F=k.useMemo(function(){return L&&L.Consumer&&DO.isContextConsumer(q.createElement(L.Consumer,null))?L:x},[L,x]),z=k.useContext(F),K=!!R.store&&!!R.store.getState&&!!R.store.dispatch;z&&z.store;var V=K?R.store:z.store,ee=k.useMemo(function(){return T(V)},[V]),Y=k.useMemo(function(){if(!f)return _O;var Le=ON(V,K?null:z.subscription),Ot=Le.notifyNestedSubs.bind(Le);return[Le,Ot]},[V,K,z]),fe=Y[0],be=Y[1],H=k.useMemo(function(){return K?z:ce({},z,{subscription:fe})},[K,z,fe]),se=k.useReducer(FO,OO,$O),xe=se[0],te=xe[0],J=se[1];if(te&&te.error)throw te.error;var W=k.useRef(),ie=k.useRef(I),ge=k.useRef(),Oe=k.useRef(!1),Ue=A(function(){return ge.current&&I===ie.current?ge.current:ee(V.getState(),I)},[V,te,I]);Sy(MO,[ie,W,Oe,I,Ue,ge,be]),Sy(LO,[f,V,fe,ee,ie,W,Oe,ge,be,J],[V,fe,ee]);var Ge=k.useMemo(function(){return q.createElement(w,ce({},Ue,{ref:M}))},[M,w,Ue]),mt=k.useMemo(function(){return f?q.createElement(F.Provider,{value:H},Ge):Ge},[F,Ge,H]);return mt}var P=E?q.memo(_):_;if(P.WrappedComponent=w,P.displayName=_.displayName=j,h){var O=q.forwardRef(function($,L){return q.createElement(P,ce({},$,{reactReduxForwardedRef:L}))});return O.displayName=j,O.WrappedComponent=w,wy(O,w)}return wy(P,w)}}function Ny(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wf(e,t){if(Ny(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Ny(e[r[s]],t[r[s]]))return!1;return!0}function BO(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Eg(e){return function(r,n){var s=e(r,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function jy(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function WN(e,t){return function(n,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=jy(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=jy(u),u=i(l,c)),u},i}}function UO(e){return typeof e=="function"?WN(e):void 0}function HO(e){return e?void 0:Eg(function(t){return{dispatch:t}})}function qO(e){return e&&typeof e=="object"?Eg(function(t){return BO(e,t)}):void 0}const VO=[UO,HO,qO];function WO(e){return typeof e=="function"?WN(e):void 0}function GO(e){return e?void 0:Eg(function(){return{}})}const KO=[WO,GO];function QO(e,t,r){return ce({},r,e,t)}function YO(e){return function(r,n){n.displayName;var s=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(u,f,d){var m=e(u,f,d);return o?(!s||!i(m,l))&&(l=m):(o=!0,l=m),l}}}function ZO(e){return typeof e=="function"?YO(e):void 0}function XO(e){return e?void 0:function(){return QO}}const JO=[ZO,XO];var e3=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function t3(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function r3(e,t,r,n,s){var i=s.areStatesEqual,o=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,f,d,m,p;function h(y,w){return u=y,f=w,d=e(u,f),m=t(n,f),p=r(d,m,f),c=!0,p}function v(){return d=e(u,f),t.dependsOnOwnProps&&(m=t(n,f)),p=r(d,m,f),p}function b(){return e.dependsOnOwnProps&&(d=e(u,f)),t.dependsOnOwnProps&&(m=t(n,f)),p=r(d,m,f),p}function g(){var y=e(u,f),w=!l(y,d);return d=y,w&&(p=r(d,m,f)),p}function x(y,w){var S=!o(w,f),j=!i(y,u,w,f);return u=y,f=w,S&&j?v():S?b():j?g():p}return function(w,S){return c?x(w,S):h(w,S)}}function n3(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,i=Du(t,e3),o=r(e,i),l=n(e,i),c=s(e,i),u=i.pure?r3:t3;return u(o,l,c,e,i)}var s3=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Gf(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function i3(e,t){return e===t}function a3(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?zO:r,s=t.mapStateToPropsFactories,i=s===void 0?KO:s,o=t.mapDispatchToPropsFactories,l=o===void 0?VO:o,c=t.mergePropsFactories,u=c===void 0?JO:c,f=t.selectorFactory,d=f===void 0?n3:f;return function(p,h,v,b){b===void 0&&(b={});var g=b,x=g.pure,y=x===void 0?!0:x,w=g.areStatesEqual,S=w===void 0?i3:w,j=g.areOwnPropsEqual,C=j===void 0?Wf:j,E=g.areStatePropsEqual,T=E===void 0?Wf:E,A=g.areMergedPropsEqual,_=A===void 0?Wf:A,P=Du(g,s3),O=Gf(p,i,"mapStateToProps"),R=Gf(h,l,"mapDispatchToProps"),$=Gf(v,u,"mergeProps");return n(d,ce({methodName:"connect",getDisplayName:function(M){return"Connect("+M+")"},shouldHandleStateChanges:!!p,initMapStateToProps:O,initMapDispatchToProps:R,initMergeProps:$,pure:y,areStatesEqual:S,areOwnPropsEqual:C,areStatePropsEqual:T,areMergedPropsEqual:_},P))}}const GN=a3();nO(ud.unstable_batchedUpdates);function o3(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function KN(e,t){var r=k.useState(function(){return{inputs:t,result:e()}})[0],n=k.useRef(!0),s=k.useRef(r),i=n.current||!!(t&&s.current.inputs&&o3(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return k.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function l3(e,t){return KN(function(){return e},t)}var Pe=KN,ne=l3,c3="Invariant failed";function u3(e,t){throw new Error(c3)}var Lr=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,l=s-r,c={top:r,right:n,bottom:s,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},Pg=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Cy=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},d3=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Kf={top:0,right:0,bottom:0,left:0},kg=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Kf:n,i=t.border,o=i===void 0?Kf:i,l=t.padding,c=l===void 0?Kf:l,u=Lr(Pg(r,s)),f=Lr(Cy(r,o)),d=Lr(Cy(f,c));return{marginBox:u,borderBox:Lr(r),paddingBox:f,contentBox:d,margin:s,border:o,padding:c}},lr=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&u3(),s},f3=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Au=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,o=t.padding,l=d3(n,r);return kg({borderBox:l,border:s,margin:i,padding:o})},Ru=function(t,r){return r===void 0&&(r=f3()),Au(t,r)},QN=function(t,r){var n={top:lr(r.marginTop),right:lr(r.marginRight),bottom:lr(r.marginBottom),left:lr(r.marginLeft)},s={top:lr(r.paddingTop),right:lr(r.paddingRight),bottom:lr(r.paddingBottom),left:lr(r.paddingLeft)},i={top:lr(r.borderTopWidth),right:lr(r.borderRightWidth),bottom:lr(r.borderBottomWidth),left:lr(r.borderLeftWidth)};return kg({borderBox:t,margin:n,padding:s,border:i})},YN=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return QN(r,n)},Ey=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function m3(e,t){return!!(e===t||Ey(e)&&Ey(t))}function p3(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!m3(e[r],t[r]))return!1;return!0}function ut(e,t){t===void 0&&(t=p3);var r,n=[],s,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(s=e.apply(this,l),i=!0,r=this,n=l),s}return o}var cl=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function ZN(e,t){}ZN.bind(null,"warn");ZN.bind(null,"error");function Ns(){}function h3(e,t){return ce({},e,{},t)}function mr(e,t,r){var n=t.map(function(s){var i=h3(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(function(i){i()})}}var g3="Invariant failed";function Ou(e){this.message=e}Ou.prototype.toString=function(){return this.message};function Q(e,t){throw new Ou(g3)}var v3=function(e){TN(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Ns,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Ou&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=mr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof Ou){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(q.Component),x3=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_u=function(t){return t+1},y3=function(t){return`
  You have lifted an item in position `+_u(t.source.index)+`
`},XN=function(t,r){var n=t.droppableId===r.droppableId,s=_u(t.index),i=_u(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},JN=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},b3=function(t){var r=t.destination;if(r)return XN(t.source,r);var n=t.combine;return n?JN(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Py=function(t){return`
  The item has returned to its starting position
  of `+_u(t.index)+`
`},w3=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Py(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+XN(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+JN(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Py(t.source)+`
  `},Qc={dragHandleUsageInstructions:x3,onDragStart:y3,onDragUpdate:b3,onDragEnd:w3},dt={x:0,y:0},vt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Xt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},js=function(t,r){return t.x===r.x&&t.y===r.y},Wa=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Ni=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},ul=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},ky=function(t,r){return Math.min.apply(Math,r.map(function(n){return ul(t,n)}))},ej=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},S3=function(e,t){var r=Lr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},ql=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ty=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},N3={top:0,right:0,bottom:0,left:0},j3=function(t,r){return r?ql(t,r.scroll.diff.displacement):t},C3=function(t,r,n){if(n&&n.increasedBy){var s;return ce({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},E3=function(t,r){return r&&r.shouldClipSubject?S3(r.pageMarginBox,t):Lr(t)},Aa=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,i=j3(t.marginBox,s),o=C3(i,n,r),l=E3(o,s);return{page:t,withPlaceholder:r,active:l}},Tg=function(e,t){e.frame||Q();var r=e.frame,n=Xt(t,r.scroll.initial),s=Wa(n),i=ce({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),o=Aa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=ce({},e,{frame:i,subject:o});return l};function Fu(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Ig(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function zs(e,t){if(e.find)return e.find(t);var r=Ig(e,t);if(r!==-1)return e[r]}function tj(e){return Array.prototype.slice.call(e)}var rj=ut(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),nj=ut(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Fd=ut(function(e){return Fu(e)}),P3=ut(function(e){return Fu(e)}),Ga=ut(function(e,t){var r=P3(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function Dg(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Md(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ld=ut(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),k3=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Dg(i);if(!o)return null;function l(v){var b={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return ce({},i,{at:b})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var f=Ld(r,s);if(!u){if(!f.length)return null;var d=f[f.length-1];return l(d.descriptor.id)}var m=Ig(f,function(v){return v.descriptor.id===u});m===-1&&Q();var p=m-1;if(p<0)return null;var h=f[p];return l(h.descriptor.id)},Ka=function(e,t){return e.descriptor.droppableId===t.descriptor.id},sj={point:dt,value:0},dl={invisible:{},visible:{},all:[]},T3={displaced:dl,displacedBy:sj,at:null},hr=function(e,t){return function(r){return e<=r&&r<=t}},ij=function(e){var t=hr(e.top,e.bottom),r=hr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var d=c&&o||u&&i;return d}},I3=function(e){var t=hr(e.top,e.bottom),r=hr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Ag={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},aj={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},D3=function(e){return function(t){var r=hr(t.top,t.bottom),n=hr(t.left,t.right);return function(s){return e===Ag?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},A3=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:dt;return ql(t,n)},R3=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},O3=function(t,r,n){return n(r)(t)},Rg=function(t){var r=t.target,n=t.destination,s=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?A3(r,n):r;return R3(l,n,o)&&O3(l,s,o)},_3=function(t){return Rg(ce({},t,{isVisibleThroughFrameFn:ij}))},oj=function(t){return Rg(ce({},t,{isVisibleThroughFrameFn:I3}))},F3=function(t){return Rg(ce({},t,{isVisibleThroughFrameFn:D3(t.destination.axis)}))},M3=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,i=r.visible;if(s[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function L3(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Lr(Pg(r,n))}function fl(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var f=L3(u,n),d=u.descriptor.id;c.all.push(d);var m=_3({target:f,destination:r,viewport:s,withDroppableDisplacement:!0});if(!m)return c.invisible[u.descriptor.id]=!0,c;var p=M3(d,o,i),h={draggableId:d,shouldAnimate:p};return c.visible[d]=h,c},{all:[],visible:{},invisible:{}})}function $3(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Iy(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,i=$3(t,{inHomeList:r});return{displaced:dl,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function Mu(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=Ka(t,n);if(l==null)return Iy({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=zs(r,function(v){return v.descriptor.index===l});if(!f)return Iy({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=Ld(t,r),m=r.indexOf(f),p=d.slice(m),h=fl({afterDragging:p,destination:n,displacedBy:i,last:o,viewport:s.frame,forceShouldAnimate:c});return{displaced:h,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function As(e,t){return!!t.effected[e]}var z3=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=s.draggableId,l=n[o],c=l.descriptor.index,u=As(o,i);return u?t?c:c-1:t?c+1:c},B3=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var i=s.index,o=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return o<l||o>u?null:o},U3=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,f=l.at;if(f||Q(),f.type==="REORDER"){var d=B3({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:o});return d==null?null:Mu({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:d})}var m=z3({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:f.combine,afterCritical:u});return m==null?null:Mu({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:m})},H3=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return As(n,r)?i?dt:Wa(s.point):i?s.point:dt},q3=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Md(r);s||Q();var i=s.draggableId,o=n[i].page.borderBox.center,l=H3({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return vt(o,l)},lj=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},V3=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Og=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Dy=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Ni(r.line,n.marginBox[r.end]+lj(r,s),Og(r,n.marginBox,s))},Ay=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Ni(r.line,n.marginBox[r.start]-V3(r,s),Og(r,n.marginBox,s))},W3=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Ni(r.line,n.contentBox[r.start]+lj(r,s),Og(r,n.contentBox,s))},G3=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,i=e.afterCritical,o=Ga(s.descriptor.id,n),l=r.page,c=s.axis;if(!o.length)return W3({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,f=t.displacedBy,d=u.all[0];if(d){var m=n[d];if(As(d,i))return Ay({axis:c,moveRelativeTo:m.page,isMoving:l});var p=Au(m.page,f.point);return Ay({axis:c,moveRelativeTo:p,isMoving:l})}var h=o[o.length-1];if(h.descriptor.id===r.descriptor.id)return l.borderBox.center;if(As(h.descriptor.id,i)){var v=Au(h.page,Wa(i.displacedBy.point));return Dy({axis:c,moveRelativeTo:v,isMoving:l})}return Dy({axis:c,moveRelativeTo:h.page,isMoving:l})},kp=function(e,t){var r=e.frame;return r?vt(t,r.scroll.diff.displacement):t},K3=function(t){var r=t.impact,n=t.draggable,s=t.droppable,i=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?G3({impact:r,draggable:n,draggables:i,droppable:s,afterCritical:o}):q3({impact:r,draggables:i,afterCritical:o})},$d=function(e){var t=K3(e),r=e.droppable,n=r?kp(r,t):t;return n},cj=function(e,t){var r=Xt(t,e.scroll.initial),n=Wa(r),s=Lr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function Ry(e,t){return e.map(function(r){return t[r]})}function Q3(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Y3=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,i=e.maxScrollChange,o=cj(r,vt(r.scroll.current,i)),l=n.frame?Tg(n,vt(n.frame.scroll.current,i)):n,c=t.displaced,u=fl({afterDragging:Ry(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),f=fl({afterDragging:Ry(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),d={},m={},p=[c,u,f];c.all.forEach(function(v){var b=Q3(v,p);if(b){m[v]=b;return}d[v]=!0});var h=ce({},t,{displaced:{all:c.all,invisible:d,visible:m}});return h},Z3=function(e,t){return vt(e.scroll.diff.displacement,t)},_g=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=Z3(n,t),i=Xt(s,r.page.borderBox.center);return vt(r.client.borderBox.center,i)},uj=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Xt(n,t.page.borderBox.center),u=ql(t.page.borderBox,c),f={target:u,destination:r,withDroppableDisplacement:i,viewport:s};return l?F3(f):oj(f)},X3=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=Ga(n.descriptor.id,s),d=Ka(r,n),m=k3({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||U3({isMovingForward:t,isInHomeList:d,draggable:r,draggables:s,destination:n,insideDestination:f,previousImpact:i,viewport:o,afterCritical:u});if(!m)return null;var p=$d({impact:m,draggable:r,droppable:n,draggables:s,afterCritical:u}),h=uj({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(h){var v=_g({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:v,impact:m,scrollJumpRequest:null}}var b=Xt(p,l),g=Y3({impact:m,viewport:o,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:g,scrollJumpRequest:b}},Et=function(t){var r=t.subject.active;return r||Q(),r},J3=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=hr(o[l.start],o[l.end]),u=Fd(s).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return ij(i.frame)(Et(d))}).filter(function(d){var m=Et(d);return t?o[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(d){var m=Et(d),p=hr(m[l.start],m[l.end]);return c(m[l.start])||c(m[l.end])||p(o[l.start])||p(o[l.end])}).sort(function(d,m){var p=Et(d)[l.crossAxisStart],h=Et(m)[l.crossAxisStart];return t?p-h:h-p}).filter(function(d,m,p){return Et(d)[l.crossAxisStart]===Et(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(d){var m=hr(Et(d)[l.start],Et(d)[l.end]);return m(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(d,m){return Et(d)[l.start]-Et(m)[l.start]})[0]:u.sort(function(d,m){var p=ky(r,Ty(Et(d))),h=ky(r,Ty(Et(m)));return p!==h?p-h:Et(d)[l.start]-Et(m)[l.start]})[0]},Oy=function(t,r){var n=t.page.borderBox.center;return As(t.descriptor.id,r)?Xt(n,r.displacedBy.point):n},e_=function(t,r){var n=t.page.borderBox;return As(t.descriptor.id,r)?ql(n,Wa(r.displacedBy.point)):n},t_=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,i=e.afterCritical,o=s.filter(function(l){return oj({target:e_(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=ul(t,kp(n,Oy(l,i))),f=ul(t,kp(n,Oy(c,i)));return u<f?-1:f<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Vl=ut(function(t,r){var n=r[t.line];return{value:n,point:Ni(t.line,n)}}),r_=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Ni(s.line,r[s.line]);var i=t.subject.page.contentBox[s.size],o=Ga(t.descriptor.id,n),l=o.reduce(function(f,d){return f+d.client.marginBox[s.size]},0),c=l+r[s.line],u=c-i;return u<=0?null:Ni(s.line,u)},dj=function(t,r){return ce({},t,{scroll:ce({},t.scroll,{max:r})})},fj=function(t,r,n){var s=t.frame;Ka(r,t)&&Q(),t.subject.withPlaceholder&&Q();var i=Vl(t.axis,r.displaceBy).point,o=r_(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Aa({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ce({},t,{subject:c})}var u=o?vt(s.scroll.max,o):s.scroll.max,f=dj(s,u),d=Aa({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:f});return ce({},t,{subject:d,frame:f})},n_=function(t){var r=t.subject.withPlaceholder;r||Q();var n=t.frame;if(!n){var s=Aa({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ce({},t,{subject:s})}var i=r.oldFrameMaxScroll;i||Q();var o=dj(n,i),l=Aa({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return ce({},t,{subject:l,frame:o})},s_=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:dl,displacedBy:sj,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=$d({impact:u,draggable:s,droppable:o,draggables:i,afterCritical:c}),d=Ka(s,o)?o:fj(o,s,i),m=uj({draggable:s,destination:d,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return m?u:null}var p=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],h=function(){var b=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?b:b+1}(),v=Vl(o.axis,s.displaceBy);return Mu({draggable:s,insideDestination:n,destination:o,viewport:l,displacedBy:v,last:dl,index:h})},i_=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=J3({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:o,viewport:l});if(!u)return null;var f=Ga(u.descriptor.id,i),d=t_({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:f,afterCritical:c}),m=s_({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:f,viewport:l,afterCritical:c});if(!m)return null;var p=$d({impact:m,draggable:n,droppable:u,draggables:i,afterCritical:c}),h=_g({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:h,impact:m,scrollJumpRequest:null}},tr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},a_=function(t,r){var n=tr(t);return n?r[n]:null},o_=function(e){var t=e.state,r=e.type,n=a_(t.impact,t.dimensions.droppables),s=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,m=t.dimensions,p=m.draggables,h=m.droppables;return c?X3({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):i_({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:f,isOver:o,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Ks(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function mj(e){var t=hr(e.top,e.bottom),r=hr(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function l_(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function c_(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=Ni(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:ul(s,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function u_(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Fd(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!l_(t,o))return!1;if(mj(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],f=t[l.crossAxisEnd],d=hr(o[l.crossAxisStart],o[l.crossAxisEnd]),m=d(u),p=d(f);return!m&&!p?!0:m?u<c:f>c});return s.length?s.length===1?s[0].descriptor.id:c_({pageBorderBox:t,draggable:r,candidates:s}):null}var pj=function(t,r){return Lr(ql(t,r))},d_=function(e,t){var r=e.frame;return r?pj(t,r.scroll.diff.value):t};function hj(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function f_(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var m_=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,u=Vl(n.axis,r.displaceBy),f=u.value,d=t[c.start],m=t[c.end],p=Ld(r,s),h=zs(p,function(b){var g=b.descriptor.id,x=b.page.borderBox.center[c.line],y=As(g,l),w=hj({displaced:i,id:g});return y?w?m<=x:d<x-f:w?m<=x+f:d<x}),v=f_({draggable:r,closest:h,inHomeList:Ka(r,n)});return Mu({draggable:r,insideDestination:s,destination:n,viewport:o,last:i,displacedBy:u,index:v})},p_=4,h_=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,i=e.insideDestination,o=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Vl(s.axis,t.displaceBy),u=c.value,f=r[l.start],d=r[l.end],m=Ld(t,i),p=zs(m,function(v){var b=v.descriptor.id,g=v.page.borderBox,x=g[l.size],y=x/p_,w=As(b,o),S=hj({displaced:n.displaced,id:b});return w?S?d>g[l.start]+y&&d<g[l.end]-y:f>g[l.start]-u+y&&f<g[l.end]-u-y:S?d>g[l.start]+u+y&&d<g[l.end]+u-y:f>g[l.start]+y&&f<g[l.end]-y});if(!p)return null;var h={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:s.descriptor.id}}};return h},gj=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=pj(r.page.borderBox,t),u=u_({pageBorderBox:c,draggable:r,droppables:s});if(!u)return T3;var f=s[u],d=Ga(f.descriptor.id,n),m=d_(f,c);return h_({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:i,destination:f,insideDestination:d,afterCritical:l})||m_({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:f,insideDestination:d,last:i.displaced,viewport:o,afterCritical:l})},Fg=function(e,t){var r;return ce({},e,(r={},r[t.descriptor.id]=t,r))},g_=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,i=tr(r),o=tr(n);if(!i||i===o)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=n_(l);return Fg(s,c)},v_=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,i=e.impact,o=g_({previousImpact:s,impact:i,droppables:n}),l=tr(i);if(!l)return o;var c=n[l];if(Ka(t,c)||c.subject.withPlaceholder)return o;var u=fj(c,t,r);return Fg(o,u)},Oo=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,f=Xt(u,t.initial.client.selection),d={offset:f,selection:u,borderBoxCenter:vt(t.initial.client.borderBoxCenter,f)},m={selection:vt(d.selection,l.scroll.current),borderBoxCenter:vt(d.borderBoxCenter,l.scroll.current),offset:vt(d.offset,l.scroll.diff.value)},p={client:d,page:m};if(t.phase==="COLLECTING")return ce({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var h=c.draggables[t.critical.draggable.id],v=i||gj({pageOffset:m.offset,draggable:h,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=v_({draggable:h,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),g=ce({},t,{current:p,dimensions:{draggables:c.draggables,droppables:b},impact:v,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function x_(e,t){return e.map(function(r){return t[r]})}var vj=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=x_(o.all,n),c=fl({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return ce({},t,{displaced:c})},xj=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,i=e.viewport,o=e.afterCritical,l=$d({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:o});return _g({pageBorderBoxCenter:l,draggable:r,viewport:i})},yj=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&Q();var s=t.impact,i=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],f=tr(s);f||Q();var d=c[f],m=vj({impact:s,viewport:i,destination:d,draggables:l}),p=xj({impact:m,draggable:u,droppable:d,draggables:l,viewport:i,afterCritical:t.afterCritical});return Oo({impact:m,clientSelection:p,state:t,dimensions:o,viewport:i})},y_=function(e){return{index:e.index,droppableId:e.droppableId}},bj=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,i=Vl(r.axis,t.displaceBy),o=Ga(r.descriptor.id,n),l=o.indexOf(t);l===-1&&Q();var c=o.slice(l+1),u=c.reduce(function(p,h){return p[h.descriptor.id]=!0,p},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},d=fl({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),m={displaced:d,displacedBy:i,at:{type:"REORDER",destination:y_(t.descriptor)}};return{impact:m,afterCritical:f}},b_=function(e,t){return{draggables:e.draggables,droppables:Fg(e.droppables,t)}},w_=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Au(t.client,r),i=Ru(s,n),o=ce({},t,{placeholder:ce({},t.placeholder,{client:s}),client:s,page:i});return o},S_=function(e){var t=e.frame;return t||Q(),t},N_=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=S_(l),u=c.scroll.diff.value,f=vt(s,u),d=w_({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return d})},j_=function(e){var t=e.state,r=e.published,n=r.modified.map(function(y){var w=t.dimensions.droppables[y.droppableId],S=Tg(w,y.scroll);return S}),s=ce({},t.dimensions.droppables,{},rj(n)),i=nj(N_({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),o=ce({},t.dimensions.draggables,{},i);r.removals.forEach(function(y){delete o[y]});var l={droppables:s,draggables:o},c=tr(t.impact),u=c?l.droppables[c]:null,f=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],m=bj({draggable:f,home:d,draggables:o,viewport:t.viewport}),p=m.impact,h=m.afterCritical,v=u&&u.isCombineEnabled?t.impact:p,b=gj({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:h}),g=ce({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:p,dimensions:l,afterCritical:h,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return g;var x=ce({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return x},Tp=function(t){return t.movementMode==="SNAP"},Qf=function(t,r,n){var s=b_(t.dimensions,r);return!Tp(t)||n?Oo({state:t,dimensions:s}):yj({state:t,dimensions:s})};function Yf(e){return e.isDragging&&e.movementMode==="SNAP"?ce({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var _y={phase:"IDLE",completed:null,shouldFlush:!1},C_=function(e,t){if(e===void 0&&(e=_y),t.type==="FLUSH")return ce({},_y,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Q();var r=t.payload,n=r.critical,s=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],f={selection:s,borderBoxCenter:c.client.borderBox.center,offset:dt},d={client:f,page:{selection:vt(f.selection,i.scroll.initial),borderBoxCenter:vt(f.selection,i.scroll.initial),offset:vt(f.selection,i.scroll.diff.value)}},m=Fd(o.droppables).every(function(J){return!J.isFixedOnPage}),p=bj({draggable:c,home:u,draggables:o.draggables,viewport:i}),h=p.impact,v=p.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:d,current:d,isWindowScrollAllowed:m,impact:h,afterCritical:v,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Q();var g=ce({phase:"COLLECTING"},e,{phase:"COLLECTING"});return g}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Q(),j_({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ks(e)||Q();var x=t.payload.client;return js(x,e.current.client.selection)?e:Oo({state:e,clientSelection:x,impact:Tp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Yf(e);Ks(e)||Q();var y=t.payload,w=y.id,S=y.newScroll,j=e.dimensions.droppables[w];if(!j)return e;var C=Tg(j,S);return Qf(e,C,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ks(e)||Q();var E=t.payload,T=E.id,A=E.isEnabled,_=e.dimensions.droppables[T];_||Q(),_.isEnabled===A&&Q();var P=ce({},_,{isEnabled:A});return Qf(e,P,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ks(e)||Q();var O=t.payload,R=O.id,$=O.isCombineEnabled,L=e.dimensions.droppables[R];L||Q(),L.isCombineEnabled===$&&Q();var M=ce({},L,{isCombineEnabled:$});return Qf(e,M,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ks(e)||Q(),e.isWindowScrollAllowed||Q();var I=t.payload.newScroll;if(js(e.viewport.scroll.current,I))return Yf(e);var F=cj(e.viewport,I);return Tp(e)?yj({state:e,viewport:F}):Oo({state:e,viewport:F})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ks(e))return e;var z=t.payload.maxScroll;if(js(z,e.viewport.scroll.max))return e;var K=ce({},e.viewport,{scroll:ce({},e.viewport.scroll,{max:z})});return ce({phase:"DRAGGING"},e,{viewport:K})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Q();var V=o_({state:e,type:t.type});return V?Oo({state:e,impact:V.impact,clientSelection:V.clientSelection,scrollJumpRequest:V.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ee=t.payload.reason;e.phase!=="COLLECTING"&&Q();var Y=ce({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ee});return Y}if(t.type==="DROP_ANIMATE"){var fe=t.payload,be=fe.completed,H=fe.dropDuration,se=fe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Q();var xe={phase:"DROP_ANIMATING",completed:be,dropDuration:H,newHomeClientOffset:se,dimensions:e.dimensions};return xe}if(t.type==="DROP_COMPLETE"){var te=t.payload.completed;return{phase:"IDLE",completed:te,shouldFlush:!1}}return e},E_=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},P_=function(t){return{type:"LIFT",payload:t}},k_=function(t){return{type:"INITIAL_PUBLISH",payload:t}},T_=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},I_=function(){return{type:"COLLECTION_STARTING",payload:null}},D_=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},A_=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},R_=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},wj=function(t){return{type:"MOVE",payload:t}},O_=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},__=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},F_=function(){return{type:"MOVE_UP",payload:null}},M_=function(){return{type:"MOVE_DOWN",payload:null}},L_=function(){return{type:"MOVE_RIGHT",payload:null}},$_=function(){return{type:"MOVE_LEFT",payload:null}},Mg=function(){return{type:"FLUSH",payload:null}},z_=function(t){return{type:"DROP_ANIMATE",payload:t}},Lg=function(t){return{type:"DROP_COMPLETE",payload:t}},Sj=function(t){return{type:"DROP",payload:t}},B_=function(t){return{type:"DROP_PENDING",payload:t}},Nj=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},U_=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var o=i.payload,l=o.id,c=o.clientSelection,u=o.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(Lg({completed:f.completed})),r().phase!=="IDLE"&&Q(),n(Mg()),n(E_({draggableId:l,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},m={draggableId:l,scrollOptions:d},p=e.startPublishing(m),h=p.critical,v=p.dimensions,b=p.viewport;n(k_({critical:h,dimensions:v,clientSelection:c,movementMode:u,viewport:b}))}}}},H_=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},$g={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ml={opacity:{drop:0,combining:.7},scale:{drop:.75}},zg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Vs=zg.outOfTheWay+"s "+$g.outOfTheWay,_o={fluid:"opacity "+Vs,snap:"transform "+Vs+", opacity "+Vs,drop:function(t){var r=t+"s "+$g.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Vs,placeholder:"height "+Vs+", width "+Vs+", margin "+Vs},Fy=function(t){return js(t,dt)?null:"translate("+t.x+"px, "+t.y+"px)"},Ip={moveTo:Fy,drop:function(t,r){var n=Fy(t);return n?r?n+" scale("+ml.scale.drop+")":n:null}},Dp=zg.minDropTime,jj=zg.maxDropTime,q_=jj-Dp,My=1500,V_=.6,W_=function(e){var t=e.current,r=e.destination,n=e.reason,s=ul(t,r);if(s<=0)return Dp;if(s>=My)return jj;var i=s/My,o=Dp+q_*i,l=n==="CANCEL"?o*V_:o;return Number(l.toFixed(2))},G_=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=tr(t),u=c?l[c]:null,f=l[r.descriptor.droppableId],d=xj({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:u||f,viewport:s}),m=Xt(d,r.client.borderBox.center);return m},K_=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=vj({draggables:t,impact:o,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ce({},n,{displaced:dl});return{impact:c,didDropInsideDroppable:!0}},Q_=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var i=t(),o=s.payload.reason;if(i.phase==="COLLECTING"){r(B_({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Q(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Q();var c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],d=K_({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=d.impact,p=d.didDropInsideDroppable,h=p?Dg(m):null,v=p?Md(m):null,b={index:c.draggable.index,droppableId:c.droppable.id},g={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:o,mode:i.movementMode,destination:h,combine:v},x=G_({impact:m,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:m},w=!js(i.current.client.offset,x)||!!g.combine;if(!w){r(Lg({completed:y}));return}var S=W_({current:i.current.client.offset,destination:x,reason:o}),j={newHomeClientOffset:x,dropDuration:S,completed:y};r(z_(j))}}}},Cj=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Y_(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Z_(e){var t=e.onWindowScroll;function r(){t(Cj())}var n=cl(r),s=Y_(n),i=Ns;function o(){return i!==Ns}function l(){o()&&Q(),i=mr(window,[s])}function c(){o()||Q(),n.cancel(),i(),i=Ns}return{start:l,stop:c,isActive:o}}var X_=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},J_=function(e){var t=Z_({onWindowScroll:function(n){e.dispatch(O_({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&X_(n)&&t.stop(),r(n)}}},e5=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return s.wasCalled=function(){return t},s},t5=function(){var e=[],t=function(i){var o=Ig(e,function(u){return u.timerId===i});o===-1&&Q();var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},r5=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},n5=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},s5=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},fo=function(t,r){r()},Cc=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Zf=function(t,r,n,s){if(!t){n(s(r));return}var i=e5(n),o={announce:i};t(r,o),i.wasCalled()||n(s(r))},i5=function(e,t){var r=t5(),n=null,s=function(m,p){n&&Q(),fo("onBeforeCapture",function(){var h=e().onBeforeCapture;if(h){var v={draggableId:m,mode:p};h(v)}})},i=function(m,p){n&&Q(),fo("onBeforeDragStart",function(){var h=e().onBeforeDragStart;h&&h(Cc(m,p))})},o=function(m,p){n&&Q();var h=Cc(m,p);n={mode:p,lastCritical:m,lastLocation:h.source,lastCombine:null},r.add(function(){fo("onDragStart",function(){return Zf(e().onDragStart,h,t,Qc.onDragStart)})})},l=function(m,p){var h=Dg(p),v=Md(p);n||Q();var b=!s5(m,n.lastCritical);b&&(n.lastCritical=m);var g=!r5(n.lastLocation,h);g&&(n.lastLocation=h);var x=!n5(n.lastCombine,v);if(x&&(n.lastCombine=v),!(!b&&!g&&!x)){var y=ce({},Cc(m,n.mode),{combine:v,destination:h});r.add(function(){fo("onDragUpdate",function(){return Zf(e().onDragUpdate,y,t,Qc.onDragUpdate)})})}},c=function(){n||Q(),r.flush()},u=function(m){n||Q(),n=null,fo("onDragEnd",function(){return Zf(e().onDragEnd,m,t,Qc.onDragEnd)})},f=function(){if(n){var m=ce({},Cc(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(m)}};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:c,drop:u,abort:f}},a5=function(e,t){var r=i5(e,t);return function(n){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),s(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},o5=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&Q(),e.dispatch(Lg({completed:n.completed}))}}},l5=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Nj())}};r=requestAnimationFrame(function(){r=null,t=mr(window,[o])})}}}},c5=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},u5=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},d5=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},f5=function(e){return function(t){return function(r){return function(n){if(d5(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&Q(),e.start(s);return}r(n),e.scroll(t.getState())}}}},m5=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Sj({reason:n.reason})))}}}},p5=DN,h5=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,i=e.announce,o=e.autoScroller;return IN(C_,p5(tO(H_(n),c5(t),U_(t),Q_,o5,l5,m5,f5(o),J_,u5(r),a5(s,i))))},Xf=function(){return{additions:{},removals:{},modified:{}}};function g5(e){var t=e.registry,r=e.callbacks,n=Xf(),s=null,i=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var f=n,d=f.additions,m=f.removals,p=f.modified,h=Object.keys(d).map(function(g){return t.draggable.getById(g).getDimension(dt)}).sort(function(g,x){return g.descriptor.index-x.descriptor.index}),v=Object.keys(p).map(function(g){var x=t.droppable.getById(g),y=x.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:y}}),b={additions:h,removals:Object.keys(m),modified:v};n=Xf(),r.publish(b)}))},o=function(f){var d=f.descriptor.id;n.additions[d]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},l=function(f){var d=f.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Xf())};return{add:o,remove:l,stop:c}}var Ej=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,i=Xt({x:r,y:t},{x:s,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Pj=function(){var e=document.documentElement;return e||Q(),e},kj=function(){var e=Pj(),t=Ej({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},v5=function(){var e=Cj(),t=kj(),r=e.y,n=e.x,s=Pj(),i=s.clientWidth,o=s.clientHeight,l=n+i,c=r+o,u=Lr({top:r,left:n,right:l,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:dt,displacement:dt}}};return f},x5=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=v5(),i=s.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(i)}),u={draggables:nj(c),droppables:rj(l)},f={dimensions:u,critical:t,viewport:s};return f};function Ly(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var y5=function(e,t){var r=null,n=g5({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(p,h){e.droppable.exists(p)||Q(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:h})},i=function(p,h){r&&(e.droppable.exists(p)||Q(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:h}))},o=function(p,h){r&&(e.droppable.exists(p)||Q(),t.updateDroppableScroll({id:p,newScroll:h}))},l=function(p,h){r&&e.droppable.getById(p).callbacks.scroll(h)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(h){return h.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||Q();var h=r.critical.draggable;p.type==="ADDITION"&&Ly(e,h,p.value)&&n.add(p.value),p.type==="REMOVAL"&&Ly(e,h,p.value)&&n.remove(p.value)},f=function(p){r&&Q();var h=e.draggable.getById(p.draggableId),v=e.droppable.getById(h.descriptor.droppableId),b={draggable:h.descriptor,droppable:v.descriptor},g=e.subscribe(u);return r={critical:b,unsubscribe:g},x5({critical:b,registry:e,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:f,stopPublishing:c};return d},Tj=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},b5=function(e){window.scrollBy(e.x,e.y)},w5=ut(function(e){return Fd(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),S5=function(t,r){var n=zs(w5(r),function(s){return s.frame||Q(),mj(s.frame.pageMarginBox)(t)});return n},N5=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var i=S5(t,n);return i},Cs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},j5=function(e,t){var r=e[t.size]*Cs.startFromPercentage,n=e[t.size]*Cs.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},Ij=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var i=n-t,o=i/s;return o},Bg=1,C5=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Cs.maxPixelScroll;if(e===t.startScrollingFrom)return Bg;var r=Ij({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Cs.maxPixelScroll*Cs.ease(n);return Math.ceil(s)},$y=Cs.durationDampening.accelerateAt,zy=Cs.durationDampening.stopDampeningAt,E5=function(e,t){var r=t,n=zy,s=Date.now(),i=s-r;if(i>=zy)return e;if(i<$y)return Bg;var o=Ij({startOfRange:$y,endOfRange:n,current:i}),l=e*Cs.ease(o);return Math.ceil(l)},By=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,i=C5(t,r);return i===0?0:s?Math.max(E5(i,n),Bg):i},Uy=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,o=j5(t,s),l=r[s.end]<r[s.start];return l?By({distanceToEdge:r[s.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*By({distanceToEdge:r[s.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},P5=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,i=r.width>t.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}},k5=ej(function(e){return e===0?0:e}),Dj=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,i=e.shouldUseTimeDampening,o={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=Uy({container:r,distanceToEdges:o,dragStartTime:t,axis:Ag,shouldUseTimeDampening:i}),c=Uy({container:r,distanceToEdges:o,dragStartTime:t,axis:aj,shouldUseTimeDampening:i}),u=k5({x:c,y:l});if(js(u,dt))return null;var f=P5({container:r,subject:n,proposedScroll:u});return f?js(f,dt)?null:f:null},T5=ej(function(e){return e===0?0:e>0?1:-1}),Ug=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,i=vt(r,s),o={x:e(i.x,n.x),y:e(i.y,n.y)};return js(o,dt)?null:o}}(),Aj=function(t){var r=t.max,n=t.current,s=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=T5(s),l=Ug({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Hg=function(t,r){return Aj({current:t.scroll.current,max:t.scroll.max,change:r})},I5=function(t,r){if(!Hg(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return Ug({current:s,max:n,change:r})},qg=function(t,r){var n=t.frame;return n?Aj({current:n.scroll.current,max:n.scroll.max,change:r}):!1},D5=function(t,r){var n=t.frame;return!n||!qg(t,r)?null:Ug({current:n.scroll.current,max:n.scroll.max,change:r})},A5=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=Dj({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Hg(t,o)?o:null},R5=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=Dj({dragStartTime:s,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&qg(t,l)?l:null},Hy=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,f=A5({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(f){s(f);return}}var d=N5({center:o,destination:tr(t.impact),droppables:t.dimensions.droppables});if(d){var m=R5({dragStartTime:r,droppable:d,subject:c,center:o,shouldUseTimeDampening:n});m&&i(d.descriptor.id,m)}},O5=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=cl(t),s=cl(r),i=null,o=function(f){i||Q();var d=i,m=d.shouldUseTimeDampening,p=d.dragStartTime;Hy({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:p,shouldUseTimeDampening:m})},l=function(f){i&&Q();var d=Date.now(),m=!1,p=function(){m=!0};Hy({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),i={dragStartTime:d,shouldUseTimeDampening:m},m&&o(f)},c=function(){i&&(n.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:o}},_5=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,f){var d=vt(u.current.client.selection,f);t({client:d})},i=function(u,f){if(!qg(u,f))return f;var d=D5(u,f);if(!d)return r(u.descriptor.id,f),null;var m=Xt(f,d);r(u.descriptor.id,m);var p=Xt(f,m);return p},o=function(u,f,d){if(!u||!Hg(f,d))return d;var m=I5(f,d);if(!m)return n(d),null;var p=Xt(d,m);n(p);var h=Xt(d,p);return h},l=function(u){var f=u.scrollJumpRequest;if(f){var d=tr(u.impact);d||Q();var m=i(u.dimensions.droppables[d],f);if(m){var p=u.viewport,h=o(u.isWindowScrollAllowed,p,m);h&&s(u,h)}}};return l},F5=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=O5({scrollWindow:r,scrollDroppable:t}),i=_5({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:o,start:s.start,stop:s.stop};return l},Ra="data-rbd",Oa=function(){var e=Ra+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ap=function(){var e=Ra+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),M5=function(){var e=Ra+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),qy={contextId:Ra+"-scroll-container-context-id"},L5=function(t){return function(r){return"["+r+'="'+t+'"]'}},mo=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},$5="pointer-events: none;",z5=function(e){var t=L5(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Oa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:$5,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+_o.outOfTheWay+`;
    `;return{selector:t(Ap.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(M5.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,s,i];return{always:mo(o,"always"),resting:mo(o,"resting"),dragging:mo(o,"dragging"),dropAnimating:mo(o,"dropAnimating"),userCancel:mo(o,"userCancel")}},rr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,Jf=function(){var t=document.querySelector("head");return t||Q(),t},Vy=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function B5(e,t){var r=Pe(function(){return z5(e)},[e]),n=k.useRef(null),s=k.useRef(null),i=ne(ut(function(d){var m=s.current;m||Q(),m.textContent=d}),[]),o=ne(function(d){var m=n.current;m||Q(),m.textContent=d},[]);rr(function(){!n.current&&!s.current||Q();var d=Vy(t),m=Vy(t);return n.current=d,s.current=m,d.setAttribute(Ra+"-always",e),m.setAttribute(Ra+"-dynamic",e),Jf().appendChild(d),Jf().appendChild(m),o(r.always),i(r.resting),function(){var p=function(v){var b=v.current;b||Q(),Jf().removeChild(b),v.current=null};p(n),p(s)}},[t,o,i,r.always,r.resting,e]);var l=ne(function(){return i(r.dragging)},[i,r.dragging]),c=ne(function(d){if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=ne(function(){s.current&&i(r.resting)},[i,r.resting]),f=Pe(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return f}var Rj=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function zd(e){return e instanceof Rj(e).HTMLElement}function U5(e,t){var r="["+Oa.contextId+'="'+e+'"]',n=tj(document.querySelectorAll(r));if(!n.length)return null;var s=zs(n,function(i){return i.getAttribute(Oa.draggableId)===t});return!s||!zd(s)?null:s}function H5(e){var t=k.useRef({}),r=k.useRef(null),n=k.useRef(null),s=k.useRef(!1),i=ne(function(m,p){var h={id:m,focus:p};return t.current[m]=h,function(){var b=t.current,g=b[m];g!==h&&delete b[m]}},[]),o=ne(function(m){var p=U5(e,m);p&&p!==document.activeElement&&p.focus()},[e]),l=ne(function(m,p){r.current===m&&(r.current=p)},[]),c=ne(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var m=r.current;m&&o(m)}))},[o]),u=ne(function(m){r.current=null;var p=document.activeElement;p&&p.getAttribute(Oa.draggableId)===m&&(r.current=m)},[]);rr(function(){return s.current=!0,function(){s.current=!1;var m=n.current;m&&cancelAnimationFrame(m)}},[]);var f=Pe(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return f}function q5(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(function(m){return m(d)})}function s(d){return e.draggables[d]||null}function i(d){var m=s(d);return m||Q(),m}var o={register:function(m){e.draggables[m.descriptor.id]=m,n({type:"ADDITION",value:m})},update:function(m,p){var h=e.draggables[p.descriptor.id];h&&h.uniqueId===m.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:function(m){var p=m.descriptor.id,h=s(p);h&&m.uniqueId===h.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:m}))},getById:i,findById:s,exists:function(m){return!!s(m)},getAllByType:function(m){return Fu(e.draggables).filter(function(p){return p.descriptor.type===m})}};function l(d){return e.droppables[d]||null}function c(d){var m=l(d);return m||Q(),m}var u={register:function(m){e.droppables[m.descriptor.id]=m},unregister:function(m){var p=l(m.descriptor.id);p&&m.uniqueId===p.uniqueId&&delete e.droppables[m.descriptor.id]},getById:c,findById:l,exists:function(m){return!!l(m)},getAllByType:function(m){return Fu(e.droppables).filter(function(p){return p.descriptor.type===m})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:f}}function V5(){var e=Pe(q5,[]);return k.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Vg=q.createContext(null),Lu=function(){var e=document.body;return e||Q(),e},W5={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},G5=function(t){return"rbd-announcement-"+t};function K5(e){var t=Pe(function(){return G5(e)},[e]),r=k.useRef(null);k.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ce(i.style,W5),Lu().appendChild(i),function(){setTimeout(function(){var c=Lu();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=ne(function(s){var i=r.current;if(i){i.textContent=s;return}},[]);return n}var Q5=0,Y5={separator:"::"};function Wg(e,t){return t===void 0&&(t=Y5),Pe(function(){return""+e+t.separator+Q5++},[t.separator,e])}function Z5(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function X5(e){var t=e.contextId,r=e.text,n=Wg("hidden-text",{separator:"-"}),s=Pe(function(){return Z5({contextId:t,uniqueId:n})},[n,t]);return k.useEffect(function(){var o=document.createElement("div");return o.id=s,o.textContent=r,o.style.display="none",Lu().appendChild(o),function(){var c=Lu();c.contains(o)&&c.removeChild(o)}},[s,r]),s}var Bd=q.createContext(null);function Oj(e){var t=k.useRef(e);return k.useEffect(function(){t.current=e}),t}function J5(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&Q();var l={abandon:o};return e=l,l}function s(){e||Q(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}var eF=9,tF=13,Gg=27,_j=32,rF=33,nF=34,sF=35,iF=36,aF=37,oF=38,lF=39,cF=40,Ec,uF=(Ec={},Ec[tF]=!0,Ec[eF]=!0,Ec),Fj=function(e){uF[e.keyCode]&&e.preventDefault()},Ud=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=zs(t,function(n){return"on"+n in document});return r||e}(),Mj=0,Wy=5;function dF(e,t){return Math.abs(t.x-e.x)>=Wy||Math.abs(t.y-e.y)>=Wy}var Gy={type:"IDLE"};function fF(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===Mj){var f={x:c,y:u},d=n();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(f);return}d.type!=="PENDING"&&Q();var m=d.point;if(dF(m,f)){o.preventDefault();var p=d.actions.fluidLift(f);s({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===Gg){o.preventDefault(),t();return}Fj(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&Q(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Ud,fn:t}]}function mF(e){var t=k.useRef(Gy),r=k.useRef(Ns),n=Pe(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===Mj&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var m=e.findClosestDraggableId(d);if(m){var p=e.tryGetLock(m,o,{sourceEvent:d});if(p){d.preventDefault();var h={x:d.clientX,y:d.clientY};r.current(),u(p,h)}}}}}},[e]),s=Pe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var m=e.findClosestDraggableId(d);if(m){var p=e.findOptionsForDraggable(m);p&&(p.shouldRespectForcePress||e.canGetLock(m)&&d.preventDefault())}}}}},[e]),i=ne(function(){var d={passive:!1,capture:!0};r.current=mr(window,[s,n],d)},[s,n]),o=ne(function(){var f=t.current;f.type!=="IDLE"&&(t.current=Gy,r.current(),i())},[i]),l=ne(function(){var f=t.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),c=ne(function(){var d={capture:!0,passive:!1},m=fF({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(h){t.current=h}});r.current=mr(window,m,d)},[l,o]),u=ne(function(d,m){t.current.type!=="IDLE"&&Q(),t.current={type:"PENDING",point:m,actions:d},c()},[c]);rr(function(){return i(),function(){r.current()}},[i])}var Fi;function pF(){}var hF=(Fi={},Fi[nF]=!0,Fi[rF]=!0,Fi[iF]=!0,Fi[sF]=!0,Fi);function gF(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Gg){i.preventDefault(),r();return}if(i.keyCode===_j){i.preventDefault(),n();return}if(i.keyCode===cF){i.preventDefault(),e.moveDown();return}if(i.keyCode===oF){i.preventDefault(),e.moveUp();return}if(i.keyCode===lF){i.preventDefault(),e.moveRight();return}if(i.keyCode===aF){i.preventDefault(),e.moveLeft();return}if(hF[i.keyCode]){i.preventDefault();return}Fj(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Ud,fn:r}]}function vF(e){var t=k.useRef(pF),r=Pe(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==_j)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,f,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function f(){c||Q(),c=!1,t.current(),n()}t.current=mr(window,gF(u,f),{capture:!0,passive:!1})}}},[e]),n=ne(function(){var i={passive:!1,capture:!0};t.current=mr(window,[r],i)},[r]);rr(function(){return n(),function(){t.current()}},[n])}var em={type:"IDLE"},xF=120,yF=.15;function bF(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===Gg&&s.preventDefault(),t()}},{eventName:Ud,fn:t}]}function wF(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,f={x:c,y:u};i.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&Q();var l=i.touches[0];if(l){var c=l.force>=yF;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Ud,fn:t}]}function SF(e){var t=k.useRef(em),r=k.useRef(Ns),n=ne(function(){return t.current},[]),s=ne(function(p){t.current=p},[]),i=Pe(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var h=e.findClosestDraggableId(p);if(h){var v=e.tryGetLock(h,l,{sourceEvent:p});if(v){var b=p.touches[0],g=b.clientX,x=b.clientY,y={x:g,y:x};r.current(),d(v,y)}}}}}},[e]),o=ne(function(){var p={capture:!0,passive:!1};r.current=mr(window,[i],p)},[i]),l=ne(function(){var m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),s(em),r.current(),o())},[o,s]),c=ne(function(){var m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),u=ne(function(){var p={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},v=mr(window,wF(h),p),b=mr(window,bF(h),p);r.current=function(){v(),b()}},[c,n,l]),f=ne(function(){var p=n();p.type!=="PENDING"&&Q();var h=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[n,s]),d=ne(function(p,h){n().type!=="IDLE"&&Q();var v=setTimeout(f,xF);s({type:"PENDING",point:h,actions:p,longPressTimerId:v}),u()},[u,n,s,f]);rr(function(){return o(),function(){r.current();var h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(em))}},[n,o,s]),rr(function(){var p=mr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var NF={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Lj(e,t){if(t==null)return!1;var r=!!NF[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Lj(e,t.parentElement)}function jF(e,t){var r=t.target;return zd(r)?Lj(e,r):!1}var CF=function(e){return Lr(e.getBoundingClientRect()).center};function EF(e){return e instanceof Rj(e).Element}var PF=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=zs(t,function(n){return n in Element.prototype});return r||e}();function $j(e,t){return e==null?null:e[PF](t)?e:$j(e.parentElement,t)}function kF(e,t){return e.closest?e.closest(t):$j(e,t)}function TF(e){return"["+Oa.contextId+'="'+e+'"]'}function IF(e,t){var r=t.target;if(!EF(r))return null;var n=TF(e),s=kF(r,n);return!s||!zd(s)?null:s}function DF(e,t){var r=IF(e,t);return r?r.getAttribute(Oa.draggableId):null}function AF(e,t){var r="["+Ap.contextId+'="'+e+'"]',n=tj(document.querySelectorAll(r)),s=zs(n,function(i){return i.getAttribute(Ap.id)===t});return!s||!zd(s)?null:s}function RF(e){e.preventDefault()}function Pc(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function zj(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!Tj(r.getState(),s))}function OF(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=zj({lockAPI:t,store:n,registry:s,draggableId:i});if(!c)return null;var u=s.draggable.getById(i),f=AF(r,u.descriptor.id);if(!f||l&&!u.options.canDragInteractiveElements&&jF(f,l))return null;var d=t.claim(o||Ns),m="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function h(){return t.isActive(d)}function v(j,C){Pc({expected:j,phase:m,isLockActive:h,shouldWarn:!0})&&n.dispatch(C())}var b=v.bind(null,"DRAGGING");function g(j){function C(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(C(),m!=="PRE_DRAG"&&Q()),n.dispatch(P_(j.liftActionArgs)),m="DRAGGING";function E(T,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),j.cleanup(),A.shouldBlockNextClick){var _=mr(window,[{eventName:"click",fn:RF,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(_)}C(),n.dispatch(Sj({reason:T}))}return ce({isActive:function(){return Pc({expected:"DRAGGING",phase:m,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(A){return E("DROP",A)},cancel:function(A){return E("CANCEL",A)}},j.actions)}function x(j){var C=cl(function(T){b(function(){return wj({client:T})})}),E=g({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return ce({},E,{move:C})}function y(){var j={moveUp:function(){return b(F_)},moveRight:function(){return b(L_)},moveDown:function(){return b(M_)},moveLeft:function(){return b($_)}};return g({liftActionArgs:{id:i,clientSelection:CF(f),movementMode:"SNAP"},cleanup:Ns,actions:j})}function w(){var j=Pc({expected:"PRE_DRAG",phase:m,isLockActive:h,shouldWarn:!0});j&&t.release()}var S={isActive:function(){return Pc({expected:"PRE_DRAG",phase:m,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:x,snapLift:y,abort:w};return S}var _F=[mF,vF,SF];function FF(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?_F:[],s||[]),l=k.useState(function(){return J5()})[0],c=ne(function(x,y){x.isDragging&&!y.isDragging&&l.tryAbandon()},[l]);rr(function(){var x=r.getState(),y=r.subscribe(function(){var w=r.getState();c(x,w),x=w});return y},[l,r,c]),rr(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=ne(function(g){return zj({lockAPI:l,registry:n,store:r,draggableId:g})},[l,n,r]),f=ne(function(g,x,y){return OF({lockAPI:l,registry:n,contextId:t,store:r,draggableId:g,forceSensorStop:x,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,l,n,r]),d=ne(function(g){return DF(t,g)},[t]),m=ne(function(g){var x=n.draggable.findById(g);return x?x.options:null},[n.draggable]),p=ne(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Mg()))},[l,r]),h=ne(l.isClaimed,[l]),v=Pe(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:m,tryReleaseLock:p,isLockClaimed:h}},[u,f,d,m,p,h]),b=0;b<o.length;b++)o[b](v)}var MF=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function po(e){return e.current||Q(),e.current}function LF(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,o=k.useRef(null),l=Oj(e),c=ne(function(){return MF(l.current)},[l]),u=K5(t),f=X5({contextId:t,text:i}),d=B5(t,s),m=ne(function(T){po(o).dispatch(T)},[]),p=Pe(function(){return gy({publishWhileDragging:T_,updateDroppableScroll:D_,updateDroppableIsEnabled:A_,updateDroppableIsCombineEnabled:R_,collectionStarting:I_},m)},[m]),h=V5(),v=Pe(function(){return y5(h,p)},[h,p]),b=Pe(function(){return F5(ce({scrollWindow:b5,scrollDroppable:v.scrollDroppable},gy({move:wj},m)))},[v.scrollDroppable,m]),g=H5(t),x=Pe(function(){return h5({announce:u,autoScroller:b,dimensionMarshal:v,focusMarshal:g,getResponders:c,styleMarshal:d})},[u,b,v,g,c,d]);o.current=x;var y=ne(function(){var T=po(o),A=T.getState();A.phase!=="IDLE"&&T.dispatch(Mg())},[]),w=ne(function(){var T=po(o).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),S=Pe(function(){return{isDragging:w,tryAbort:y}},[w,y]);r(S);var j=ne(function(T){return Tj(po(o).getState(),T)},[]),C=ne(function(){return Ks(po(o).getState())},[]),E=Pe(function(){return{marshal:v,focus:g,contextId:t,canLift:j,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:h}},[t,v,f,g,j,C,h]);return FF({contextId:t,store:x,registry:h,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),k.useEffect(function(){return y},[y]),q.createElement(Bd.Provider,{value:E},q.createElement(aO,{context:Vg,store:x},e.children))}var $F=0;function zF(){return Pe(function(){return""+$F++},[])}function BF(e){var t=zF(),r=e.dragHandleUsageInstructions||Qc.dragHandleUsageInstructions;return q.createElement(v3,null,function(n){return q.createElement(LF,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Bj=function(t){return function(r){return t===r}},UF=Bj("scroll"),HF=Bj("auto"),Ky=function(t,r){return r(t.overflowX)||r(t.overflowY)},qF=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Ky(n,UF)||Ky(n,HF)},VF=function(){return!1},WF=function e(t){return t==null?null:t===document.body?VF()?t:null:t===document.documentElement?null:qF(t)?t:e(t.parentElement)},Rp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},GF=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},KF=function(e){var t=WF(e),r=GF(e);return{closestScrollable:t,isFixedOnPage:r}},QF=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,h=c.client,v=Ej({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:h,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:dt,displacement:dt}}}}(),f=i==="vertical"?Ag:aj,d=Aa({page:l,withPlaceholder:null,axis:f,frame:u}),m={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:f,isEnabled:r,client:o,page:l,frame:u,subject:d};return m},YF=function(t,r){var n=YN(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=s+r.scrollHeight,l=i+r.scrollWidth,c={top:s,right:l,bottom:o,left:i},u=Pg(c,n.border),f=kg({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},ZF=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=YF(t,u),d=Ru(f,s),m=function(){if(!u)return null;var h=YN(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:h,page:Ru(h,s),scroll:Rp(u),scrollSize:v,shouldClipSubject:c}}(),p=QF({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:d,closest:m});return p},XF={passive:!1},JF={passive:!0},Qy=function(e){return e.shouldPublishImmediately?XF:JF};function $u(e){var t=k.useContext(e);return t||Q(),t}var kc=function(t){return t&&t.env.closestScrollable||null};function eM(e){var t=k.useRef(null),r=$u(Bd),n=Wg("droppable"),s=r.registry,i=r.marshal,o=Oj(e),l=Pe(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=k.useRef(l),u=Pe(function(){return ut(function(w,S){t.current||Q();var j={x:w,y:S};i.updateDroppableScroll(l.id,j)})},[l.id,i]),f=ne(function(){var w=t.current;return!w||!w.env.closestScrollable?dt:Rp(w.env.closestScrollable)},[]),d=ne(function(){var w=f();u(w.x,w.y)},[f,u]),m=Pe(function(){return cl(d)},[d]),p=ne(function(){var w=t.current,S=kc(w);w&&S||Q();var j=w.scrollOptions;if(j.shouldPublishImmediately){d();return}m()},[m,d]),h=ne(function(w,S){t.current&&Q();var j=o.current,C=j.getDroppableRef();C||Q();var E=KF(C),T={ref:C,descriptor:l,env:E,scrollOptions:S};t.current=T;var A=ZF({ref:C,descriptor:l,env:E,windowScroll:w,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),_=E.closestScrollable;return _&&(_.setAttribute(qy.contextId,r.contextId),_.addEventListener("scroll",p,Qy(T.scrollOptions))),A},[r.contextId,l,p,o]),v=ne(function(){var w=t.current,S=kc(w);return w&&S||Q(),Rp(S)},[]),b=ne(function(){var w=t.current;w||Q();var S=kc(w);t.current=null,S&&(m.cancel(),S.removeAttribute(qy.contextId),S.removeEventListener("scroll",p,Qy(w.scrollOptions)))},[p,m]),g=ne(function(w){var S=t.current;S||Q();var j=kc(S);j||Q(),j.scrollTop+=w.y,j.scrollLeft+=w.x},[]),x=Pe(function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:v,dragStopped:b,scroll:g}},[b,h,v,g]),y=Pe(function(){return{uniqueId:n,descriptor:l,callbacks:x}},[x,l,n]);rr(function(){return c.current=y.descriptor,s.droppable.register(y),function(){t.current&&b(),s.droppable.unregister(y)}},[x,l,b,y,i,s.droppable]),rr(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),rr(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function tm(){}var Yy={width:0,height:0,margin:N3},tM=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?Yy:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},rM=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,i=tM({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?_o.placeholder:null}};function nM(e){var t=k.useRef(null),r=ne(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=k.useState(e.animate==="open"),c=l[0],u=l[1];k.useEffect(function(){return c?n!=="open"?(r(),u(!1),tm):t.current?tm:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):tm},[n,c,r]);var f=ne(function(m){m.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),d=rM({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return q.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:e.innerRef})}var sM=q.memo(nM),Kg=q.createContext(null),iM=function(e){TN(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(q.PureComponent),Zy={dragging:5e3,dropAnimating:4500},aM=function(t,r){return r?_o.drop(r.duration):t?_o.snap:_o.fluid},oM=function(t,r){return t?r?ml.opacity.drop:ml.opacity.combining:null},lM=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function cM(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,i=e.dropping,o=!!s,l=lM(e),c=!!i,u=c?Ip.drop(n,o):Ip.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:aM(l,i),transform:u,opacity:oM(o,c),zIndex:c?Zy.dropAnimating:Zy.dragging,pointerEvents:"none"};return f}function uM(e){return{transform:Ip.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function dM(e){return e.type==="DRAGGING"?cM(e):uM(e)}function fM(e,t,r){r===void 0&&(r=dt);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=QN(s,n),o=Ru(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return u}function mM(e){var t=Wg("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Pe(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),u=ne(function(p){var h=s();return h||Q(),fM(r,h,p)},[r,s]),f=Pe(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),d=k.useRef(f),m=k.useRef(!0);rr(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),rr(function(){if(m.current){m.current=!1;return}var p=d.current;d.current=f,n.draggable.update(f,p)},[f,n.draggable])}function pM(e){e.preventDefault()}function hM(e){var t=k.useRef(null),r=ne(function(T){t.current=T},[]),n=ne(function(){return t.current},[]),s=$u(Bd),i=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=$u(Kg),u=c.type,f=c.droppableId,d=Pe(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),m=e.children,p=e.draggableId,h=e.isEnabled,v=e.shouldRespectForcePress,b=e.canDragInteractiveElements,g=e.isClone,x=e.mapped,y=e.dropAnimationFinished;if(!g){var w=Pe(function(){return{descriptor:d,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:h}},[d,l,n,b,v,h]);mM(w)}var S=Pe(function(){return h?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:pM}:null},[i,o,p,h]),j=ne(function(T){x.type==="DRAGGING"&&x.dropping&&T.propertyName==="transform"&&y()},[y,x]),C=Pe(function(){var T=dM(x),A=x.type==="DRAGGING"&&x.dropping?j:null,_={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":p,style:T,onTransitionEnd:A},dragHandleProps:S};return _},[i,S,p,x,j,r]),E=Pe(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return m(C,x.snapshot,E)}var Uj=function(e,t){return e===t},Hj=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},gM=function(t){return t.combine?t.combine.draggableId:null},vM=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function xM(){var e=ut(function(s,i){return{x:s,y:i}}),t=ut(function(s,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=ut(function(s,i,o,l,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:o,forceShouldAnimate:f,snapshot:t(i,l,c,u,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],u=tr(i.impact),f=vM(i.impact),d=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,u,f,d)}if(i.phase==="DROP_ANIMATING"){var m=i.completed;if(m.result.draggableId!==o.draggableId)return null;var p=o.isClone,h=i.dimensions.draggables[o.draggableId],v=m.result,b=v.mode,g=Hj(v),x=gM(v),y=i.dropDuration,w={duration:y,curve:$g.drop,moveTo:i.newHomeClientOffset,opacity:x?ml.opacity.drop:null,scale:x?ml.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:h,dropping:w,draggingOver:g,combineWith:x,mode:b,forceShouldAnimate:null,snapshot:t(b,p,g,x,w)}}}return null};return n}function qj(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var yM={mapped:{type:"SECONDARY",offset:dt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:qj(null)}};function bM(){var e=ut(function(o,l){return{x:o,y:l}}),t=ut(qj),r=ut(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(dt,l,!0):null},s=function(l,c,u,f){var d=u.displaced.visible[l],m=!!(f.inVirtualList&&f.effected[l]),p=Md(u),h=p&&p.draggableId===l?c:null;if(!d){if(!m)return n(h);if(u.displaced.invisible[l])return null;var v=Wa(f.displacedBy.point),b=e(v.x,v.y);return r(b,h,!0)}if(m)return n(h);var g=u.displacedBy.point,x=e(g.x,g.y);return r(x,h,d.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var wM=function(){var t=xM(),r=bM(),n=function(i,o){return t(i,o)||r(i,o)||yM};return n},SM={dropAnimationFinished:Nj},NM=GN(wM,SM,null,{context:Vg,pure:!0,areStatePropsEqual:Uj})(hM);function Vj(e){var t=$u(Kg),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:q.createElement(NM,e)}function jM(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return q.createElement(Vj,ce({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function CM(e){var t=k.useContext(Bd);t||Q();var r=t.contextId,n=t.isMovementAllowed,s=k.useRef(null),i=k.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,f=e.direction,d=e.ignoreContainerClipping,m=e.isDropDisabled,p=e.isCombineEnabled,h=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,g=e.getContainerForClone,x=ne(function(){return s.current},[]),y=ne(function(_){s.current=_},[]);ne(function(){return i.current},[]);var w=ne(function(_){i.current=_},[]),S=ne(function(){n()&&b({maxScroll:kj()})},[n,b]);eM({droppableId:l,type:c,mode:u,direction:f,isDropDisabled:m,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:x});var j=q.createElement(iM,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(_){var P=_.onClose,O=_.data,R=_.animate;return q.createElement(sM,{placeholder:O,onClose:P,innerRef:w,animate:R,contextId:r,onTransitionEnd:S})}),C=Pe(function(){return{innerRef:y,placeholder:j,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,j,y]),E=v?v.dragging.draggableId:null,T=Pe(function(){return{droppableId:l,type:c,isUsingCloneFor:E}},[l,E,c]);function A(){if(!v)return null;var _=v.dragging,P=v.render,O=q.createElement(Vj,{draggableId:_.draggableId,index:_.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(R,$){return P(R,$,_)});return Gh.createPortal(O,g())}return q.createElement(Kg.Provider,{value:T},o(C,h),A())}var rm=function(t,r){return t===r.droppable.type},Xy=function(t,r){return r.draggables[t.draggable.id]},EM=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ce({},t,{shouldAnimatePlaceholder:!1}),n=ut(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),s=ut(function(o,l,c,u,f,d){var m=f.descriptor.id,p=f.descriptor.droppableId===o;if(p){var h=d?{render:d,dragging:n(f.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:h}}if(!l)return r;if(!u)return t;var b={isDraggingOver:c,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(l,c){var u=c.droppableId,f=c.type,d=!c.isDropDisabled,m=c.renderClone;if(l.isDragging){var p=l.critical;if(!rm(f,p))return r;var h=Xy(p,l.dimensions),v=tr(l.impact)===u;return s(u,d,v,v,h,m)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!rm(f,b.critical))return r;var g=Xy(b.critical,l.dimensions);return s(u,d,Hj(b.result)===u,tr(b.impact)===u,g,m)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var x=l.completed;if(!rm(f,x.critical))return r;var y=tr(x.impact)===u,w=!!(x.impact.at&&x.impact.at.type==="COMBINE"),S=x.critical.droppable.id===u;return y?w?t:r:S?t:r}return r};return i},PM={updateViewportMaxScroll:__};function kM(){return document.body||Q(),document.body}var TM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:kM},Wj=GN(EM,PM,null,{context:Vg,pure:!0,areStatePropsEqual:Uj})(CM);Wj.defaultProps=TM;const IM=({onImagesSelected:e,onImagesWithLabelsSelected:t,buttonLabel:r="Upload Images",className:n,bucketName:s="gallery",folderPath:i,acceptedFileTypes:o="image/*",maxFileSize:l=10*1024*1024,maxFiles:c=10,currentImages:u=[],currentImagesWithLabels:f=[],enableLabels:d=!1})=>{const[m,p]=N.useState(!1),[h,v]=N.useState(u),[b,g]=N.useState(f),[x,y]=N.useState(null),[w,S]=N.useState({}),j=N.useRef(null),{toast:C}=De();T0.useEffect(()=>{d?g(f):v(u)},[u,f,d]);const E=async O=>{const R=O.target.files;if(!R||R.length===0)return;const $=Array.from(R),L=d?b.length:h.length;if(L+$.length>c){C({title:"Too many files",description:`Maximum ${c} images allowed. You currently have ${L} images.`,variant:"destructive"});return}for(const M of $)if(M.size>l){const I=Math.round(l/1048576);C({title:"File too large",description:`${M.name} exceeds ${I}MB limit`,variant:"destructive"});return}await T($)},T=async O=>{p(!0),y(null),S({}),console.log(`Starting upload for ${O.length} file(s)`);try{const R=[];for(let $=0;$<O.length;$++){const L=O[$],M=`${L.name}-${$}`;S(H=>({...H,[M]:0}));const I=L.name.split(".").pop(),F=Date.now(),z=Math.random().toString(36).substring(2,15),K=`${F}-${z}-${$}.${I}`,V=i?`${i}/${K}`:K;if(console.log(`Uploading file ${$+1}/${O.length}:`,V),$===0){const{data:H,error:se}=await B.storage.listBuckets();if(!se&&H&&!H.find(te=>te.name===s)){console.log(`Bucket ${s} not found. Creating...`);const{error:te}=await B.storage.createBucket(s,{public:!0,fileSizeLimit:52428800});te&&console.warn("Could not create bucket:",te)}}S(H=>({...H,[M]:50}));const{data:ee,error:Y}=await B.storage.from(s).upload(V,L,{cacheControl:"3600",upsert:!0});if(Y)throw console.error(`Upload error for file ${L.name}:`,Y),new Error(`Failed to upload ${L.name}: ${Y.message}`);if(!ee)throw new Error(`No data returned from upload for ${L.name}`);const{data:fe}=B.storage.from(s).getPublicUrl(V),be=fe.publicUrl;R.push(be),S(H=>({...H,[M]:100})),console.log(`File ${$+1}/${O.length} uploaded successfully:`,be)}if(d){const $=[...b,...R.map(L=>({url:L,label:""}))];g($),t&&t($)}else{const $=[...h,...R];v($),e($)}C({title:`${O.length} image${O.length>1?"s":""} uploaded`,description:`Successfully uploaded ${O.length} image${O.length>1?"s":""}`})}catch(R){console.error("Error uploading files:",R),y(R.message||"Upload failed"),C({title:"Upload failed",description:R.message||"There was an error uploading your files. Please try again.",variant:"destructive"})}finally{p(!1),S({})}},A=O=>{if(d){const R=b.filter(($,L)=>L!==O);g(R),t&&t(R)}else{const R=h.filter(($,L)=>L!==O);v(R),e(R)}},_=(O,R)=>{if(!d)return;const $=[...b];$[O]={...$[O],label:R},g($),t&&t($)},P=()=>{j.current&&j.current.click()};return a.jsxs("div",{className:`space-y-4 ${n||""}`,children:[a.jsx("input",{ref:j,type:"file",accept:o,onChange:E,multiple:!0,className:"hidden"}),a.jsx(U,{type:"button",onClick:P,disabled:m||(d?b.length:h.length)>=c,className:"w-full",variant:"outline",children:m?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Es,{className:"mr-2 h-4 w-4"}),r," (",d?b.length:h.length,"/",c,")"]})}),m&&Object.keys(w).length>0&&a.jsx("div",{className:"space-y-2",children:Object.entries(w).map(([O,R])=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${R}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[R,"%"]})]},O))}),x&&a.jsx("p",{className:"text-center text-xs text-red-500",children:x}),(d?b.length>0:h.length>0)&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d?b.map((O,R)=>a.jsxs("div",{className:"relative group border rounded-lg p-3",children:[a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:O.url,alt:`Preview ${R+1}`,className:"w-full h-24 object-cover rounded-md border",onError:$=>{const L=$.target;L.src="/placeholder.svg"}}),a.jsx(U,{type:"button",onClick:()=>A(R),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity",size:"icon",children:a.jsx(dn,{size:12})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fa,{size:14,className:"text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Label:"})]}),a.jsx(pe,{type:"text",placeholder:"Enter image label...",value:O.label,onChange:$=>_(R,$.target.value),className:"text-sm"})]})]},R)):h.map((O,R)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:O,alt:`Preview ${R+1}`,className:"w-full h-24 object-cover rounded-md border",onError:$=>{const L=$.target;L.src="/placeholder.svg"}}),a.jsx(U,{type:"button",onClick:()=>A(R),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-red-500 hover:bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity",size:"icon",children:a.jsx(dn,{size:12})})]},R))})]})},DM=({categoryKey:e,categoryName:t})=>{const[r,n]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState(null),{toast:f}=De();N.useEffect(()=>{d()},[e]);const d=async()=>{try{i(!0),console.log("[CategoryGallery] Loading images for category:",e);const{data:g,error:x}=await B.from("content_sections").select("content_value").eq("section_key",`category_${e}_images`).single();if(x&&x.code!=="PGRST116")throw console.error("[CategoryGallery] Database error:",x),x;if(g!=null&&g.content_value)try{const y=JSON.parse(g.content_value);console.log("[CategoryGallery] Loaded data:",y);let w=[];Array.isArray(y)&&(y.length>0&&typeof y[0]=="string"?w=y.filter(S=>S&&S.trim()).map((S,j)=>({id:`${j}`,url:S.trim(),order:j,label:""})):w=y.filter(S=>S&&S.url&&S.url.trim()).map((S,j)=>({id:`${j}`,url:S.url.trim(),order:j,label:S.label||""}))),n(w),console.log("[CategoryGallery] Set gallery images:",w)}catch(y){console.error("[CategoryGallery] JSON parse error:",y),n([])}else console.log("[CategoryGallery] No existing images found"),n([])}catch(g){console.error("[CategoryGallery] Error loading images:",g),f({title:"Error",description:`Failed to load gallery images: ${g.message||g}`,variant:"destructive"}),n([])}finally{i(!1)}},m=async g=>{try{l(!0);const x=g.filter(j=>j.url).sort((j,C)=>j.order-C.order).map(j=>({url:j.url,label:j.label||""}));console.log("[CategoryGallery] Saving images with labels:",x);const{data:y,error:w}=await B.from("content_sections").select("id").eq("section_key",`category_${e}_images`).single();if(w&&w.code!=="PGRST116")throw console.error("[CategoryGallery] Error checking existing section:",w),w;let S;if(y?S=await B.from("content_sections").update({content_value:JSON.stringify(x),updated_at:new Date().toISOString()}).eq("section_key",`category_${e}_images`):S=await B.from("content_sections").insert({section_key:`category_${e}_images`,section_name:`Category Images: ${t}`,content_type:"json",content_value:JSON.stringify(x),metadata:{section:"categories"},is_active:!0}),S.error)throw console.error("[CategoryGallery] Database error:",S.error),S.error;console.log("[CategoryGallery] Images saved successfully"),f({title:"Success",description:"Gallery images saved successfully"})}catch(x){console.error("[CategoryGallery] Error saving images:",x),f({title:"Error",description:`Failed to save gallery images: ${x.message||x}`,variant:"destructive"})}finally{l(!1)}},p=async(g,x)=>{if(!g.type.startsWith("image/")){f({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}if(g.size>52428800){f({title:"File too large",description:"Please select an image smaller than 50MB",variant:"destructive"});return}u(x);try{const y=g.name.split(".").pop(),w=`category-${e}-${Date.now()}-${Math.random().toString(36).substring(2)}.${y}`,S=`categories/${e}/${w}`,{error:j}=await B.storage.from("admin-uploads").upload(S,g,{cacheControl:"3600",upsert:!1});if(j)throw j;const{data:C}=B.storage.from("admin-uploads").getPublicUrl(S),E=[...r];x<E.length?E[x]={...E[x],url:C.publicUrl}:E.push({id:Date.now().toString(),url:C.publicUrl,order:E.length}),n(E),await m(E),f({title:"Success",description:"Image uploaded successfully"})}catch(y){console.error("Upload error:",y),f({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{u(null)}},h=()=>{const g={id:Date.now().toString(),url:"",order:r.length};n([...r,g])},v=async g=>{try{console.log("[CategoryGallery] Removing image at index:",g);const x=r.filter((y,w)=>w!==g).map((y,w)=>({...y,order:w,id:w.toString()}));console.log("[CategoryGallery] New images after removal:",x),n(x),await m(x)}catch(x){console.error("[CategoryGallery] Error removing image:",x),f({title:"Error",description:"Failed to remove image",variant:"destructive"})}},b=async g=>{if(g.destination)try{console.log("[CategoryGallery] Reordering images");const x=Array.from(r),[y]=x.splice(g.source.index,1);x.splice(g.destination.index,0,y);const w=x.map((S,j)=>({...S,order:j,id:j.toString()}));console.log("[CategoryGallery] Reordered images:",w),n(w),await m(w)}catch(x){console.error("[CategoryGallery] Error reordering images:",x),f({title:"Error",description:"Failed to reorder images",variant:"destructive"})}};return s?a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Gallery"]})}),a.jsx(de,{children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(we,{className:"h-8 w-8 animate-spin"})})})]}):a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[t," Gallery",a.jsxs(U,{onClick:h,size:"sm",children:[a.jsx(Es,{className:"h-4 w-4 mr-2"}),"Add Image"]})]})}),a.jsxs(de,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Multiple Image Upload"}),a.jsx(IM,{onImagesWithLabelsSelected:g=>{const x=g.map((y,w)=>({id:`${Date.now()}-${w}`,url:y.url,label:y.label,order:w}));n(x),m(x)},currentImagesWithLabels:r.map(g=>({url:g.url,label:g.label||""})),buttonLabel:"Upload Multiple Images with Labels",bucketName:"admin-uploads",folderPath:`categories/${e}`,maxFiles:20,enableLabels:!0,className:"border-2 border-dashed border-gray-300 rounded-lg p-4"})]}),a.jsx("div",{className:"border-t border-gray-200 my-6",children:a.jsx("p",{className:"text-center text-sm text-gray-500 -mt-3 bg-white px-4 inline-block",children:"OR use individual upload slots below"})}),a.jsx(BF,{onDragEnd:b,children:a.jsx(Wj,{droppableId:"gallery-images",children:g=>a.jsxs("div",{...g.droppableProps,ref:g.innerRef,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.map((x,y)=>a.jsx(jM,{draggableId:x.id,index:y,children:w=>a.jsxs("div",{ref:w.innerRef,...w.draggableProps,className:"border rounded-lg p-4 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{...w.dragHandleProps,children:a.jsx(oE,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Image ",y+1]}),a.jsx(U,{variant:"destructive",size:"sm",onClick:()=>v(y),children:a.jsx(Ma,{className:"h-4 w-4"})})]}),x.url?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:x.url,alt:`${t} ${y+1}`,className:"w-full h-32 object-cover rounded"}),x.label&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 rounded-b",children:x.label})]}):a.jsx("div",{className:"w-full h-32 bg-gray-100 rounded flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-gray-400",children:"No image"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{type:"file",accept:"image/*",onChange:S=>{var C;const j=(C=S.target.files)==null?void 0:C[0];j&&p(j,y)},disabled:c===y,className:"w-full"}),a.jsx(pe,{type:"text",placeholder:"Image label (optional)",value:x.label||"",onChange:S=>{const j=[...r];j[y]={...j[y],label:S.target.value},n(j),m(j)},className:"w-full text-sm"})]}),c===y&&a.jsxs("div",{className:"flex items-center justify-center mt-2",children:[a.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm",children:"Uploading..."})]})]})},x.id)),g.placeholder]})})}),o&&a.jsxs("div",{className:"flex items-center justify-center mt-4",children:[a.jsx(we,{className:"h-4 w-4 animate-spin mr-2"}),a.jsx("span",{className:"text-sm",children:"Saving changes..."})]})]})]})},Gj=({labels:e,onChange:t,placeholder:r="Add a label (e.g., lauree, matrimoni, compleanno)",disabled:n=!1})=>{const[s,i]=N.useState(""),o=()=>{const u=s.trim();u&&!e.includes(u)&&(t([...e,u]),i(""))},l=u=>{t(e.filter(f=>f!==u))},c=u=>{u.key==="Enter"&&(u.preventDefault(),o())};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs(re,{className:"flex items-center gap-2",children:[a.jsx(Fa,{className:"w-4 h-4"}),"Labels/Tags"]}),e.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((u,f)=>a.jsxs(at,{variant:"secondary",className:"flex items-center gap-1",children:[u,!n&&a.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 w-4 h-4 hover:bg-transparent",onClick:()=>l(u),children:a.jsx(dn,{className:"w-3 h-3"})})]},f))}),!n&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pe,{value:s,onChange:u=>i(u.target.value),onKeyPress:c,placeholder:r,className:"flex-1"}),a.jsx(U,{type:"button",onClick:o,disabled:!s.trim()||e.includes(s.trim()),size:"sm",children:a.jsx(Es,{className:"w-4 h-4"})})]}),e.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No labels added yet. Labels help categorize and organize your items."})]})},AM=({categoryKey:e,categoryName:t})=>{const[r,n]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(!1),{toast:c}=De();N.useEffect(()=>{u()},[e]);const u=async()=>{try{i(!0),console.log("[CategoryLabels] Loading labels for category:",e);const{data:d,error:m}=await B.from("categories").select("labels").eq("slug",e).single();if(m&&m.code!=="PGRST116")throw console.error("[CategoryLabels] Database error:",m),m;if(d!=null&&d.labels){const p=Array.isArray(d.labels)?d.labels:[];console.log("[CategoryLabels] Loaded labels:",p),n(p)}else console.log("[CategoryLabels] No existing labels found"),n([])}catch(d){console.error("[CategoryLabels] Error loading labels:",d),c({title:"Error",description:`Failed to load category labels: ${d.message||d}`,variant:"destructive"}),n([])}finally{i(!1)}},f=async()=>{try{l(!0),console.log("[CategoryLabels] Saving labels for category:",e,r);const{error:d}=await B.from("categories").update({labels:r,updated_at:new Date().toISOString()}).eq("slug",e);if(d)throw console.error("[CategoryLabels] Database error:",d),d;console.log("[CategoryLabels] Labels saved successfully"),c({title:"Success",description:"Category labels saved successfully"})}catch(d){console.error("[CategoryLabels] Error saving labels:",d),c({title:"Error",description:`Failed to save category labels: ${d.message||d}`,variant:"destructive"})}finally{l(!1)}};return s?a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Labels"]})}),a.jsx(de,{children:a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(we,{className:"h-8 w-8 animate-spin"})})})]}):a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{children:[t," Labels"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsx(Gj,{labels:r,onChange:n,placeholder:`Add labels for ${t} (e.g., lauree, matrimoni, compleanno)`,disabled:o}),a.jsx(U,{onClick:f,disabled:o,className:"w-full",children:o?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving Labels..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"mr-2 h-4 w-4"}),"Save Labels"]})})]})]})},RM=()=>{const[e,t]=N.useState(!0),[r,n]=N.useState(null),[s,i]=N.useState(!1),[o,l]=N.useState({matrimoni:{explanation:"",features:[]},fiori_piante:{explanation:"",features:[]},fiori_finti:{explanation:"",features:[]},funerali:{explanation:"",features:[]}}),{toast:c}=De(),u=[{key:"matrimoni",name:"Matrimoni",title:"Matrimoni"},{key:"fiori_piante",name:"Fiori & Piante",title:"Fiori & Piante"},{key:"fiori_finti",name:"Fiori Finti",title:"Fiori Finti"},{key:"funerali",name:"Funerali",title:"Funerali"}];N.useEffect(()=>{f()},[]);const f=async()=>{try{t(!0),console.log("[CategoriesAdmin] Loading category content...");const{data:g,error:x}=await B.from("content_sections").select("*").contains("metadata",{section:"categories"});if(x)throw console.error("[CategoriesAdmin] Database error:",x),x;console.log("[CategoriesAdmin] Loaded content sections:",g);const y={};u.forEach(w=>{const S=g==null?void 0:g.find(E=>E.section_key===`category_${w.key}_explanation`),j=g==null?void 0:g.find(E=>E.section_key===`category_${w.key}_features`);let C=[];if(j!=null&&j.content_value)try{const E=JSON.parse(j.content_value);C=Array.isArray(E)?E.filter(T=>T&&T.trim()):[]}catch(E){console.error(`[CategoriesAdmin] Error parsing features for ${w.key}:`,E),C=[]}y[w.key]={explanation:(S==null?void 0:S.content_value)||"",features:C},console.log(`[CategoriesAdmin] Content for ${w.key}:`,y[w.key])}),l(y),console.log("[CategoriesAdmin] Category content loaded successfully")}catch(g){console.error("[CategoriesAdmin] Error loading category content:",g),c({title:"Error",description:`Failed to load category content: ${g.message||g}`,variant:"destructive"})}finally{t(!1)}},d=async(g,x)=>{var y;try{n(`${g}_${x}`);const w=o[g];let S;if(x==="explanation")S=w.explanation;else{const _=w.features.filter(P=>P&&P.trim());S=JSON.stringify(_)}console.log(`[CategoriesAdmin] Saving ${x} for ${g}:`,S);const j=`category_${g}_${x}`,C=`${(y=u.find(_=>_.key===g))==null?void 0:y.name} - ${x==="explanation"?"Explanation":"Features"}`,{data:E,error:T}=await B.from("content_sections").select("id").eq("section_key",j).single();if(T&&T.code!=="PGRST116")throw console.error("[CategoriesAdmin] Error checking existing section:",T),T;let A;if(E?A=await B.from("content_sections").update({content_value:S,updated_at:new Date().toISOString()}).eq("section_key",j):A=await B.from("content_sections").insert({section_key:j,section_name:C,content_type:x==="explanation"?"textarea":"json",content_value:S,metadata:{section:"categories"},is_active:!0}),A.error)throw console.error("[CategoriesAdmin] Database error:",A.error),A.error;console.log(`[CategoriesAdmin] ${x} saved successfully for ${g}`),c({title:"Success",description:`${x} saved successfully`})}catch(w){console.error(`[CategoriesAdmin] Error saving ${x}:`,w),c({title:"Error",description:`Failed to save ${x}: ${w.message||w}`,variant:"destructive"})}finally{n(null)}},m=(g,x,y)=>{l(w=>({...w,[g]:{...w[g],[x]:y}}))},p=g=>{const x=[...o[g].features,""];m(g,"features",x)},h=(g,x,y)=>{const w=[...o[g].features];w[x]=y,m(g,"features",w)},v=(g,x)=>{try{console.log(`[CategoriesAdmin] Removing feature at index ${x} for ${g}`);const w=o[g].features.filter((S,j)=>j!==x);console.log("[CategoriesAdmin] Features after removal:",w),m(g,"features",w)}catch(y){console.error("[CategoriesAdmin] Error removing feature:",y),c({title:"Error",description:"Failed to remove feature",variant:"destructive"})}},b=async()=>{i(!0);try{await Nd()?(c({title:"Success",description:"Database initialized successfully"}),await f()):c({title:"Error",description:"Failed to initialize database",variant:"destructive"})}catch(g){console.error("Error initializing database:",g),c({title:"Error",description:"Failed to initialize database",variant:"destructive"})}finally{i(!1)}};return e?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(we,{className:"h-8 w-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Categories Gallery Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage gallery images, descriptions, and features for each category"})]}),a.jsx(U,{onClick:b,disabled:s,variant:"outline",children:s?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Initializing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"mr-2 h-4 w-4"}),"Initialize Database"]})})]})}),a.jsxs(Al,{defaultValue:"matrimoni",className:"space-y-6",children:[a.jsx(Si,{className:"grid w-full grid-cols-4",children:u.map(g=>a.jsx(Ee,{value:g.key,children:g.title},g.key))}),u.map(g=>{var x,y;return a.jsxs(Ke,{value:g.key,className:"space-y-6",children:[a.jsx(DM,{categoryKey:g.key,categoryName:g.name}),a.jsx(AM,{categoryKey:g.key,categoryName:g.name}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Description"})}),a.jsxs(de,{className:"space-y-4",children:[a.jsx(mn,{value:((x=o[g.key])==null?void 0:x.explanation)||"",onChange:w=>m(g.key,"explanation",w.target.value),rows:6,placeholder:"Enter category description...",className:"min-h-[150px]"}),a.jsx(U,{onClick:()=>d(g.key,"explanation"),disabled:r===`${g.key}_explanation`,className:"w-full",children:r===`${g.key}_explanation`?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"mr-2 h-4 w-4"}),"Save Description"]})})]})]}),a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Features"})}),a.jsxs(de,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-2",children:(y=o[g.key])==null?void 0:y.features.map((w,S)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:j=>h(g.key,S,j.target.value),placeholder:"Enter feature...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),a.jsx(U,{variant:"destructive",size:"sm",onClick:()=>v(g.key,S),children:"Remove"})]},S))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"outline",onClick:()=>p(g.key),className:"flex-1",children:"Add Feature"}),a.jsx(U,{onClick:()=>d(g.key,"features"),disabled:r===`${g.key}_features`,children:r===`${g.key}_features`?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"mr-2 h-4 w-4"}),"Save Features"]})})]})]})]})]})]},g.key)})]})]})};function Jy(e,[t,r]){return Math.min(r,Math.max(t,e))}const OM=["top","right","bottom","left"],Rs=Math.min,Yt=Math.max,zu=Math.round,Tc=Math.floor,ln=e=>({x:e,y:e}),_M={left:"right",right:"left",bottom:"top",top:"bottom"},FM={start:"end",end:"start"};function Op(e,t,r){return Yt(e,Rs(t,r))}function Mn(e,t){return typeof e=="function"?e(t):e}function Ln(e){return e.split("-")[0]}function Qa(e){return e.split("-")[1]}function Qg(e){return e==="x"?"y":"x"}function Yg(e){return e==="y"?"height":"width"}function nn(e){return["top","bottom"].includes(Ln(e))?"y":"x"}function Zg(e){return Qg(nn(e))}function MM(e,t,r){r===void 0&&(r=!1);const n=Qa(e),s=Zg(e),i=Yg(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Bu(o)),[o,Bu(o)]}function LM(e){const t=Bu(e);return[_p(e),t,_p(t)]}function _p(e){return e.replace(/start|end/g,t=>FM[t])}function $M(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function zM(e,t,r,n){const s=Qa(e);let i=$M(Ln(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(_p)))),i}function Bu(e){return e.replace(/left|right|bottom|top/g,t=>_M[t])}function BM(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kj(e){return typeof e!="number"?BM(e):{top:e,right:e,bottom:e,left:e}}function Uu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function e0(e,t,r){let{reference:n,floating:s}=e;const i=nn(t),o=Zg(t),l=Yg(o),c=Ln(t),u=i==="y",f=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-s.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Qa(t)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const UM=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:d}=e0(u,n,c),m=n,p={},h=0;for(let v=0;v<l.length;v++){const{name:b,fn:g}=l[v],{x,y,data:w,reset:S}=await g({x:f,y:d,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});f=x??f,d=y??d,p={...p,[b]:{...p[b],...w}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:d}=e0(u,m,c)),v=-1)}return{x:f,y:d,placement:m,strategy:s,middlewareData:p}};async function pl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=Mn(t,e),h=Kj(p),b=l[m?d==="floating"?"reference":"floating":d],g=Uu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Uu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(g.top-S.top+h.top)/w.y,bottom:(S.bottom-g.bottom+h.bottom)/w.y,left:(g.left-S.left+h.left)/w.x,right:(S.right-g.right+h.right)/w.x}}const HM=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Mn(e,t)||{};if(u==null)return{};const d=Kj(f),m={x:r,y:n},p=Zg(s),h=Yg(p),v=await o.getDimensions(u),b=p==="y",g=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",w=i.reference[h]+i.reference[p]-m[p]-i.floating[h],S=m[p]-i.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[y]||i.floating[h]);const E=w/2-S/2,T=C/2-v[h]/2-1,A=Rs(d[g],T),_=Rs(d[x],T),P=A,O=C-v[h]-_,R=C/2-v[h]/2+E,$=Op(P,R,O),L=!c.arrow&&Qa(s)!=null&&R!==$&&i.reference[h]/2-(R<P?A:_)-v[h]/2<0,M=L?R<P?R-P:R-O:0;return{[p]:m[p]+M,data:{[p]:$,centerOffset:R-$-M,...L&&{alignmentOffset:M}},reset:L}}}),qM=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...b}=Mn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Ln(s),x=nn(l),y=Ln(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(y||!v?[Bu(l)]:LM(l)),j=h!=="none";!m&&j&&S.push(...zM(l,v,h,w));const C=[l,...S],E=await pl(t,b),T=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&T.push(E[g]),d){const R=MM(s,o,w);T.push(E[R[0]],E[R[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(R=>R<=0)){var _,P;const R=(((_=i.flip)==null?void 0:_.index)||0)+1,$=C[R];if($&&(!(d==="alignment"?x!==nn($):!1)||A.every(I=>I.overflows[0]>0&&nn(I.placement)===x)))return{data:{index:R,overflows:A},reset:{placement:$}};let L=(P=A.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(p){case"bestFit":{var O;const M=(O=A.filter(I=>{if(j){const F=nn(I.placement);return F===x||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:O[0];M&&(L=M);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function t0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function r0(e){return OM.some(t=>e[t]>=0)}const VM=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Mn(e,t);switch(n){case"referenceHidden":{const i=await pl(t,{...s,elementContext:"reference"}),o=t0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:r0(o)}}}case"escaped":{const i=await pl(t,{...s,altBoundary:!0}),o=t0(i,r.floating);return{data:{escapedOffsets:o,escaped:r0(o)}}}default:return{}}}}};async function WM(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ln(r),l=Qa(r),c=nn(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,d=Mn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof h=="number"&&(p=l==="end"?h*-1:h),c?{x:p*f,y:m*u}:{x:m*u,y:p*f}}const GM=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await WM(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},KM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:x}=b;return{x:g,y:x}}},...c}=Mn(e,t),u={x:r,y:n},f=await pl(t,c),d=nn(Ln(s)),m=Qg(d);let p=u[m],h=u[d];if(i){const b=m==="y"?"top":"left",g=m==="y"?"bottom":"right",x=p+f[b],y=p-f[g];p=Op(x,p,y)}if(o){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",x=h+f[b],y=h-f[g];h=Op(x,h,y)}const v=l.fn({...t,[m]:p,[d]:h});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[d]:o}}}}}},QM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mn(e,t),f={x:r,y:n},d=nn(s),m=Qg(d);let p=f[m],h=f[d];const v=Mn(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=m==="y"?"height":"width",w=i.reference[m]-i.floating[y]+b.mainAxis,S=i.reference[m]+i.reference[y]-b.mainAxis;p<w?p=w:p>S&&(p=S)}if(u){var g,x;const y=m==="y"?"width":"height",w=["top","left"].includes(Ln(s)),S=i.reference[d]-i.floating[y]+(w&&((g=o.offset)==null?void 0:g[d])||0)+(w?0:b.crossAxis),j=i.reference[d]+i.reference[y]+(w?0:((x=o.offset)==null?void 0:x[d])||0)-(w?b.crossAxis:0);h<S?h=S:h>j&&(h=j)}return{[m]:p,[d]:h}}}},YM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Mn(e,t),f=await pl(t,u),d=Ln(s),m=Qa(s),p=nn(s)==="y",{width:h,height:v}=i.floating;let b,g;d==="top"||d==="bottom"?(b=d,g=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=d,b=m==="end"?"top":"bottom");const x=v-f.top-f.bottom,y=h-f.left-f.right,w=Rs(v-f[b],x),S=Rs(h-f[g],y),j=!t.middlewareData.shift;let C=w,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),j&&!m){const A=Yt(f.left,0),_=Yt(f.right,0),P=Yt(f.top,0),O=Yt(f.bottom,0);p?E=h-2*(A!==0||_!==0?A+_:Yt(f.left,f.right)):C=v-2*(P!==0||O!==0?P+O:Yt(f.top,f.bottom))}await c({...t,availableWidth:E,availableHeight:C});const T=await o.getDimensions(l.floating);return h!==T.width||v!==T.height?{reset:{rects:!0}}:{}}}};function Hd(){return typeof window<"u"}function Ya(e){return Qj(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vn(e){var t;return(t=(Qj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qj(e){return Hd()?e instanceof Node||e instanceof nr(e).Node:!1}function Vr(e){return Hd()?e instanceof Element||e instanceof nr(e).Element:!1}function pn(e){return Hd()?e instanceof HTMLElement||e instanceof nr(e).HTMLElement:!1}function n0(e){return!Hd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}function Wl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function ZM(e){return["table","td","th"].includes(Ya(e))}function qd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Xg(e){const t=Jg(),r=Vr(e)?Wr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function XM(e){let t=Os(e);for(;pn(t)&&!_a(t);){if(Xg(t))return t;if(qd(t))return null;t=Os(t)}return null}function Jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(e){return["html","body","#document"].includes(Ya(e))}function Wr(e){return nr(e).getComputedStyle(e)}function Vd(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Os(e){if(Ya(e)==="html")return e;const t=e.assignedSlot||e.parentNode||n0(e)&&e.host||vn(e);return n0(t)?t.host:t}function Yj(e){const t=Os(e);return _a(t)?e.ownerDocument?e.ownerDocument.body:e.body:pn(t)&&Wl(t)?t:Yj(t)}function hl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Yj(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=nr(s);if(i){const l=Fp(o);return t.concat(o,o.visualViewport||[],Wl(s)?s:[],l&&r?hl(l):[])}return t.concat(s,hl(s,[],r))}function Fp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zj(e){const t=Wr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=pn(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=zu(r)!==i||zu(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function ev(e){return Vr(e)?e:e.contextElement}function sa(e){const t=ev(e);if(!pn(t))return ln(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Zj(t);let o=(i?zu(r.width):r.width)/n,l=(i?zu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const JM=ln(0);function Xj(e){const t=nr(e);return!Jg()||!t.visualViewport?JM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function eL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==nr(e)?!1:t}function ji(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=ev(e);let o=ln(1);t&&(n?Vr(n)&&(o=sa(n)):o=sa(e));const l=eL(i,r,n)?Xj(i):ln(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,d=s.height/o.y;if(i){const m=nr(i),p=n&&Vr(n)?nr(n):n;let h=m,v=Fp(h);for(;v&&n&&p!==h;){const b=sa(v),g=v.getBoundingClientRect(),x=Wr(v),y=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*b.x,w=g.top+(v.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=y,u+=w,h=nr(v),v=Fp(h)}}return Uu({width:f,height:d,x:c,y:u})}function tv(e,t){const r=Vd(e).scrollLeft;return t?t.left+r:ji(vn(e)).left+r}function Jj(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:tv(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function tL(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=vn(n),l=t?qd(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ln(1);const f=ln(0),d=pn(n);if((d||!d&&!i)&&((Ya(n)!=="body"||Wl(o))&&(c=Vd(n)),pn(n))){const p=ji(n);u=sa(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const m=o&&!d&&!i?Jj(o,c,!0):ln(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:r.y*u.y-c.scrollTop*u.y+f.y+m.y}}function rL(e){return Array.from(e.getClientRects())}function nL(e){const t=vn(e),r=Vd(e),n=e.ownerDocument.body,s=Yt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Yt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tv(e);const l=-r.scrollTop;return Wr(n).direction==="rtl"&&(o+=Yt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function sL(e,t){const r=nr(e),n=vn(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Jg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function iL(e,t){const r=ji(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=pn(e)?sa(e):ln(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function s0(e,t,r){let n;if(t==="viewport")n=sL(e,r);else if(t==="document")n=nL(vn(e));else if(Vr(t))n=iL(t,r);else{const s=Xj(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Uu(n)}function eC(e,t){const r=Os(e);return r===t||!Vr(r)||_a(r)?!1:Wr(r).position==="fixed"||eC(r,t)}function aL(e,t){const r=t.get(e);if(r)return r;let n=hl(e,[],!1).filter(l=>Vr(l)&&Ya(l)!=="body"),s=null;const i=Wr(e).position==="fixed";let o=i?Os(e):e;for(;Vr(o)&&!_a(o);){const l=Wr(o),c=Xg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Wl(o)&&!c&&eC(e,o))?n=n.filter(f=>f!==o):s=l,o=Os(o)}return t.set(e,n),n}function oL(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?qd(t)?[]:aL(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const d=s0(t,f,s);return u.top=Yt(d.top,u.top),u.right=Rs(d.right,u.right),u.bottom=Rs(d.bottom,u.bottom),u.left=Yt(d.left,u.left),u},s0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lL(e){const{width:t,height:r}=Zj(e);return{width:t,height:r}}function cL(e,t,r){const n=pn(t),s=vn(t),i=r==="fixed",o=ji(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ln(0);function u(){c.x=tv(s)}if(n||!n&&!i)if((Ya(t)!=="body"||Wl(s))&&(l=Vd(t)),n){const p=ji(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?Jj(s,l):ln(0),d=o.left+l.scrollLeft-c.x-f.x,m=o.top+l.scrollTop-c.y-f.y;return{x:d,y:m,width:o.width,height:o.height}}function nm(e){return Wr(e).position==="static"}function i0(e,t){if(!pn(e)||Wr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vn(e)===r&&(r=r.ownerDocument.body),r}function tC(e,t){const r=nr(e);if(qd(e))return r;if(!pn(e)){let s=Os(e);for(;s&&!_a(s);){if(Vr(s)&&!nm(s))return s;s=Os(s)}return r}let n=i0(e,t);for(;n&&ZM(n)&&nm(n);)n=i0(n,t);return n&&_a(n)&&nm(n)&&!Xg(n)?r:n||XM(e)||r}const uL=async function(e){const t=this.getOffsetParent||tC,r=this.getDimensions,n=await r(e.floating);return{reference:cL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dL(e){return Wr(e).direction==="rtl"}const fL={convertOffsetParentRelativeRectToViewportRelativeRect:tL,getDocumentElement:vn,getClippingRect:oL,getOffsetParent:tC,getElementRects:uL,getClientRects:rL,getDimensions:lL,getScale:sa,isElement:Vr,isRTL:dL};function rC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mL(e,t){let r=null,n;const s=vn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:d,width:m,height:p}=u;if(l||t(),!m||!p)return;const h=Tc(d),v=Tc(s.clientWidth-(f+m)),b=Tc(s.clientHeight-(d+p)),g=Tc(f),y={rootMargin:-h+"px "+-v+"px "+-b+"px "+-g+"px",threshold:Yt(0,Rs(1,c))||1};let w=!0;function S(j){const C=j[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!rC(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return o(!0),i}function pL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ev(e),f=s||i?[...u?hl(u):[],...hl(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const d=u&&l?mL(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let h,v=c?ji(e):null;c&&b();function b(){const g=ji(e);v&&!rC(v,g)&&r(),v=g,h=requestAnimationFrame(b)}return r(),()=>{var g;f.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(h)}}const hL=GM,gL=KM,vL=qM,xL=YM,yL=VM,a0=HM,bL=QM,wL=(e,t,r)=>{const n=new Map,s={platform:fL,...r},i={...s.platform,_c:n};return UM(e,t,{...s,platform:i})};var SL=typeof document<"u",NL=function(){},Yc=SL?N.useLayoutEffect:NL;function Hu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Hu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function o0(e,t){const r=nC(e);return Math.round(t*r)/r}function sm(e){const t=N.useRef(e);return Yc(()=>{t.current=e}),t}function jL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=N.useState(n);Hu(m,n)||p(n);const[h,v]=N.useState(null),[b,g]=N.useState(null),x=N.useCallback(I=>{I!==j.current&&(j.current=I,v(I))},[]),y=N.useCallback(I=>{I!==C.current&&(C.current=I,g(I))},[]),w=i||h,S=o||b,j=N.useRef(null),C=N.useRef(null),E=N.useRef(f),T=c!=null,A=sm(c),_=sm(s),P=sm(u),O=N.useCallback(()=>{if(!j.current||!C.current)return;const I={placement:t,strategy:r,middleware:m};_.current&&(I.platform=_.current),wL(j.current,C.current,I).then(F=>{const z={...F,isPositioned:P.current!==!1};R.current&&!Hu(E.current,z)&&(E.current=z,bl.flushSync(()=>{d(z)}))})},[m,t,r,_,P]);Yc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[u]);const R=N.useRef(!1);Yc(()=>(R.current=!0,()=>{R.current=!1}),[]),Yc(()=>{if(w&&(j.current=w),S&&(C.current=S),w&&S){if(A.current)return A.current(w,S,O);O()}},[w,S,O,A,T]);const $=N.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:y}),[x,y]),L=N.useMemo(()=>({reference:w,floating:S}),[w,S]),M=N.useMemo(()=>{const I={position:r,left:0,top:0};if(!L.floating)return I;const F=o0(L.floating,f.x),z=o0(L.floating,f.y);return l?{...I,transform:"translate("+F+"px, "+z+"px)",...nC(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,l,L.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:O,refs:$,elements:L,floatingStyles:M}),[f,O,$,L,M])}const CL=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?a0({element:n.current,padding:s}).fn(r):{}:n?a0({element:n,padding:s}).fn(r):{}}}},EL=(e,t)=>({...hL(e),options:[e,t]}),PL=(e,t)=>({...gL(e),options:[e,t]}),kL=(e,t)=>({...bL(e),options:[e,t]}),TL=(e,t)=>({...vL(e),options:[e,t]}),IL=(e,t)=>({...xL(e),options:[e,t]}),DL=(e,t)=>({...yL(e),options:[e,t]}),AL=(e,t)=>({...CL(e),options:[e,t]});var RL="Arrow",sC=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Fe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});sC.displayName=RL;var OL=sC;function iC(e){const[t,r]=N.useState(void 0);return gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rv="Popper",[aC,oC]=Vu(rv),[_L,lC]=aC(rv),cC=e=>{const{__scopePopper:t,children:r}=e,[n,s]=N.useState(null);return a.jsx(_L,{scope:t,anchor:n,onAnchorChange:s,children:r})};cC.displayName=rv;var uC="PopperAnchor",dC=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=lC(uC,r),o=N.useRef(null),l=Ct(t,o);return N.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Fe.div,{...s,ref:l})});dC.displayName=uC;var nv="PopperContent",[FL,ML]=aC(nv),fC=N.forwardRef((e,t)=>{var H,se,xe,te,J,W;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:h,...v}=e,b=lC(nv,r),[g,x]=N.useState(null),y=Ct(t,ie=>x(ie)),[w,S]=N.useState(null),j=iC(w),C=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,T=n+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],P=_.length>0,O={padding:A,boundary:_.filter($L),altBoundary:P},{refs:R,floatingStyles:$,placement:L,isPositioned:M,middlewareData:I}=jL({strategy:"fixed",placement:T,whileElementsMounted:(...ie)=>pL(...ie,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[EL({mainAxis:s+E,alignmentAxis:o}),c&&PL({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?kL():void 0,...O}),c&&TL({...O}),IL({...O,apply:({elements:ie,rects:ge,availableWidth:Oe,availableHeight:Ue})=>{const{width:Ge,height:mt}=ge.reference,Le=ie.floating.style;Le.setProperty("--radix-popper-available-width",`${Oe}px`),Le.setProperty("--radix-popper-available-height",`${Ue}px`),Le.setProperty("--radix-popper-anchor-width",`${Ge}px`),Le.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),w&&AL({element:w,padding:l}),zL({arrowWidth:C,arrowHeight:E}),m&&DL({strategy:"referenceHidden",...O})]}),[F,z]=hC(L),K=xa(h);gr(()=>{M&&(K==null||K())},[M,K]);const V=(H=I.arrow)==null?void 0:H.x,ee=(se=I.arrow)==null?void 0:se.y,Y=((xe=I.arrow)==null?void 0:xe.centerOffset)!==0,[fe,be]=N.useState();return gr(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),a.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(te=I.transformOrigin)==null?void 0:te.x,(J=I.transformOrigin)==null?void 0:J.y].join(" "),...((W=I.hide)==null?void 0:W.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(FL,{scope:r,placedSide:F,onArrowChange:S,arrowX:V,arrowY:ee,shouldHideArrow:Y,children:a.jsx(Fe.div,{"data-side":F,"data-align":z,...v,ref:y,style:{...v.style,animation:M?void 0:"none"}})})})});fC.displayName=nv;var mC="PopperArrow",LL={top:"bottom",right:"left",bottom:"top",left:"right"},pC=N.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=ML(mC,n),o=LL[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(OL,{...s,ref:r,style:{...s.style,display:"block"}})})});pC.displayName=mC;function $L(e){return e!==null}var zL=e=>({name:"transformOrigin",options:e,fn(t){var b,g,x;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=hC(r),d={start:"0%",center:"50%",end:"100%"}[f],m=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let h="",v="";return u==="bottom"?(h=o?d:`${m}px`,v=`${-c}px`):u==="top"?(h=o?d:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(h=`${-c}px`,v=o?d:`${p}px`):u==="left"&&(h=`${n.floating.width+c}px`,v=o?d:`${p}px`),{data:{x:h,y:v}}}});function hC(e){const[t,r="center"]=e.split("-");return[t,r]}var BL=cC,UL=dC,HL=fC,qL=pC;function gC(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VL=[" ","Enter","ArrowUp","ArrowDown"],WL=[" ","Enter"],Ci="Select",[Wd,Gd,GL]=b0(Ci),[Za,w6]=Vu(Ci,[GL,oC]),Kd=oC(),[KL,Bs]=Za(Ci),[QL,YL]=Za(Ci),vC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:m,required:p,form:h}=e,v=Kd(t),[b,g]=N.useState(null),[x,y]=N.useState(null),[w,S]=N.useState(!1),j=C2(u),[C,E]=Zc({prop:n,defaultProp:s??!1,onChange:i,caller:Ci}),[T,A]=Zc({prop:o,defaultProp:l,onChange:c,caller:Ci}),_=N.useRef(null),P=b?h||!!b.closest("form"):!0,[O,R]=N.useState(new Set),$=Array.from(O).map(L=>L.props.value).join(";");return a.jsx(BL,{...v,children:a.jsxs(KL,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:Up(),value:T,onValueChange:A,open:C,onOpenChange:E,dir:j,triggerPointerDownPosRef:_,disabled:m,children:[a.jsx(Wd.Provider,{scope:t,children:a.jsx(QL,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(L=>{R(M=>new Set(M).add(L))},[]),onNativeOptionRemove:N.useCallback(L=>{R(M=>{const I=new Set(M);return I.delete(L),I})},[]),children:r})}),P?a.jsxs(BC,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:T,onChange:L=>A(L.target.value),disabled:m,form:h,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},$):null]})})};vC.displayName=Ci;var xC="SelectTrigger",yC=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Kd(r),o=Bs(xC,r),l=o.disabled||n,c=Ct(t,o.onTriggerChange),u=Gd(r),f=N.useRef("touch"),[d,m,p]=HC(v=>{const b=u().filter(y=>!y.disabled),g=b.find(y=>y.value===o.value),x=qC(b,v,g);x!==void 0&&o.onValueChange(x.value)}),h=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(UL,{asChild:!0,...i,children:a.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UC(o.value)?"":void 0,...s,ref:c,onClick:_e(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&h(v)}),onPointerDown:_e(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(h(v),v.preventDefault())}),onKeyDown:_e(s.onKeyDown,v=>{const b=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&VL.includes(v.key)&&(h(),v.preventDefault())})})})});yC.displayName=xC;var bC="SelectValue",wC=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=Bs(bC,r),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,d=Ct(t,c.onValueNodeChange);return gr(()=>{u(f)},[u,f]),a.jsx(Fe.span,{...l,ref:d,style:{pointerEvents:"none"},children:UC(c.value)?a.jsx(a.Fragment,{children:o}):i})});wC.displayName=bC;var ZL="SelectIcon",SC=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Fe.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});SC.displayName=ZL;var XL="SelectPortal",NC=e=>a.jsx(w0,{asChild:!0,...e});NC.displayName=XL;var Ei="SelectContent",jC=N.forwardRef((e,t)=>{const r=Bs(Ei,e.__scopeSelect),[n,s]=N.useState();if(gr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?bl.createPortal(a.jsx(CC,{scope:e.__scopeSelect,children:a.jsx(Wd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(EC,{...e,ref:t})});jC.displayName=Ei;var Ir=10,[CC,Us]=Za(Ei),JL="SelectContentImpl",e$=S2("SelectContent.RemoveScroll"),EC=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:v,avoidCollisions:b,...g}=e,x=Bs(Ei,r),[y,w]=N.useState(null),[S,j]=N.useState(null),C=Ct(t,H=>w(H)),[E,T]=N.useState(null),[A,_]=N.useState(null),P=Gd(r),[O,R]=N.useState(!1),$=N.useRef(!1);N.useEffect(()=>{if(y)return y2(y)},[y]),b2();const L=N.useCallback(H=>{const[se,...xe]=P().map(W=>W.ref.current),[te]=xe.slice(-1),J=document.activeElement;for(const W of H)if(W===J||(W==null||W.scrollIntoView({block:"nearest"}),W===se&&S&&(S.scrollTop=0),W===te&&S&&(S.scrollTop=S.scrollHeight),W==null||W.focus(),document.activeElement!==J))return},[P,S]),M=N.useCallback(()=>L([E,y]),[L,E,y]);N.useEffect(()=>{O&&M()},[O,M]);const{onOpenChange:I,triggerPointerDownPosRef:F}=x;N.useEffect(()=>{if(y){let H={x:0,y:0};const se=te=>{var J,W;H={x:Math.abs(Math.round(te.pageX)-(((J=F.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(te.pageY)-(((W=F.current)==null?void 0:W.y)??0))}},xe=te=>{H.x<=10&&H.y<=10?te.preventDefault():y.contains(te.target)||I(!1),document.removeEventListener("pointermove",se),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",xe,{capture:!0})}}},[y,I,F]),N.useEffect(()=>{const H=()=>I(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[I]);const[z,K]=HC(H=>{const se=P().filter(J=>!J.disabled),xe=se.find(J=>J.ref.current===document.activeElement),te=qC(se,H,xe);te&&setTimeout(()=>te.ref.current.focus())}),V=N.useCallback((H,se,xe)=>{const te=!$.current&&!xe;(x.value!==void 0&&x.value===se||te)&&(T(H),te&&($.current=!0))},[x.value]),ee=N.useCallback(()=>y==null?void 0:y.focus(),[y]),Y=N.useCallback((H,se,xe)=>{const te=!$.current&&!xe;(x.value!==void 0&&x.value===se||te)&&_(H)},[x.value]),fe=n==="popper"?Mp:PC,be=fe===Mp?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:v,avoidCollisions:b}:{};return a.jsx(CC,{scope:r,content:y,viewport:S,onViewportChange:j,itemRefCallback:V,selectedItem:E,onItemLeave:ee,itemTextRefCallback:Y,focusSelectedItem:M,selectedItemText:A,position:n,isPositioned:O,searchRef:z,children:a.jsx(w2,{as:e$,allowPinchZoom:!0,children:a.jsx(N2,{asChild:!0,trapped:x.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:_e(s,H=>{var se;(se=x.trigger)==null||se.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(j2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:H=>H.preventDefault(),...g,...be,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:_e(g.onKeyDown,H=>{const se=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!se&&H.key.length===1&&K(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let te=P().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(H.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const J=H.target,W=te.indexOf(J);te=te.slice(W+1)}setTimeout(()=>L(te)),H.preventDefault()}})})})})})})});EC.displayName=JL;var t$="SelectItemAlignedPosition",PC=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Bs(Ei,r),o=Us(Ei,r),[l,c]=N.useState(null),[u,f]=N.useState(null),d=Ct(t,C=>f(C)),m=Gd(r),p=N.useRef(!1),h=N.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:g,focusSelectedItem:x}=o,y=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&b&&g){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(i.dir!=="rtl"){const J=A.left-E.left,W=T.left-J,ie=C.left-W,ge=C.width+ie,Oe=Math.max(ge,E.width),Ue=window.innerWidth-Ir,Ge=Jy(W,[Ir,Math.max(Ir,Ue-Oe)]);l.style.minWidth=ge+"px",l.style.left=Ge+"px"}else{const J=E.right-A.right,W=window.innerWidth-T.right-J,ie=window.innerWidth-C.right-W,ge=C.width+ie,Oe=Math.max(ge,E.width),Ue=window.innerWidth-Ir,Ge=Jy(W,[Ir,Math.max(Ir,Ue-Oe)]);l.style.minWidth=ge+"px",l.style.right=Ge+"px"}const _=m(),P=window.innerHeight-Ir*2,O=v.scrollHeight,R=window.getComputedStyle(u),$=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),M=parseInt(R.borderBottomWidth,10),I=parseInt(R.paddingBottom,10),F=$+L+O+I+M,z=Math.min(b.offsetHeight*5,F),K=window.getComputedStyle(v),V=parseInt(K.paddingTop,10),ee=parseInt(K.paddingBottom,10),Y=C.top+C.height/2-Ir,fe=P-Y,be=b.offsetHeight/2,H=b.offsetTop+be,se=$+L+H,xe=F-se;if(se<=Y){const J=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const W=u.clientHeight-v.offsetTop-v.offsetHeight,ie=Math.max(fe,be+(J?ee:0)+W+M),ge=se+ie;l.style.height=ge+"px"}else{const J=_.length>0&&b===_[0].ref.current;l.style.top="0px";const ie=Math.max(Y,$+v.offsetTop+(J?V:0)+be)+xe;l.style.height=ie+"px",v.scrollTop=se-Y+v.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,b,g,i.dir,n]);gr(()=>y(),[y]);const[w,S]=N.useState();gr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=N.useCallback(C=>{C&&h.current===!0&&(y(),x==null||x(),h.current=!1)},[y,x]);return a.jsx(n$,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(Fe.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});PC.displayName=t$;var r$="SelectPopperPosition",Mp=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ir,...i}=e,o=Kd(r);return a.jsx(HL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mp.displayName=r$;var[n$,sv]=Za(Ei,{}),Lp="SelectViewport",kC=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Us(Lp,r),o=sv(Lp,r),l=Ct(t,i.onViewportChange),c=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Wd.Slot,{scope:r,children:a.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:_e(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const h=window.innerHeight-Ir*2,v=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),g=Math.max(v,b);if(g<h){const x=g+p,y=Math.min(h,x),w=x-y;d.style.height=y+"px",d.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});kC.displayName=Lp;var TC="SelectGroup",[s$,i$]=Za(TC),a$=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Up();return a.jsx(s$,{scope:r,id:s,children:a.jsx(Fe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});a$.displayName=TC;var IC="SelectLabel",DC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=i$(IC,r);return a.jsx(Fe.div,{id:s.id,...n,ref:t})});DC.displayName=IC;var qu="SelectItem",[o$,AC]=Za(qu),RC=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Bs(qu,r),c=Us(qu,r),u=l.value===n,[f,d]=N.useState(i??""),[m,p]=N.useState(!1),h=Ct(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,n,s)}),v=Up(),b=N.useRef("touch"),g=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(o$,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:N.useCallback(x=>{d(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(Wd.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:a.jsx(Fe.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:h,onFocus:_e(o.onFocus,()=>p(!0)),onBlur:_e(o.onBlur,()=>p(!1)),onClick:_e(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:_e(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:_e(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:_e(o.onPointerMove,x=>{var y;b.current=x.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:_e(o.onKeyDown,x=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(WL.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});RC.displayName=qu;var So="SelectItemText",OC=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Bs(So,r),l=Us(So,r),c=AC(So,r),u=YL(So,r),[f,d]=N.useState(null),m=Ct(t,g=>d(g),c.onItemTextChange,g=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,g,c.value,c.disabled)}),p=f==null?void 0:f.textContent,h=N.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return gr(()=>(v(h),()=>b(h)),[v,b,h]),a.jsxs(a.Fragment,{children:[a.jsx(Fe.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bl.createPortal(i.children,o.valueNode):null]})});OC.displayName=So;var _C="SelectItemIndicator",FC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return AC(_C,r).isSelected?a.jsx(Fe.span,{"aria-hidden":!0,...n,ref:t}):null});FC.displayName=_C;var $p="SelectScrollUpButton",MC=N.forwardRef((e,t)=>{const r=Us($p,e.__scopeSelect),n=sv($p,e.__scopeSelect),[s,i]=N.useState(!1),o=Ct(t,n.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx($C,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MC.displayName=$p;var zp="SelectScrollDownButton",LC=N.forwardRef((e,t)=>{const r=Us(zp,e.__scopeSelect),n=sv(zp,e.__scopeSelect),[s,i]=N.useState(!1),o=Ct(t,n.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx($C,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});LC.displayName=zp;var $C=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Us("SelectScrollButton",r),o=N.useRef(null),l=Gd(r),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),gr(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(Fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:_e(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_e(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_e(s.onPointerLeave,()=>{c()})})}),l$="SelectSeparator",zC=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Fe.div,{"aria-hidden":!0,...n,ref:t})});zC.displayName=l$;var Bp="SelectArrow",c$=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Kd(r),i=Bs(Bp,r),o=Us(Bp,r);return i.open&&o.position==="popper"?a.jsx(qL,{...s,...n,ref:t}):null});c$.displayName=Bp;var u$="SelectBubbleInput",BC=N.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=N.useRef(null),i=Ct(n,s),o=gC(t);return N.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const d=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(d)}},[o,t]),a.jsx(Fe.select,{...r,style:{...R0,...r.style},ref:i,defaultValue:t})});BC.displayName=u$;function UC(e){return e===""||e===void 0}function HC(e){const t=xa(e),r=N.useRef(""),n=N.useRef(0),s=N.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function qC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=d$(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function d$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var f$=vC,VC=yC,m$=wC,p$=SC,h$=NC,WC=jC,g$=kC,GC=DC,KC=RC,v$=OC,x$=FC,QC=MC,YC=LC,ZC=zC;const iv=f$,av=m$,Qd=N.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(VC,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(p$,{asChild:!0,children:a.jsx(sb,{className:"h-4 w-4 opacity-50"})})]}));Qd.displayName=VC.displayName;const XC=N.forwardRef(({className:e,...t},r)=>a.jsx(QC,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(sE,{className:"h-4 w-4"})}));XC.displayName=QC.displayName;const JC=N.forwardRef(({className:e,...t},r)=>a.jsx(YC,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(sb,{className:"h-4 w-4"})}));JC.displayName=YC.displayName;const Yd=N.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(h$,{children:a.jsxs(WC,{ref:s,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(XC,{}),a.jsx(g$,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(JC,{})]})}));Yd.displayName=WC.displayName;const y$=N.forwardRef(({className:e,...t},r)=>a.jsx(GC,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));y$.displayName=GC.displayName;const Gt=N.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(KC,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(x$,{children:a.jsx(nb,{className:"h-4 w-4"})})}),a.jsx(v$,{children:t})]}));Gt.displayName=KC.displayName;const b$=N.forwardRef(({className:e,...t},r)=>a.jsx(ZC,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));b$.displayName=ZC.displayName;var Zd="Switch",[w$,S6]=Vu(Zd),[S$,N$]=w$(Zd),e2=N.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[m,p]=N.useState(null),h=Ct(t,y=>p(y)),v=N.useRef(!1),b=m?f||!!m.closest("form"):!0,[g,x]=Zc({prop:s,defaultProp:i??!1,onChange:u,caller:Zd});return a.jsxs(S$,{scope:r,checked:g,disabled:l,children:[a.jsx(Fe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":s2(g),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:h,onClick:_e(e.onClick,y=>{x(w=>!w),b&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),b&&a.jsx(n2,{control:m,bubbles:!v.current,name:n,value:c,checked:g,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});e2.displayName=Zd;var t2="SwitchThumb",r2=N.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=N$(t2,r);return a.jsx(Fe.span,{"data-state":s2(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});r2.displayName=t2;var j$="SwitchBubbleInput",n2=N.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=N.useRef(null),l=Ct(o,i),c=gC(r),u=iC(t);return N.useEffect(()=>{const f=o.current;if(!f)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const h=new Event("click",{bubbles:n});p.call(f,r),f.dispatchEvent(h)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});n2.displayName=j$;function s2(e){return e?"checked":"unchecked"}var i2=e2,C$=r2;const _s=N.forwardRef(({className:e,...t},r)=>a.jsx(i2,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(C$,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_s.displayName=i2.displayName;const E$=({currentValue:e,onUpload:t,className:r})=>{const[n,s]=N.useState(!1);N.useRef(null);const{toast:i}=De(),o=async c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];if(u){if(!u.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}if(u.size>52428800){i({title:"File too large",description:"Please select an image smaller than 50MB",variant:"destructive"});return}s(!0);try{const d=u.name.split(".").pop(),m=`${Date.now()}-${Math.random().toString(36).substring(2)}.${d}`,p=`products/${m}`;console.log("Uploading file:",m);const{data:h,error:v}=await B.storage.listBuckets();if(!v&&!(h==null?void 0:h.find(y=>y.name==="admin-uploads"))){console.log("Creating admin-uploads bucket...");const{error:y}=await B.storage.createBucket("admin-uploads",{public:!0,fileSizeLimit:52428800});y&&console.warn("Could not create bucket:",y)}const{error:b}=await B.storage.from("admin-uploads").upload(p,u,{cacheControl:"3600",upsert:!1});if(b)throw console.error("Upload error:",b),b;const{data:g}=B.storage.from("admin-uploads").getPublicUrl(p);console.log("Upload successful:",g.publicUrl),t(g.publicUrl),i({title:"Success",description:"Image uploaded successfully"})}catch(d){console.error("Upload error:",d),i({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{s(!1)}}},l=()=>{t("")};return a.jsxs("div",{className:`space-y-4 ${r}`,children:[e&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Current image",className:"max-w-xs h-32 object-cover rounded border"}),a.jsx(U,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:l,children:a.jsx(dn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pe,{type:"file",accept:"image/*",onChange:o,disabled:n,className:"flex-1"}),a.jsx(U,{type:"button",disabled:n,variant:"outline",children:n?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(db,{className:"w-4 h-4 mr-2"}),"Upload"]})})]})]})},P$=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[o,l]=N.useState({name:"",description:"",price:0,slug:"",category_id:"",image_url:"",is_active:!0,is_featured:!1,stock_quantity:0,compare_price:0,sort_order:0,meta_title:"",meta_description:"",labels:[]}),{toast:c}=De(),u=dg(),{data:f,isLoading:d}=sl({queryKey:["admin-products"],queryFn:async()=>{const{data:P,error:O}=await B.from("products").select(`
          *,
          categories (
            id,
            name,
            slug
          )
        `).order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(O)throw O;return P}}),{data:m,isLoading:p,error:h}=sl({queryKey:["admin-categories"],queryFn:async()=>{console.log("[ProductsAdmin] Fetching categories...");const{data:P,error:O}=await B.from("categories").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(O)throw console.error("[ProductsAdmin] Categories fetch error:",O),O;if(!P||P.length===0)if(console.log("[ProductsAdmin] No categories found, attempting to initialize..."),await Ep()){const{data:$,error:L}=await B.from("categories").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(L)throw L;return $}else throw new Error("Failed to initialize categories");return console.log("[ProductsAdmin] Categories loaded:",P),P}}),v=Mf({mutationFn:async P=>{const{data:O,error:R}=await B.from("products").insert(P).select().single();if(R)throw R;return O},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),c({title:"Success",description:"Product created successfully"}),x()},onError:P=>{c({title:"Error",description:`Failed to create product: ${P.message}`,variant:"destructive"})}}),b=Mf({mutationFn:async({id:P,...O})=>{const{data:R,error:$}=await B.from("products").update(O).eq("id",P).select().single();if($)throw $;return R},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),c({title:"Success",description:"Product updated successfully"}),x()},onError:P=>{c({title:"Error",description:`Failed to update product: ${P.message}`,variant:"destructive"})}}),g=Mf({mutationFn:async P=>{console.log("[ProductsAdmin] Attempting to delete product with ID:",P);const{error:O}=await B.from("products").delete().eq("id",P);if(O)throw console.error("[ProductsAdmin] Delete error:",O),O;console.log("[ProductsAdmin] Product deleted successfully")},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-products"]}),u.invalidateQueries({queryKey:["products"]}),c({title:"Success",description:"Product deleted successfully"})},onError:P=>{console.error("[ProductsAdmin] Delete mutation error:",P),c({title:"Error",description:`Failed to delete product: ${P.message}`,variant:"destructive"})}}),x=()=>{l({name:"",description:"",price:0,slug:"",category_id:"",image_url:"",is_active:!0,is_featured:!1,stock_quantity:0,compare_price:0,sort_order:0,meta_title:"",meta_description:"",labels:[]}),t(null),n(!1)},y=P=>{t(P),l({name:P.name,description:P.description||"",price:P.price,slug:P.slug,category_id:P.category_id||"",image_url:P.image_url||"",is_active:P.is_active??!0,is_featured:P.is_featured??!1,stock_quantity:P.stock_quantity||0,compare_price:P.compare_price||0,sort_order:P.sort_order||0,meta_title:P.meta_title||"",meta_description:P.meta_description||"",labels:P.labels||[]}),n(!1)},w=()=>{x(),n(!0)},S=P=>P.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),j=P=>{l(O=>({...O,name:P,slug:S(P)}))},C=P=>{if(P.preventDefault(),!o.name||!o.price||!o.category_id){c({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const O={...o,price:Number(o.price),stock_quantity:Number(o.stock_quantity),compare_price:Number(o.compare_price),sort_order:Number(o.sort_order)};e?b.mutate({id:e.id,...O}):v.mutate(O)},E=P=>{window.confirm("Are you sure you want to delete this product?")&&g.mutate(P)},T=P=>{b.mutate({id:P.id,is_active:!P.is_active})},A=P=>{b.mutate({id:P.id,is_featured:!P.is_featured})},_=async()=>{if(window.confirm(`⚠️ WARNING: This will initialize the database with default categories and products.

This action will:
• Add default categories if none exist
• Add default products if none exist
• Only run during initial setup

Continue?`)){i(!0);try{if(console.log("[ProductsAdmin] Initializing categories..."),!await Ep())throw new Error("Failed to initialize categories");await jN(!1)?(u.invalidateQueries({queryKey:["admin-products"]}),u.invalidateQueries({queryKey:["admin-categories"]}),c({title:"Success! 🎉",description:"Database initialized with default categories and products"})):c({title:"Error",description:"Failed to initialize products. Check console for details.",variant:"destructive"})}catch(O){console.error("[ProductsAdmin] Initialization error:",O),c({title:"Error",description:`Failed to initialize: ${O.message}`,variant:"destructive"})}finally{i(!1)}}};return d||p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(we,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:p?"Loading categories...":"Loading products..."})]})}):h?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx(La,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load categories"}),a.jsx(U,{onClick:()=>u.invalidateQueries({queryKey:["admin-categories"]}),children:"Retry"})]})}):a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold tracking-tight",children:"Products Management"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage your product catalog"})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[(!m||m.length===0)&&a.jsx(U,{onClick:_,disabled:s,variant:"outline",className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:s?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"Initializing..."}),a.jsx("span",{className:"sm:hidden",children:"Init..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Default Categories & Products"}),a.jsx("span",{className:"sm:hidden",children:"Add Defaults"})]})}),a.jsxs(U,{onClick:w,disabled:r||e||!m||m.length===0,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(Es,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Product"}),a.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),(r||e)&&a.jsxs(ue,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center justify-between text-base md:text-lg",children:[a.jsx("span",{children:e?"Edit Product":"Create New Product"}),a.jsx(U,{variant:"ghost",size:"sm",onClick:x,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(dn,{className:"h-3 w-3 md:h-4 md:w-4"})})]})}),a.jsx(de,{className:"px-3 md:px-6",children:a.jsxs("form",{onSubmit:C,className:"space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"name",className:"text-sm font-medium",children:"Product Name *"}),a.jsx(pe,{id:"name",value:o.name,onChange:P=>j(P.target.value),placeholder:"Enter product name",required:!0,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"slug",className:"text-sm font-medium",children:"Slug"}),a.jsx(pe,{id:"slug",value:o.slug,onChange:P=>l(O=>({...O,slug:P.target.value})),placeholder:"product-slug",className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),a.jsx(mn,{id:"description",value:o.description,onChange:P=>l(O=>({...O,description:P.target.value})),placeholder:"Enter product description",rows:3,className:"text-sm md:text-base resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"price",className:"text-sm font-medium",children:"Price (€) *"}),a.jsx(pe,{id:"price",type:"number",step:"0.01",min:"0",value:o.price,onChange:P=>l(O=>({...O,price:parseFloat(P.target.value)||0})),required:!0,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"compare_price",className:"text-sm font-medium",children:"Compare Price (€)"}),a.jsx(pe,{id:"compare_price",type:"number",step:"0.01",min:"0",value:o.compare_price,onChange:P=>l(O=>({...O,compare_price:parseFloat(P.target.value)||0})),className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"stock_quantity",className:"text-sm font-medium",children:"Stock Quantity"}),a.jsx(pe,{id:"stock_quantity",type:"number",min:"0",value:o.stock_quantity,onChange:P=>l(O=>({...O,stock_quantity:parseInt(P.target.value)||0})),className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"category_id",className:"text-sm font-medium",children:"Category *"}),a.jsxs(iv,{value:o.category_id,onValueChange:P=>l(O=>({...O,category_id:P})),children:[a.jsx(Qd,{className:"text-sm md:text-base",children:a.jsx(av,{placeholder:"Select a category"})}),a.jsx(Yd,{children:m&&m.length>0?m.map(P=>a.jsx(Gt,{value:P.id,className:"text-sm md:text-base",children:P.name},P.id)):a.jsx(Gt,{value:"",disabled:!0,className:"text-sm md:text-base",children:"No categories available - Initialize first"})})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"sort_order",className:"text-sm font-medium",children:"Sort Order"}),a.jsx(pe,{id:"sort_order",type:"number",min:"0",value:o.sort_order,onChange:P=>l(O=>({...O,sort_order:parseInt(P.target.value)||0})),className:"text-sm md:text-base"})]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"image_url",className:"text-sm font-medium",children:"Product Image"}),a.jsx(E$,{currentValue:o.image_url,onUpload:P=>l(O=>({...O,image_url:P})),className:"w-full"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"meta_title",className:"text-sm font-medium",children:"Meta Title (SEO)"}),a.jsx(pe,{id:"meta_title",value:o.meta_title,onChange:P=>l(O=>({...O,meta_title:P.target.value})),placeholder:"SEO title",className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"meta_description",className:"text-sm font-medium",children:"Meta Description (SEO)"}),a.jsx(pe,{id:"meta_description",value:o.meta_description,onChange:P=>l(O=>({...O,meta_description:P.target.value})),placeholder:"SEO description",className:"text-sm md:text-base"})]})]}),a.jsx(Gj,{labels:o.labels,onChange:P=>l(O=>({...O,labels:P})),placeholder:"Add a label (e.g., lauree, matrimoni, compleanno)"}),a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:space-x-6 md:gap-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{id:"is_active",checked:o.is_active,onCheckedChange:P=>l(O=>({...O,is_active:P}))}),a.jsx(re,{htmlFor:"is_active",className:"text-sm font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{id:"is_featured",checked:o.is_featured,onCheckedChange:P=>l(O=>({...O,is_featured:P}))}),a.jsx(re,{htmlFor:"is_featured",className:"text-sm font-medium",children:"Featured"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsx(U,{type:"submit",disabled:v.isPending||b.isPending,className:"w-full md:w-auto text-sm",size:"sm",children:v.isPending||b.isPending?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4 animate-spin"}),e?"Updating...":"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"mr-1 md:mr-2 h-3 w-3 md:h-4 md:w-4"}),e?"Update Product":"Create Product"]})}),a.jsx(U,{type:"button",variant:"outline",onClick:x,className:"w-full md:w-auto text-sm",size:"sm",children:"Cancel"})]})]})})]}),a.jsxs(ue,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(Mr,{className:"h-4 w-4 md:h-5 md:w-5"}),"Products (",(f==null?void 0:f.length)||0,")"]})}),a.jsx(de,{className:"px-3 md:px-6",children:f&&f.length>0?a.jsx("div",{className:"space-y-3 md:space-y-4",children:f.map(P=>{var O;return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between p-3 md:p-4 border rounded-lg hover:bg-gray-50 space-y-3 md:space-y-0",children:[a.jsxs("div",{className:"flex items-start space-x-3 md:space-x-4",children:[P.image_url?a.jsx("img",{src:P.image_url,alt:P.name,className:"w-12 h-12 md:w-16 md:h-16 object-cover rounded-lg flex-shrink-0",onError:R=>{const $=R.target;$.src="/placeholder.svg"}}):a.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(Qp,{className:"h-4 w-4 md:h-6 md:w-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm md:text-base truncate",children:P.name}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate",children:((O=P.categories)==null?void 0:O.name)||"No category"}),a.jsxs("p",{className:"text-base md:text-lg font-bold text-emerald-600",children:["€",P.price.toFixed(2)]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2 mt-1",children:[P.is_featured&&a.jsx(at,{variant:"secondary",className:"text-xs",children:"Featured"}),P.is_active?a.jsx(at,{variant:"outline",className:"text-xs text-green-600",children:"Active"}):a.jsx(at,{variant:"outline",className:"text-xs text-red-600",children:"Inactive"}),P.stock_quantity!==null&&a.jsxs(at,{variant:"outline",className:"text-xs",children:["Stock: ",P.stock_quantity]})]}),P.labels&&P.labels.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:P.labels.map((R,$)=>a.jsxs(at,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[a.jsx(Fa,{className:"w-3 h-3 mr-1"}),R]},$))})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-1 md:space-x-2 flex-shrink-0",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>T(P),title:P.is_active?"Deactivate":"Activate",className:"h-8 w-8 md:h-9 md:w-9",children:P.is_active?a.jsx(Fo,{className:"h-3 w-3 md:h-4 md:w-4"}):a.jsx(Xc,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>A(P),title:P.is_featured?"Remove from featured":"Add to featured",className:"h-8 w-8 md:h-9 md:w-9",children:P.is_featured?a.jsx(mE,{className:"h-3 w-3 md:h-4 md:w-4 fill-current text-yellow-500"}):a.jsx(fE,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>y(P),className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(cb,{className:"h-3 w-3 md:h-4 md:w-4"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>E(P.id),disabled:g.isPending,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(Ma,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]},P.id)})}):a.jsxs("div",{className:"text-center py-6 md:py-8",children:[a.jsx(Mr,{className:"h-8 w-8 md:h-12 md:w-12 text-gray-400 mx-auto mb-3 md:mb-4"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"No products found. Create your first product!"})]})})]})]})},k$=()=>{const[e,t,r]=Y4(),n=async()=>{const l=await t(e);ho(l?{title:"Logo updated",description:"Your website logo has been changed"}:{title:"Logo updated locally",description:"Settings saved locally and will sync when connection is restored"})},s=l=>{t({...e,logoUrl:l})},i={logoUrl:"https://despodpgvkszyexvcbft.supabase.co/storage/v1/object/public/uploads/logos/1749735172947-oi6nr6gnk7.png",altText:"Francesco Fiori & Piante Logo"},o=async()=>{const l=await t(i);ho(l?{title:"Logo reset",description:"Your logo has been reset to the default"}:{title:"Logo reset locally",description:"Settings reset locally and will sync when connection is restored"})};return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-peach-500"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Logo Settings"}),a.jsxs(U,{onClick:n,variant:"default",className:"flex items-center gap-2",children:[a.jsx(un,{size:16})," Save Changes"]})]}),a.jsxs(ue,{children:[a.jsxs(Ne,{children:[a.jsx(je,{children:"Website Logo"}),a.jsx(fg,{children:"Upload and customize your flower shop logo"})]}),a.jsx(de,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border rounded-md p-6 flex flex-col items-center justify-center space-y-4",children:[a.jsx("div",{className:"bg-slate-100 p-3 rounded-full",children:a.jsx("img",{src:e.logoUrl,alt:e.altText,className:"h-32 w-32 object-contain"})}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Logo"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Upload New Logo"}),a.jsx(Ol,{onImageSelected:s,buttonLabel:"Choose Logo Image",bucketName:"uploads",folderPath:"logos",className:"w-full"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: Square image, at least 200x200 pixels, PNG or SVG with transparent background"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"logo-alt-text",children:"Alternative Text"}),a.jsx(pe,{id:"logo-alt-text",value:e.altText,onChange:l=>t({...e,altText:l.target.value}),placeholder:"Describe your logo for screen readers"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This text helps with accessibility and SEO"})]})]})}),a.jsxs(FS,{className:"flex justify-between",children:[a.jsxs(U,{type:"button",variant:"outline",onClick:o,className:"flex items-center gap-2",children:[a.jsx(cn,{size:16})," Reset to Default"]}),a.jsxs(U,{type:"button",onClick:n,className:"flex items-center gap-2",children:[a.jsx(un,{size:16})," Save Changes"]})]})]})]})};var T$="Separator",l0="horizontal",I$=["horizontal","vertical"],a2=N.forwardRef((e,t)=>{const{decorative:r,orientation:n=l0,...s}=e,i=D$(n)?n:l0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Fe.div,{"data-orientation":i,...l,...s,ref:t})});a2.displayName=T$;function D$(e){return I$.includes(e)}var o2=a2;const ui=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(o2,{ref:s,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ui.displayName=o2.displayName;class A${constructor(){ze(this,"settings");ze(this,"deliveryZones");this.settings={enabled:!0,restaurantAddress:"Piazza della Repubblica, 10100 Torino TO",restaurantLat:45.0703,restaurantLng:7.6869,maxDeliveryDistance:15,deliveryFee:5,freeDeliveryThreshold:50,googleMapsApiKey:""},this.deliveryZones=[],this.loadSettings()}async loadSettings(){try{const{supabase:t}=await vr(async()=>{const{supabase:o}=await Promise.resolve().then(()=>bi);return{supabase:o}},void 0),{data:r,error:n}=await t.from("settings").select("value").eq("key","shippingZoneSettings").single();!n&&r&&(this.settings={...this.settings,...r.value});const{data:s,error:i}=await t.from("settings").select("value").eq("key","deliveryZones").single();!i&&s&&s.value!==null&&(this.deliveryZones=s.value)}catch(t){console.warn("Failed to load shipping zone settings:",t);const r=localStorage.getItem("shippingZoneSettings");r&&(this.settings={...this.settings,...JSON.parse(r)});const n=localStorage.getItem("deliveryZones");n&&(this.deliveryZones=JSON.parse(n))}}async saveSettings(){try{const{supabase:t}=await vr(async()=>{const{supabase:s}=await Promise.resolve().then(()=>bi);return{supabase:s}},void 0),{error:r}=await t.from("settings").upsert({key:"shippingZoneSettings",value:this.settings});if(r)throw r;const{error:n}=await t.from("settings").upsert({key:"deliveryZones",value:this.deliveryZones});if(n)throw n}catch(t){console.warn("Failed to save shipping zone settings:",t),localStorage.setItem("shippingZoneSettings",JSON.stringify(this.settings)),localStorage.setItem("deliveryZones",JSON.stringify(this.deliveryZones))}}calculateDistance(t,r,n,s){const o=(n-t)*Math.PI/180,l=(s-r)*Math.PI/180,c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}async geocodeAddress(t){if(!this.settings.googleMapsApiKey)throw new Error("Google Maps API key not configured");try{const n=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${this.settings.googleMapsApiKey}`)).json();if(n.status==="OK"&&n.results.length>0){const s=n.results[0];return{lat:s.geometry.location.lat,lng:s.geometry.location.lng,formattedAddress:s.formatted_address}}return null}catch(r){return console.error("Geocoding error:",r),null}}findDeliveryZone(t){const r=this.deliveryZones.filter(n=>n.isActive);for(const n of r.sort((s,i)=>s.maxDistance-i.maxDistance))if(t<=n.maxDistance)return n;return null}async validateDeliveryAddress(t,r=0){if(!this.settings.enabled)return{isValid:!0,isWithinZone:!0,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0}};try{const n=await this.geocodeAddress(t);if(!n)return{isValid:!1,isWithinZone:!1,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0},error:"Unable to find the address. Please check and try again."};const s=this.calculateDistance(this.settings.restaurantLat,this.settings.restaurantLng,n.lat,n.lng);if(s>this.settings.maxDeliveryDistance)return{isValid:!0,isWithinZone:!1,distance:s,deliveryFee:0,estimatedTime:"N/A",formattedAddress:n.formattedAddress,coordinates:n,error:`Sorry, we don't deliver to this area. Maximum delivery distance is ${this.settings.maxDeliveryDistance}km.`};const i=this.findDeliveryZone(s);if(!i)return{isValid:!0,isWithinZone:!1,distance:s,deliveryFee:0,estimatedTime:"N/A",formattedAddress:n.formattedAddress,coordinates:n,error:"No delivery zone configured for this distance."};const o=r>=this.settings.freeDeliveryThreshold?0:i.deliveryFee;return{isValid:!0,isWithinZone:!0,distance:s,deliveryFee:o,estimatedTime:i.estimatedTime,formattedAddress:n.formattedAddress,coordinates:n}}catch(n){return console.error("Address validation error:",n),{isValid:!1,isWithinZone:!1,distance:0,deliveryFee:0,estimatedTime:"N/A",formattedAddress:t,coordinates:{lat:0,lng:0},error:"Unable to validate address. Please try again."}}}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings()}updateDeliveryZones(t){this.deliveryZones=t,this.saveSettings()}getSettings(){return{...this.settings}}getDeliveryZones(){return[...this.deliveryZones]}async setRestaurantLocation(t){const r=await this.geocodeAddress(t);return r?(this.settings.restaurantAddress=t,this.settings.restaurantLat=r.lat,this.settings.restaurantLng=r.lng,this.saveSettings(),!0):!1}initializeDefaultZones(){this.deliveryZones=[{id:"1",name:"Zone 1 (0-5km)",maxDistance:5,deliveryFee:3,estimatedTime:"20-30 minutes",isActive:!0},{id:"2",name:"Zone 2 (5-10km)",maxDistance:10,deliveryFee:5,estimatedTime:"30-45 minutes",isActive:!0},{id:"3",name:"Zone 3 (10-15km)",maxDistance:15,deliveryFee:8,estimatedTime:"45-60 minutes",isActive:!0}],this.saveSettings()}}const Tr=new A$,R$=()=>{const[e,t]=N.useState({enabled:!0,restaurantAddress:"",restaurantLat:0,restaurantLng:0,maxDeliveryDistance:15,deliveryFee:5,freeDeliveryThreshold:50,googleMapsApiKey:""}),[r,n]=N.useState([]),[s,i]=N.useState(""),[o,l]=N.useState(25),[c,u]=N.useState(null),[f,d]=N.useState(!1),{toast:m}=De();N.useEffect(()=>{const w=Tr.getSettings();t(w);const S=Tr.getDeliveryZones();n(S)},[]);const p=(w,S)=>{const j={...e,[w]:S};t(j),Tr.updateSettings(j)},h=async()=>{if(!e.restaurantAddress){m({title:"Error",description:"Please enter a restaurant address",variant:"destructive"});return}if(d(!0),await Tr.setRestaurantLocation(e.restaurantAddress)){const S=Tr.getSettings();t(S),m({title:"Success",description:"Restaurant location set successfully"})}else m({title:"Error",description:"Failed to geocode restaurant address",variant:"destructive"});d(!1)},v=()=>{const w={id:Date.now().toString(),name:`Zone ${r.length+1}`,maxDistance:5,deliveryFee:3,estimatedTime:"30-45 minutes",isActive:!0},S=[...r,w];n(S),Tr.updateDeliveryZones(S)},b=(w,S)=>{const j=r.map(C=>C.id===w?{...C,...S}:C);n(j),Tr.updateDeliveryZones(j)},g=w=>{const S=r.filter(j=>j.id!==w);n(S),Tr.updateDeliveryZones(S),m({title:"Zone Deleted",description:"Delivery zone has been removed"})},x=()=>{Tr.initializeDefaultZones();const w=Tr.getDeliveryZones();n(w),m({title:"Default Zones Added",description:"Three default delivery zones have been created"})},y=async()=>{if(!s){m({title:"Error",description:"Please enter a test address",variant:"destructive"});return}d(!0);const w=await Tr.validateDeliveryAddress(s,o);u(w),d(!1),w.error?m({title:"Test Result",description:w.error,variant:w.isWithinZone?"default":"destructive"}):m({title:"Test Successful",description:`Address is ${w.isWithinZone?"within":"outside"} delivery zone`})};return a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs(ue,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(Zp,{className:"w-4 h-4 md:w-5 md:h-5"}),"Shipping Zone Settings"]})}),a.jsxs(de,{className:"space-y-4 md:space-y-6 px-3 md:px-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(re,{htmlFor:"enabled",className:"text-sm font-medium",children:"Enable Delivery Zone Restrictions"}),a.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Limit deliveries based on distance from restaurant"})]}),a.jsx(_s,{id:"enabled",checked:e.enabled,onCheckedChange:w=>p("enabled",w)})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"apiKey",className:"text-sm font-medium",children:"Google Maps API Key"}),a.jsx(pe,{id:"apiKey",type:"password",placeholder:"Enter your Google Maps API Key",value:e.googleMapsApiKey,onChange:w=>p("googleMapsApiKey",w.target.value),disabled:!e.enabled,className:"text-sm md:text-base"}),a.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Required for address validation and distance calculation"})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[a.jsx("h4",{className:"font-medium text-sm md:text-base",children:"Restaurant Location"}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"restaurantAddress",className:"text-sm font-medium",children:"Restaurant Address"}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsx(pe,{id:"restaurantAddress",placeholder:"Enter your restaurant address",value:e.restaurantAddress,onChange:w=>p("restaurantAddress",w.target.value),disabled:!e.enabled,className:"flex-1 text-sm md:text-base"}),a.jsxs(U,{onClick:h,disabled:!e.enabled||f,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(cm,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Set Location"]})]}),e.restaurantLat!==0&&e.restaurantLng!==0&&a.jsxs("p",{className:"text-xs md:text-sm text-green-600",children:["✓ Location set: ",e.restaurantLat.toFixed(6),", ",e.restaurantLng.toFixed(6)]})]})]}),a.jsx(ui,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"maxDistance",className:"text-sm font-medium",children:"Max Delivery Distance (km)"}),a.jsx(pe,{id:"maxDistance",type:"number",min:"1",max:"100",value:e.maxDeliveryDistance,onChange:w=>p("maxDeliveryDistance",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"defaultFee",className:"text-sm font-medium",children:"Default Delivery Fee ($)"}),a.jsx(pe,{id:"defaultFee",type:"number",min:"0",step:"0.01",value:e.deliveryFee,onChange:w=>p("deliveryFee",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"freeThreshold",className:"text-sm font-medium",children:"Free Delivery Threshold ($)"}),a.jsx(pe,{id:"freeThreshold",type:"number",min:"0",step:"0.01",value:e.freeDeliveryThreshold,onChange:w=>p("freeDeliveryThreshold",parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]})]})]})]}),a.jsxs(ue,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(cm,{className:"w-4 h-4 md:w-5 md:h-5"}),"Delivery Zones"]}),a.jsxs(U,{onClick:v,disabled:!e.enabled,size:"sm",className:"w-full md:w-auto text-xs md:text-sm",children:[a.jsx(Es,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Add Zone"]})]})}),a.jsxs(de,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[r.map(w=>a.jsxs("div",{className:"border rounded-lg p-3 md:p-4 space-y-3 md:space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2",children:[a.jsx(pe,{value:w.name,onChange:S=>b(w.id,{name:S.target.value}),className:"w-full md:w-48 text-sm md:text-base",disabled:!e.enabled}),a.jsx(at,{variant:w.isActive?"default":"secondary",className:"self-start md:self-auto",children:w.isActive?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-2",children:[a.jsx(_s,{checked:w.isActive,onCheckedChange:S=>b(w.id,{isActive:S}),disabled:!e.enabled}),a.jsx(U,{onClick:()=>g(w.id),variant:"destructive",size:"sm",disabled:!e.enabled,className:"h-8 w-8 md:h-9 md:w-9",children:a.jsx(Ma,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{className:"text-sm font-medium",children:"Max Distance (km)"}),a.jsx(pe,{type:"number",min:"1",value:w.maxDistance,onChange:S=>b(w.id,{maxDistance:parseFloat(S.target.value)}),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{className:"text-sm font-medium",children:"Delivery Fee ($)"}),a.jsx(pe,{type:"number",min:"0",step:"0.01",value:w.deliveryFee,onChange:S=>b(w.id,{deliveryFee:parseFloat(S.target.value)}),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{className:"text-sm font-medium",children:"Estimated Time"}),a.jsx(pe,{value:w.estimatedTime,onChange:S=>b(w.id,{estimatedTime:S.target.value}),placeholder:"e.g., 30-45 minutes",disabled:!e.enabled,className:"text-sm md:text-base"})]})]})]},w.id)),r.length===0&&a.jsxs("div",{className:"text-center py-6 md:py-8 text-gray-500",children:[a.jsx("p",{className:"mb-3 md:mb-4 text-sm md:text-base",children:"No delivery zones configured."}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:gap-2 md:justify-center",children:[a.jsxs(U,{onClick:v,disabled:!e.enabled,variant:"outline",className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(Es,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Add Custom Zone"]}),a.jsx(U,{onClick:x,disabled:!e.enabled,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:"Add Default Zones"})]})]})]})]}),a.jsxs(ue,{className:"mx-1 md:mx-0",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"flex items-center gap-2 text-base md:text-lg",children:[a.jsx(Mo,{className:"w-4 h-4 md:w-5 md:h-5"}),"Test Address Validation"]})}),a.jsxs(de,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"testAddress",className:"text-sm font-medium",children:"Test Address"}),a.jsx(pe,{id:"testAddress",value:s,onChange:w=>i(w.target.value),placeholder:"Enter address to test",disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:"testAmount",className:"text-sm font-medium",children:"Order Amount ($)"}),a.jsx(pe,{id:"testAmount",type:"number",min:"0",step:"0.01",value:o,onChange:w=>l(parseFloat(w.target.value)),disabled:!e.enabled,className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{className:"text-sm font-medium md:invisible",children:"Test"}),a.jsx(U,{onClick:y,disabled:!e.enabled||f,className:"w-full text-xs md:text-sm",size:"sm",children:f?"Testing...":"Test Address"})]})]}),c&&a.jsxs("div",{className:`p-3 md:p-4 rounded-lg border ${c.isWithinZone?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[a.jsx("h5",{className:"font-medium mb-2 text-sm md:text-base",children:"Test Result:"}),a.jsxs("div",{className:"space-y-1 text-xs md:text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Address:"})," ",c.formattedAddress]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Distance:"})," ",c.distance.toFixed(2)," km"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Within Zone:"})," ",c.isWithinZone?"Yes":"No"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Delivery Fee:"})," $",c.deliveryFee.toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Estimated Time:"})," ",c.estimatedTime]}),c.error&&a.jsxs("p",{className:"text-red-600",children:[a.jsx("strong",{children:"Error:"})," ",c.error]})]})]})]})]})]})},O$=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(!1),{toast:c}=De();N.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const{data:h,error:v}=await B.from("category_pictures").select("*").order("position");if(v){console.error("Error loading pictures:",v),c({title:"Error",description:"Failed to load category pictures",variant:"destructive"});return}const b=h||[],x=[1,2,3].map(y=>b.find(S=>S.position===y)||{id:`temp-${y}`,image_url:"",alt_text:"",position:y,is_active:!0});t(x)}catch(h){console.error("Error loading pictures:",h),c({title:"Error",description:"Failed to load category pictures",variant:"destructive"})}finally{n(!1)}},f=(h,v,b)=>{t(g=>g.map(x=>x.position===h?{...x,[v]:b}:x)),l(!0)},d=(h,v)=>{f(h,"image_url",v)},m=async h=>{const v=e.find(b=>b.position===h);if(!v||v.id.startsWith("temp-")){f(h,"image_url",""),f(h,"alt_text","");return}try{const{error:b}=await B.from("category_pictures").delete().eq("id",v.id);if(b){console.error("Error deleting picture:",b),c({title:"Error",description:"Failed to delete picture",variant:"destructive"});return}f(h,"image_url",""),f(h,"alt_text",""),f(h,"id",`temp-${h}`),c({title:"Success",description:"Picture deleted successfully"})}catch(b){console.error("Error deleting picture:",b),c({title:"Error",description:"Failed to delete picture",variant:"destructive"})}},p=async()=>{try{i(!0);for(const h of e)if(h.image_url)if(h.id.startsWith("temp-")){const{error:v}=await B.from("category_pictures").insert({image_url:h.image_url,alt_text:h.alt_text||null,position:h.position,is_active:!0});if(v)throw console.error("Error inserting picture:",v),v}else{const{error:v}=await B.from("category_pictures").update({image_url:h.image_url,alt_text:h.alt_text||null,is_active:h.is_active}).eq("id",h.id);if(v)throw console.error("Error updating picture:",v),v}l(!1),c({title:"Success",description:"Category pictures saved successfully"}),await u()}catch(h){console.error("Error saving pictures:",h),c({title:"Error",description:"Failed to save category pictures",variant:"destructive"})}finally{i(!1)}};return r?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx(cn,{className:"animate-spin h-8 w-8"})}):a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold",children:"Category Pictures Manager"}),a.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Manage the 3 pictures displayed in the Categories section"})]}),a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row",children:[a.jsxs(U,{onClick:u,variant:"outline",disabled:s,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(cn,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),"Refresh"]}),a.jsxs(U,{onClick:p,disabled:!o||s,className:"w-full md:w-auto text-xs md:text-sm",size:"sm",children:[a.jsx(un,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),s?"Saving...":"Save Changes"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:e.map(h=>a.jsxs(ue,{className:"overflow-hidden",children:[a.jsx(Ne,{className:"pb-3 md:pb-6",children:a.jsxs(je,{className:"text-base md:text-lg",children:["Picture ",h.position]})}),a.jsxs(de,{className:"space-y-3 md:space-y-4 px-3 md:px-6",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{htmlFor:`alt-${h.position}`,className:"text-sm font-medium",children:"Alt Text"}),a.jsx(pe,{id:`alt-${h.position}`,value:h.alt_text||"",onChange:v=>f(h.position,"alt_text",v.target.value),placeholder:"Describe the image...",className:"text-sm md:text-base"})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx(re,{className:"text-sm font-medium",children:"Image"}),h.image_url?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:h.image_url,alt:h.alt_text||`Picture ${h.position}`,className:"w-full h-40 md:h-48 object-cover rounded-lg"}),a.jsx(U,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 md:h-9 md:w-9",onClick:()=>m(h.position),children:a.jsx(Ma,{className:"h-3 w-3 md:h-4 md:w-4"})})]}):a.jsx(Ol,{onImageSelected:v=>d(h.position,v),buttonLabel:"Upload Image",className:"w-full",bucketName:"gallery",folderPath:"category-pictures"})]})]})]},h.position))})]})},_$=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(null),{toast:s}=De(),i=[{id:"test-bouquet-1",name:"Test Bouquet - Francesco Fiori",price:25,quantity:1,description:"Beautiful test bouquet for checkout verification",image:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"}],o={name:"Test Customer",email:"test@francescofiori.it",phone:"+39 123 456 7890"},l=async()=>{try{const f=`TEST-${Date.now()}`,d=i.reduce((h,v)=>h+v.price*v.quantity,0),{data:m,error:p}=await B.from("orders").insert({order_number:f,customer_name:o.name,customer_email:o.email,customer_phone:o.phone,total_amount:d,status:"payment_pending",payment_status:"pending",notes:"Test order for Stripe checkout verification"}).select().single();if(p)throw p;return await B.from("order_items").insert({order_id:m.id,product_name:i[0].name,quantity:i[0].quantity,price:i[0].price}),m.id}catch(f){throw console.error("Error creating test order:",f),new Error("Failed to create test order")}},c=async()=>{t(!0),n(null);try{const f={configLoaded:!1,edgeFunctionReachable:!1,stripeInitialized:!1,error:void 0};try{const{data:d,error:m}=await B.from("settings").select("value").eq("key","stripeConfig").single();if(!m&&(d!=null&&d.value))f.configLoaded=!0;else throw new Error("Stripe configuration not found")}catch{f.error="Stripe configuration not found in database",n(f);return}try{const d=B.supabaseUrl,m=B.supabaseKey,p=await fetch(`${d}/functions/v1/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({line_items:[{price_data:{currency:"eur",product_data:{name:"Test"},unit_amount:100},quantity:1}],mode:"payment",customer_email:"test@example.com",success_url:"https://example.com/success",cancel_url:"https://example.com/cancel",metadata:{test:"true"}})});if(p.ok||p.status===400)f.edgeFunctionReachable=!0;else throw new Error(`Edge function returned ${p.status}`)}catch(d){f.error=`Edge function not reachable: ${d.message}`,n(f);return}try{const{loadStripe:d}=await vr(async()=>{const{loadStripe:h}=await import("./stripe-Z1fX3C2C.js");return{loadStripe:h}},[]),{data:m}=await B.from("settings").select("value").eq("key","stripeConfig").single(),p=m==null?void 0:m.value;p!=null&&p.publishableKey&&await d(p.publishableKey)&&(f.stripeInitialized=!0)}catch(d){f.error=`Stripe initialization failed: ${d.message}`}n(f),f.configLoaded&&f.edgeFunctionReachable&&f.stripeInitialized?s({title:"API Test Successful! ✅",description:"All Stripe integrations are working properly."}):s({title:"API Test Issues Found",description:"Some components need attention. Check the results below.",variant:"destructive"})}catch(f){console.error("API test error:",f),n({configLoaded:!1,edgeFunctionReachable:!1,stripeInitialized:!1,error:f.message})}finally{t(!1)}},u=(f,d)=>a.jsxs("div",{className:"flex items-center gap-2",children:[f?a.jsx(gt,{className:"h-4 w-4 text-green-500"}):a.jsx(La,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm",children:d}),a.jsx(at,{variant:f?"default":"destructive",children:f?"OK":"FAIL"})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Mo,{className:"h-5 w-5"}),"Stripe API Integration Test"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-3",children:a.jsx(U,{onClick:c,disabled:e,variant:"outline",children:e?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing API..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Test Stripe API"]})})}),r&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[a.jsx("h4",{className:"font-semibold",children:"Test Results:"}),u(r.configLoaded,"Stripe Configuration Loaded"),u(r.edgeFunctionReachable,"Edge Function Reachable"),u(r.stripeInitialized,"Stripe Client Initialized"),r.error&&a.jsxs("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:[a.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error:"}),a.jsx("p",{className:"text-red-700 text-sm",children:r.error})]})]})]})]}),a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Sl,{className:"h-5 w-5"}),"Live Checkout Test"]})}),a.jsx(de,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Test Checkout Flow"}),a.jsxs("p",{className:"text-blue-700 text-sm",children:["This will create a real test order and redirect to Stripe checkout. Use test card: ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"4242 4242 4242 4242"})]})]}),a.jsx(SN,{items:i,customerInfo:o,onCreateOrder:l,onSuccess:()=>{s({title:"Checkout Test Successful! 🎉",description:"The complete checkout flow is working properly."})},onError:f=>{s({title:"Checkout Test Failed",description:f,variant:"destructive"})},children:"Test Stripe Checkout Flow"})]})})]})]})},F$=()=>{const[e,t]=N.useState({publishableKey:"",secretKey:"",webhookSecret:"",isTestMode:!0}),[r,n]=N.useState({secretKey:!1,webhookSecret:!1}),[s,i]=N.useState(!0),[o,l]=N.useState(!1),[c,u]=N.useState({publishableValid:!1,secretValid:!1,webhookValid:!1}),{toast:f}=De();N.useEffect(()=>{d()},[]),N.useEffect(()=>{m()},[e]);const d=async()=>{try{i(!0);const{data:b,error:g}=await B.from("settings").select("value").eq("key","stripeConfig").single();!g&&(b!=null&&b.value)&&t(b.value)}catch(b){console.error("Error loading Stripe settings:",b)}finally{i(!1)}},m=()=>{const b=e.publishableKey.startsWith("pk_test_")||e.publishableKey.startsWith("pk_live_"),g=e.secretKey.startsWith("sk_test_")||e.secretKey.startsWith("sk_live_"),x=e.webhookSecret.startsWith("whsec_")||e.webhookSecret==="";u({publishableValid:b,secretValid:g,webhookValid:x})},p=async()=>{try{if(l(!0),!e.publishableKey||!e.secretKey){f({title:"Validation Error",description:"Publishable key and secret key are required.",variant:"destructive"});return}if(!c.publishableValid||!c.secretValid){f({title:"Invalid Keys",description:"Please check that your Stripe keys are in the correct format.",variant:"destructive"});return}console.log("Saving Stripe config:",{...e,secretKey:"[HIDDEN]"});const{data:b,error:g}=await B.from("settings").upsert({key:"stripeConfig",value:e,updated_at:new Date().toISOString()}).select();if(g)throw console.error("Database error:",g),g;console.log("Save successful:",b),f({title:"Settings Saved! ✅",description:"Stripe configuration has been updated successfully."}),window.stripeConfigCache&&delete window.stripeConfigCache}catch(b){console.error("Error saving Stripe settings:",b);const g=b instanceof Error?b.message:"Unknown error occurred";f({title:"Save Failed",description:`Failed to save Stripe settings: ${g}`,variant:"destructive"})}finally{l(!1)}},h=async()=>{if(!c.publishableValid||!c.secretValid){f({title:"Invalid Keys",description:"Please configure valid Stripe keys before testing.",variant:"destructive"});return}try{const{loadStripe:b}=await vr(async()=>{const{loadStripe:x}=await import("./stripe-Z1fX3C2C.js");return{loadStripe:x}},[]);if(await b(e.publishableKey))f({title:"Connection Successful! ✅",description:"Stripe keys are valid and connection is working."});else throw new Error("Failed to initialize Stripe")}catch(b){console.error("Stripe test error:",b),f({title:"Connection Failed",description:"Unable to connect to Stripe. Please check your keys.",variant:"destructive"})}},v=(b,g=!1)=>g?a.jsx(tb,{className:"h-4 w-4 text-gray-400"}):b?a.jsx(gt,{className:"h-4 w-4 text-green-500"}):a.jsx(La,{className:"h-4 w-4 text-red-500"});return s?a.jsx(ue,{children:a.jsxs(de,{className:"flex items-center justify-center py-8",children:[a.jsx(we,{className:"h-6 w-6 animate-spin mr-2"}),"Loading Stripe settings..."]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Sl,{className:"h-6 w-6"}),"Stripe Payment Configuration"]})}),a.jsxs(de,{children:[a.jsxs(Al,{defaultValue:"keys",className:"w-full",children:[a.jsxs(Si,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"keys",children:"API Keys"}),a.jsx(Ee,{value:"test",children:"Test Integration"}),a.jsx(Ee,{value:"settings",children:"Settings"})]}),a.jsxs(Ke,{value:"keys",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(re,{children:"Mode:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{variant:e.isTestMode?"default":"secondary",children:e.isTestMode?"Test Mode":"Live Mode"}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>t(b=>({...b,isTestMode:!b.isTestMode})),children:["Switch to ",e.isTestMode?"Live":"Test"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(re,{htmlFor:"publishableKey",children:"Publishable Key *"}),v(c.publishableValid,!e.publishableKey)]}),a.jsx(pe,{id:"publishableKey",placeholder:`pk_${e.isTestMode?"test":"live"}_...`,value:e.publishableKey,onChange:b=>t(g=>({...g,publishableKey:b.target.value}))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get this from your Stripe Dashboard → Developers → API keys"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(re,{htmlFor:"secretKey",children:"Secret Key *"}),v(c.secretValid,!e.secretKey)]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"secretKey",type:r.secretKey?"text":"password",placeholder:`sk_${e.isTestMode?"test":"live"}_...`,value:e.secretKey,onChange:b=>t(g=>({...g,secretKey:b.target.value}))}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(b=>({...b,secretKey:!b.secretKey})),children:r.secretKey?a.jsx(Xc,{className:"h-4 w-4"}):a.jsx(Fo,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"⚠️ Keep this secret! Never share or expose in frontend code."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(re,{htmlFor:"webhookSecret",children:"Webhook Secret (Optional)"}),v(c.webhookValid,!e.webhookSecret)]}),a.jsxs("div",{className:"relative",children:[a.jsx(pe,{id:"webhookSecret",type:r.webhookSecret?"text":"password",placeholder:"whsec_...",value:e.webhookSecret,onChange:b=>t(g=>({...g,webhookSecret:b.target.value}))}),a.jsx(U,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(b=>({...b,webhookSecret:!b.webhookSecret})),children:r.webhookSecret?a.jsx(Xc,{className:"h-4 w-4"}):a.jsx(Fo,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Required for webhook verification. Get from Stripe Dashboard → Webhooks."})]})]}),a.jsx(Ke,{value:"test",className:"space-y-6",children:a.jsx(_$,{})}),a.jsxs(Ke,{value:"settings",className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"How to get your Stripe keys:"}),a.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[a.jsxs("li",{children:["1. Go to ",a.jsx("a",{href:"https://dashboard.stripe.com/test/apikeys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Stripe Dashboard"})]}),a.jsx("li",{children:"2. Navigate to Developers → API keys"}),a.jsx("li",{children:"3. Copy your Publishable key and Secret key"}),a.jsx("li",{children:"4. For webhooks: Go to Developers → Webhooks → Add endpoint"}),a.jsxs("li",{children:["5. Use this URL: ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"https://your-supabase-project.supabase.co/functions/v1/stripe-webhook"})]})]})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"⚠️ Security Notes:"}),a.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[a.jsx("li",{children:"• Never expose secret keys in frontend code"}),a.jsx("li",{children:"• Use test keys during development"}),a.jsx("li",{children:"• Switch to live keys only for production"}),a.jsx("li",{children:"• Regularly rotate your API keys"})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[a.jsx(U,{onClick:p,disabled:o||!c.publishableValid||!c.secretValid,className:"flex-1",children:o?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})}),a.jsxs(U,{variant:"outline",onClick:h,disabled:!c.publishableValid||!c.secretValid,children:[a.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Test Connection"]})]})]})]})})};class M${constructor(){ze(this,"settings");ze(this,"audioContext",null);ze(this,"isRinging",!1);ze(this,"ringCount",0);ze(this,"ringTimeout",null);ze(this,"ringInterval",null);this.settings={enabled:!0,phoneNumber:"",ringDuration:3,ringInterval:2,maxRings:10,vibrationEnabled:!0,browserNotificationEnabled:!0,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"},this.loadSettings(),this.requestNotificationPermission()}async loadSettings(){try{const{supabase:t}=await vr(async()=>{const{supabase:s}=await Promise.resolve().then(()=>bi);return{supabase:s}},void 0),{data:r,error:n}=await t.from("settings").select("value").eq("key","phoneNotificationSettings").single();!n&&r&&(this.settings={...this.settings,...r.value})}catch(t){console.warn("Failed to load phone notification settings:",t);const r=localStorage.getItem("phoneNotificationSettings");r&&(this.settings={...this.settings,...JSON.parse(r)})}}async saveSettings(){try{const{supabase:t}=await vr(async()=>{const{supabase:n}=await Promise.resolve().then(()=>bi);return{supabase:n}},void 0),{error:r}=await t.from("settings").upsert({key:"phoneNotificationSettings",value:this.settings});if(r)throw r}catch(t){console.warn("Failed to save phone notification settings:",t),localStorage.setItem("phoneNotificationSettings",JSON.stringify(this.settings))}}initializeAudioContext(){if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.audioContext.state==="suspended"&&this.audioContext.resume().catch(t=>{console.warn("Failed to resume audio context:",t)})}catch(t){console.error("Failed to create audio context:",t),this.audioContext=null}}createPhoneRingTone(){if(!this.audioContext){this.createFallbackRingTone();return}try{const t=this.audioContext.createOscillator(),r=this.audioContext.createOscillator(),n=this.audioContext.createGain();t.frequency.setValueAtTime(440,this.audioContext.currentTime),r.frequency.setValueAtTime(480,this.audioContext.currentTime),t.connect(n),r.connect(n),n.connect(this.audioContext.destination),n.gain.setValueAtTime(0,this.audioContext.currentTime),n.gain.setValueAtTime(.3,this.audioContext.currentTime+.1),n.gain.setValueAtTime(0,this.audioContext.currentTime+1.1),n.gain.setValueAtTime(.3,this.audioContext.currentTime+1.6),n.gain.setValueAtTime(0,this.audioContext.currentTime+2.6),t.start(this.audioContext.currentTime),r.start(this.audioContext.currentTime),t.stop(this.audioContext.currentTime+this.settings.ringDuration),r.stop(this.audioContext.currentTime+this.settings.ringDuration)}catch(t){console.error("Failed to create ring tone with Web Audio API:",t),this.createFallbackRingTone()}}createFallbackRingTone(){try{if(this.settings.customNotificationSound&&this.settings.notificationSoundUrl){const t=new Audio(this.settings.notificationSoundUrl);t.volume=.7,t.play().catch(r=>{console.warn("Failed to play custom notification sound:",r),this.playDefaultRingTone()})}else this.playDefaultRingTone()}catch(t){console.error("Failed to create fallback ring tone:",t),this.playDefaultRingTone()}}playDefaultRingTone(){try{const t=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaAzKH0fPTgjAHJXfH8N2QQAoUXrTp66hVFApGn+DyvmEaAw==");t.volume=.5,t.play().catch(r=>{console.warn("Failed to play default ring tone:",r)})}catch(t){console.error("Failed to create default ring tone:",t)}}async sendSMSNotification(t,r){if(this.settings.phoneNumber)try{console.log(`SMS would be sent to ${this.settings.phoneNumber}:`),console.log(`New order received: #${t} from ${r}`)}catch(n){console.error("Failed to send SMS notification:",n)}}async requestNotificationPermission(){if("Notification"in window&&this.settings.browserNotificationEnabled)try{await Notification.requestPermission()}catch(t){console.warn("Failed to request notification permission:",t)}}triggerVibration(){if(this.settings.vibrationEnabled&&"vibrate"in navigator)try{navigator.vibrate([500,200,500,200,500])}catch(t){console.warn("Failed to trigger vibration:",t)}}showBrowserNotification(t,r){if(this.settings.browserNotificationEnabled&&"Notification"in window&&Notification.permission==="granted")try{const n=new Notification("New Order Received! 🔔",{body:`Order #${t} from ${r}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:"new-order",requireInteraction:!0,silent:!1});setTimeout(()=>{n.close()},1e4),n.onclick=()=>{window.focus(),n.close()}}catch(n){console.warn("Failed to show browser notification:",n)}}async notifyNewOrder(t,r){this.settings.enabled&&(console.log(`📞 Phone notification for order #${t} from ${r} - Page: ${window.location.pathname}`),await this.sendSMSNotification(t,r),this.showBrowserNotification(t,r),this.triggerVibration(),this.startRinging())}startRinging(){if(this.isRinging)return;this.isRinging=!0,this.ringCount=0,this.initializeAudioContext();const t=()=>{if(this.ringCount>=this.settings.maxRings){this.stopRinging();return}this.createPhoneRingTone(),this.ringCount++,this.ringTimeout=setTimeout(()=>{this.isRinging&&t()},(this.settings.ringDuration+this.settings.ringInterval)*1e3)};t()}stopRinging(){this.isRinging=!1,this.ringCount=0,this.ringTimeout&&(clearTimeout(this.ringTimeout),this.ringTimeout=null),this.ringInterval&&(clearInterval(this.ringInterval),this.ringInterval=null)}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings()}getSettings(){return{...this.settings}}isCurrentlyRinging(){return this.isRinging}getRingCount(){return this.ringCount}updateNotificationSound(t,r){this.settings.customNotificationSound=!0,this.settings.notificationSoundUrl=t,this.settings.notificationSoundName=r,this.saveSettings()}resetToDefaultSound(){this.settings.customNotificationSound=!1,this.settings.notificationSoundUrl="",this.settings.notificationSoundName="Default Ring Tone",this.saveSettings()}testNotificationSound(){this.createFallbackRingTone()}}const nt=new M$,L$=()=>{const{toast:e}=De(),[t,r]=N.useState(!1),[n,s]=N.useState(!1),i=()=>{try{r(!0),nt.testNotificationSound(),e({title:"Testing Notification Sound 🔊",description:"Playing the current notification sound..."}),setTimeout(()=>{r(!1)},3e3)}catch(c){console.error("Error testing notification sound:",c),e({title:"Error",description:"Failed to test notification sound",variant:"destructive"}),r(!1)}},o=()=>{try{s(!0),nt.notifyNewOrder("TEST-001","Test Customer"),e({title:"Testing Full Notification 🔔",description:"Simulating a new order notification with sound, vibration, and browser notification",duration:5e3}),setTimeout(()=>{s(!1)},5e3)}catch(c){console.error("Error testing full notification:",c),e({title:"Error",description:"Failed to test full notification",variant:"destructive"}),s(!1)}},l=()=>{try{nt.stopRinging(),e({title:"Notifications Stopped",description:"All notification sounds have been stopped"})}catch(c){console.error("Error stopping notifications:",c),e({title:"Error",description:"Failed to stop notifications",variant:"destructive"})}};return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(ba,{className:"h-5 w-5"}),"Test Notification Music"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(U,{onClick:i,disabled:t,variant:"outline",className:"flex items-center gap-2 h-20 flex-col",children:[a.jsx(Yp,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:t?"Playing...":"Test Sound Only"})]}),a.jsxs(U,{onClick:o,disabled:n,className:"flex items-center gap-2 h-20 flex-col bg-emerald-500 hover:bg-emerald-600",children:[a.jsx(Kp,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:n?"Testing...":"Test Full Notification"})]}),a.jsxs(U,{onClick:l,variant:"destructive",className:"flex items-center gap-2 h-20 flex-col",children:[a.jsx(ba,{className:"h-6 w-6"}),a.jsx("span",{className:"text-sm",children:"Stop All Sounds"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Test Options:"}),a.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Test Sound Only:"})," Plays just the notification sound"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Test Full Notification:"})," Simulates a complete new order notification (sound + vibration + browser notification)"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Stop All Sounds:"})," Stops any currently playing notification sounds"]})]})]}),a.jsxs("div",{className:"bg-amber-50 p-4 rounded-md border border-amber-200",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Note:"}),a.jsx("p",{className:"text-amber-700 text-sm",children:"Make sure your browser allows notifications and audio playback. Some browsers may block autoplay until you interact with the page first."})]})]})]})},$$=()=>{const{toast:e}=De(),[t,r]=N.useState({enabled:!0,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"}),[n,s]=N.useState(!1),[i,o]=N.useState(!0);N.useEffect(()=>{l()},[]);const l=()=>{try{const m=nt.getSettings();r({enabled:m.enabled,customNotificationSound:m.customNotificationSound,notificationSoundUrl:m.notificationSoundUrl,notificationSoundName:m.notificationSoundName})}catch(m){console.error("Error loading notification settings:",m),e({title:"Error",description:"Failed to load notification settings",variant:"destructive"})}finally{o(!1)}},c=m=>{try{const p=m.split("/"),h=p[p.length-1]||"Custom Notification Sound";nt.updateNotificationSound(m,h),r(v=>({...v,customNotificationSound:!0,notificationSoundUrl:m,notificationSoundName:h})),e({title:"Success! 🎵",description:"Custom notification sound uploaded and set"})}catch(p){console.error("Error uploading notification sound:",p),e({title:"Error",description:"Failed to upload notification sound",variant:"destructive"})}},u=()=>{try{nt.resetToDefaultSound(),r(m=>({...m,customNotificationSound:!1,notificationSoundUrl:"",notificationSoundName:"Default Ring Tone"})),e({title:"Reset Complete",description:"Notification sound reset to default ring tone"})}catch(m){console.error("Error resetting notification sound:",m),e({title:"Error",description:"Failed to reset notification sound",variant:"destructive"})}},f=()=>{try{nt.testNotificationSound(),s(!0),setTimeout(()=>{s(!1)},3e3),e({title:"Testing Sound 🔊",description:"Playing notification sound..."})}catch(m){console.error("Error testing notification sound:",m),e({title:"Error",description:"Failed to test notification sound",variant:"destructive"})}},d=m=>{try{nt.updateSettings({enabled:m}),r(p=>({...p,enabled:m})),e({title:m?"Notifications Enabled":"Notifications Disabled",description:m?"Order notifications will now play sounds":"Order notifications are muted"})}catch(p){console.error("Error updating notification settings:",p),e({title:"Error",description:"Failed to update notification settings",variant:"destructive"})}};return i?a.jsx(ue,{children:a.jsx(de,{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(Ne,{children:[a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(ba,{className:"h-5 w-5"}),"Notification Music Settings"]}),a.jsx(fg,{children:"Upload custom notification music that plays when new orders are received"}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsx(_s,{id:"notifications-enabled",checked:t.enabled,onCheckedChange:d}),a.jsx(re,{htmlFor:"notifications-enabled",children:t.enabled?"Notifications Enabled":"Notifications Disabled"})]})]}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Current Notification Sound"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-slate-50 border",children:[a.jsx(um,{size:20,className:"text-muted-foreground"}),a.jsx("span",{className:"font-medium flex-1 truncate",children:t.notificationSoundName}),a.jsx(U,{type:"button",size:"sm",variant:"ghost",onClick:f,disabled:n,children:n?a.jsx(ub,{size:16}):a.jsx(Yp,{size:16})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Upload Custom Notification Sound"}),a.jsx(Ol,{onImageSelected:c,buttonLabel:"Upload Audio File",className:"w-full",bucketName:"uploads",folderPath:"notification-sounds",acceptedFileTypes:"audio/*",maxFileSize:5*1024*1024}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: MP3, WAV, OGG, M4A (max 5MB)"})]}),t.customNotificationSound&&a.jsx("div",{className:"pt-4 border-t",children:a.jsxs(U,{variant:"outline",onClick:u,className:"text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600",children:[a.jsx(Ma,{size:16,className:"mr-2"}),"Reset to Default Ring Tone"]})}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"How it works:"}),a.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[a.jsx("li",{children:"• Upload your custom notification sound (music, ringtone, etc.)"}),a.jsx("li",{children:"• The sound will play when new orders are received"}),a.jsx("li",{children:"• Test the sound using the play button"}),a.jsx("li",{children:"• You can reset to the default ring tone anytime"})]})]})]})]}),a.jsx(L$,{})]})},z$=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1);De();const s=c=>{t(u=>[...u,`${new Date().toLocaleTimeString()}: ${c}`])},i=async()=>{var c,u;n(!0),t([]),s("🔍 Starting hero content debug...");try{s("🌐 Checking database for hero content...");try{const{supabase:p}=await vr(async()=>{const{supabase:b}=await Promise.resolve().then(()=>bi);return{supabase:b}},void 0),{data:h,error:v}=await p.from("settings").select("*").eq("key","heroContent").single();v?s(`❌ Database error: ${v.message}`):h?(s("✅ Found hero content in database:"),s(`   - Heading: ${h.value.heading||"N/A"}`),s(`   - Subheading: ${h.value.subheading||"N/A"}`),s(`   - Background Image: ${h.value.backgroundImage||"N/A"}`),(c=h.value.backgroundImage)!=null&&c.includes("unsplash.com")?s("⚠️ Using default Unsplash image"):(u=h.value.backgroundImage)!=null&&u.includes("supabase.co")&&s("✅ Using custom uploaded image")):s("⚠️ No hero content found in database")}catch(p){s(`❌ Error checking database: ${p}`)}s("🪝 Checking hook data..."),s(`   - Heading: ${(heroContent==null?void 0:heroContent.heading)||"N/A"}`),s(`   - Subheading: ${(heroContent==null?void 0:heroContent.subheading)||"N/A"}`),s(`   - Background Image: ${(heroContent==null?void 0:heroContent.backgroundImage)||"N/A"}`),s("🗄️ Checking settings service...");const f=await settingsService.getSetting("heroContent",{heading:"Default",subheading:"Default",backgroundImage:"Default"});s(`   - Service Heading: ${(f==null?void 0:f.heading)||"N/A"}`),s(`   - Service Subheading: ${(f==null?void 0:f.subheading)||"N/A"}`),s(`   - Service Background Image: ${(f==null?void 0:f.backgroundImage)||"N/A"}`),s("📋 Checking content_sections table...");const{data:d}=await supabase.from("content_sections").select("section_key, section_name, updated_at").contains("metadata",{section:"hero"});d&&d.length>0?(s("✅ Found hero content in content_sections:"),d.forEach(p=>{s(`   - ${p.section_key}: ${p.section_name} (${p.updated_at})`)})):s("⚠️ No hero content found in content_sections table"),s("📋 All settings in database:");const{data:m}=await supabase.from("settings").select("key, updated_at").order("updated_at",{ascending:!1});m==null||m.forEach(p=>{s(`   - ${p.key} (${p.updated_at})`)}),s("🎉 Debug complete!")}catch(f){s(`❌ Debug failed: ${f}`)}n(!1)},o=async()=>{s("🧪 Testing hero content update...");try{const u={heading:"Francesco Fiori & Piante - Test Update "+new Date().toLocaleTimeString(),subheading:"Creazioni floreali uniche - Updated at "+new Date().toLocaleTimeString(),backgroundImage:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"};s("📝 Updating hero content..."),await updateHeroContent(u)?(s("✅ Hero content update successful"),s("🔄 Waiting 3 seconds to verify save..."),setTimeout(async()=>{var m,p;const{data:d}=await supabase.from("settings").select("*").eq("key","heroContent").single();d?(s("✅ Verified: Content saved to database"),s(`   - New heading: ${(m=d.value)==null?void 0:m.heading}`),s(`   - New background: ${(p=d.value)==null?void 0:p.backgroundImage}`),s("🎉 Test completed successfully!"),s("🏠 Go to homepage (http://localhost:8484/) to see changes"),s("🔄 You may need to refresh the page to see the new image")):s("❌ Content not found in database after update")},3e3)):s("❌ Hero content update failed")}catch(c){s(`❌ Test update failed: ${c}`)}},l=()=>{t([])};return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Hero Content Debugger"})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{onClick:i,disabled:r,className:"flex-1",children:r?"Debugging...":"Debug Hero Content"}),a.jsx(U,{onClick:o,disabled:r,variant:"outline",className:"flex-1",children:"Test Update"}),a.jsx(U,{onClick:l,variant:"ghost",children:"Clear"})]}),e.length>0&&a.jsxs("div",{className:"bg-gray-100 p-4 rounded-md max-h-96 overflow-y-auto",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Debug Results:"}),e.map((c,u)=>a.jsx("div",{className:"text-sm font-mono whitespace-pre-wrap",children:c},u))]})]})]})},B$=()=>{const[e,t]=N.useState(!1),[r,n,s]=kN(),[i,o]=N.useState({heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"}),{toast:l}=De();N.useEffect(()=>{r&&!s&&o({heading:r.heading||"Francesco Fiori & Piante",subheading:r.subheading||"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:r.backgroundImage||"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})},[r,s]);const c=async()=>{t(!0);try{if(await n(i))window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:i})),l({title:"Success! 🎉",description:"Hero content updated successfully"});else throw new Error("Failed to save hero content")}catch(h){console.error("Error saving hero content:",h),l({title:"Error",description:"Failed to save hero content. Please try again.",variant:"destructive"})}finally{t(!1)}},u=()=>{r&&o({heading:r.heading||"Francesco Fiori & Piante",subheading:r.subheading||"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:r.backgroundImage||"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"})},f=h=>{o(v=>({...v,heading:h}))},d=h=>{o(v=>({...v,subheading:h}))},m=h=>{console.log("🖼️ HeroContentEditor: Background image updated:",h),o(v=>({...v,backgroundImage:h}))};if(s)return a.jsx(ue,{children:a.jsx(de,{className:"flex items-center justify-center h-32",children:a.jsx(we,{className:"h-6 w-6 animate-spin"})})});const p=i.heading!==((r==null?void 0:r.heading)||"")||i.subheading!==((r==null?void 0:r.subheading)||"")||i.backgroundImage!==((r==null?void 0:r.backgroundImage)||"");return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:["Hero Section Editor",a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:u,variant:"outline",size:"sm",disabled:!p||e,children:[a.jsx(cn,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsx(U,{onClick:c,disabled:!p||e,size:"sm",children:e?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-4 w-4 mr-1 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"h-4 w-4 mr-1"}),"Save Changes"]})})]})]})}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Heading"}),a.jsx(pe,{value:i.heading,onChange:h=>f(h.target.value),placeholder:"Enter hero section heading",className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hero Subheading"}),a.jsx(mn,{value:i.subheading,onChange:h=>d(h.target.value),placeholder:"Enter hero section subheading",className:"w-full",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Background Image"}),a.jsx(Ol,{currentImage:i.backgroundImage,onImageSelected:m,bucketName:"uploads",folderPath:"hero-images",buttonLabel:"Upload Hero Image"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload a high-quality image for the hero section background. Recommended size: 2000x1000px or larger."})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Preview"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Heading:"}),a.jsx("p",{className:"font-semibold",children:i.heading||"No heading set"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Subheading:"}),a.jsx("p",{className:"text-sm",children:i.subheading||"No subheading set"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Background Image:"}),i.backgroundImage?a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:i.backgroundImage,alt:"Hero background preview",className:"w-full h-24 object-cover rounded border",onError:h=>{const v=h.target;v.src="/placeholder.svg"}})}):a.jsx("p",{className:"text-sm text-gray-400",children:"No background image set"})]})]})})]}),p&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-yellow-800",children:'⚠️ You have unsaved changes. Click "Save Changes" to apply them to your website.'})})]})]})},U$=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),{toast:s}=De(),i="+393498851455",o=async()=>{t(!0),n([]);const l=c=>{n(u=>[...u,c])};try{l("🔄 Starting phone number update..."),l("📞 Updating contact content...");const{data:c,error:u}=await B.from("settings").select("value").eq("key","contactContent").single();if(u)l(`❌ Error fetching current contact: ${u.message}`);else{const f={...c.value,phone:i},{error:d}=await B.from("settings").update({value:f}).eq("key","contactContent");l(d?`❌ Error updating contact: ${d.message}`:"✅ Contact content updated successfully")}l("💾 Updating localStorage...");try{const f=localStorage.getItem("contactContent");if(f){const d=JSON.parse(f);d.phone=i,localStorage.setItem("contactContent",JSON.stringify(d)),l("✅ localStorage updated successfully")}else{const d={address:"Piazza della Repubblica, 10100 Torino TO",phone:i,email:"info@francescofiori.it",mapUrl:"https://maps.google.com",hours:"Lun-Dom: 08:00 - 19:00"};localStorage.setItem("contactContent",JSON.stringify(d)),l("✅ localStorage created with new phone number")}}catch(f){l(`⚠️ localStorage update failed: ${f}`)}l("🔄 Triggering content refresh..."),window.dispatchEvent(new CustomEvent("contactContentUpdated",{detail:{phone:i}})),l("🎉 Phone number update completed successfully!"),l(`📱 New phone number: ${i}`),s({title:"Phone Number Updated! 📞",description:`All instances updated to ${i}`})}catch(c){l(`❌ Unexpected error: ${c}`),s({title:"Update Failed",description:"An error occurred while updating the phone number",variant:"destructive"})}finally{t(!1)}};return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Ku,{className:"h-5 w-5"}),"Phone Number Updater"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Update Phone Number"}),a.jsxs("p",{className:"text-sm text-blue-700 mb-3",children:["This will update the phone number to ",a.jsx("strong",{children:i})," throughout the entire website:"]}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Contact section display"}),a.jsx("li",{children:"• Order page contact information"}),a.jsx("li",{children:"• Database settings"}),a.jsx("li",{children:"• Local storage cache"})]})]}),a.jsx(U,{onClick:o,disabled:e,className:"w-full",children:e?a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating Phone Number..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),"Update Phone Number to ",i]})}),r.length>0&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Update Progress:"}),a.jsx("div",{className:"space-y-1 text-sm font-mono",children:r.map((l,c)=>a.jsx("div",{className:"text-gray-700",children:l},c))})]})]})]})},H$=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),{toast:s}=De(),i=c=>{n(u=>[...u,c])},o=async()=>{t(!0),n([]);try{i("🔄 Starting hero image database fix..."),i("📊 Checking current hero content...");const c=await kn.getSetting("heroContent");i(c?`✅ Found hero content: ${JSON.stringify(c)}`:"⚠️ No hero content found in database");const u={heading:"Francesco Fiori & Piante",subheading:"Scopri l'eleganza floreale firmata Francesco: fiori, piante e creazioni per ogni occasione. 🌸🌿",backgroundImage:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80"};i("💾 Updating hero content in database..."),await kn.updateSetting("heroContent",u),i("✅ Hero content updated in database"),i("📱 Updating localStorage..."),localStorage.setItem("heroContent",JSON.stringify(u)),i("✅ localStorage updated"),i("📡 Triggering hero content update event..."),window.dispatchEvent(new CustomEvent("heroContentUpdated",{detail:u})),i("✅ Hero content update event triggered"),i("🔄 Refreshing page to apply changes..."),setTimeout(()=>{window.location.reload()},2e3),i("🎉 Hero image fix completed successfully!"),s({title:"Hero Image Fixed! 🖼️",description:"The hero image should now load properly from the database"})}catch(c){i(`❌ Error fixing hero image: ${c}`),s({title:"Fix Failed",description:"An error occurred while fixing the hero image",variant:"destructive"})}finally{t(!1)}},l=async()=>{var c;t(!0),n([]);try{i("🧪 Testing hero content database connection...");const u=await kn.getSetting("heroContent");u?(i("✅ Hero content found in database:"),i(`   📝 Heading: ${u.heading}`),i(`   📝 Subheading: ${(c=u.subheading)==null?void 0:c.substring(0,50)}...`),i(`   🖼️ Background Image: ${u.backgroundImage}`)):i("❌ No hero content found in database");const f=await kn.getSetting("logoSettings");f?(i("✅ Logo settings found in database:"),i(`   🏷️ Logo URL: ${f.logoUrl}`),i(`   📝 Alt Text: ${f.altText}`)):i("❌ No logo settings found in database");const d=localStorage.getItem("heroContent");i(d?"✅ Hero content found in localStorage":"⚠️ No hero content in localStorage")}catch(u){i(`❌ Error testing hero content: ${u}`)}finally{t(!1)}};return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Qp,{className:"h-5 w-5"}),"Hero Image Database Fixer"]})}),a.jsxs(de,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Hero Image Issue"}),a.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"If the hero image is showing the default placeholder instead of the uploaded image, this tool will fix the database connection and ensure proper image loading."}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• Checks database hero content"}),a.jsx("li",{children:"• Updates localStorage cache"}),a.jsx("li",{children:"• Triggers content refresh events"}),a.jsx("li",{children:"• Forces page reload to apply changes"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(U,{onClick:l,disabled:e,variant:"outline",className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"h-4 w-4 mr-2"}),"Test Database Connection"]})}),a.jsx(U,{onClick:o,disabled:e,className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Fixing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"h-4 w-4 mr-2"}),"Fix Hero Image"]})})]}),r.length>0&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Fix Progress:"}),a.jsx("div",{className:"space-y-1 text-sm font-mono",children:r.map((c,u)=>a.jsx("div",{className:"text-gray-700",children:c},u))})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"How to Upload New Hero Image"}),a.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:'1. Go to the "Hero Section" tab in admin panel'}),a.jsx("li",{children:'2. Click "Upload Hero Image" button'}),a.jsx("li",{children:"3. Select your image (recommended: 2000x1000px or larger)"}),a.jsx("li",{children:'4. Click "Save Changes"'}),a.jsx("li",{children:"5. The new image will appear on the homepage"})]})]})]})]})},q$=()=>{var b,g;const{toast:e}=De(),[t,r]=N.useState(null),[n,s]=N.useState(!1),[i,o]=N.useState(!1),{data:l,isLoading:c,refetch:u,error:f}=sl({queryKey:["content-sections"],queryFn:async()=>{try{const{data:x,error:y}=await B.from("content_sections").select("*").order("section_key");return y?(console.error("[Admin] Database error:",y),[]):x||[]}catch(x){return console.error("[Admin] Query error:",x),[]}},retry:!1,enabled:!0,staleTime:0,cacheTime:0}),d=async(x,y)=>{r(x);try{const{error:w}=await B.from("content_sections").update({content_value:y}).eq("id",x);if(w)throw w;e({title:"Success",description:"Content updated successfully"}),u()}catch{e({title:"Error",description:"Failed to update content",variant:"destructive"})}finally{r(null)}},m=async()=>{o(!0);try{const x=await CN();e(x?{title:"Connection Success! ✅",description:"Database connection is working properly"}:{title:"Connection Failed",description:"Unable to connect to database. Check console for details.",variant:"destructive"})}catch(x){console.error("[Admin] Connection test error:",x),e({title:"Connection Error",description:`Connection test failed: ${x.message}`,variant:"destructive"})}finally{o(!1)}},p=async()=>{s(!0);try{await Nd()?(e({title:"Success! 🎉",description:"Database initialized with default content, categories, and products"}),u()):e({title:"Error",description:"Failed to initialize database. Check console for details.",variant:"destructive"})}catch(x){console.error("[Admin] Initialization error:",x),e({title:"Error",description:`Failed to initialize: ${x.message}`,variant:"destructive"})}finally{s(!1)}},h=async()=>{try{const x=[{image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Beautiful fresh flowers",position:1,is_active:!0},{image_url:"https://images.unsplash.com/photo-1440342359743-84fcb8c21f21?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Elegant floral arrangement",position:2,is_active:!0},{image_url:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",alt_text:"Colorful flower bouquet",position:3,is_active:!0}],{error:y}=await B.from("category_pictures").upsert(x,{onConflict:"position"});if(y)throw y;e({title:"Success",description:"Category pictures initialized with default images"})}catch(x){console.error("Error initializing category pictures:",x),e({title:"Error",description:"Failed to initialize category pictures",variant:"destructive"})}};if(c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(we,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});f&&console.error("[Admin] Query error detected:",f);const v=l==null?void 0:l.reduce((x,y)=>{var S;const w=((S=y.metadata)==null?void 0:S.section)||"other";return x[w]||(x[w]=[]),x[w].push(y),x},{});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 animate-fade-in-up",children:a.jsx("div",{className:"pt-16 md:pt-20 pb-4 md:pb-8",children:a.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[a.jsx("div",{className:"mb-4 md:mb-8 animate-fade-in-down",children:a.jsxs("div",{className:"flex flex-col gap-3 md:gap-4",children:[a.jsxs("div",{className:"text-center md:text-left animate-fade-in-left",children:[a.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-900 mb-1 md:mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Admin Panel"}),a.jsx("p",{className:"text-xs md:text-base text-gray-600",children:"Manage all website content, text, images, and orders"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 md:flex md:flex-row md:gap-2 md:justify-center lg:justify-end animate-fade-in-right",children:[a.jsx(U,{onClick:m,disabled:i,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:i?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Test..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Test"})]})}),a.jsx(U,{onClick:p,disabled:n,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:n?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Init..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Init DB"})]})}),a.jsxs(U,{onClick:h,variant:"outline",className:"flex flex-col md:flex-row items-center gap-1 md:gap-2 hover-lift text-xs p-2 md:p-3",size:"sm",children:[a.jsx(cn,{className:"h-3 w-3 md:h-4 md:w-4"}),a.jsx("span",{className:"text-xs md:text-sm",children:"Gallery"})]})]})]})}),(f||!l||l.length===0)&&a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-4 mb-6 animate-slide-in-up shadow-lg",children:[a.jsx("h3",{className:"text-yellow-800 font-medium mb-2 text-sm md:text-base",children:"Database Notice"}),a.jsx("p",{className:"text-yellow-700 text-xs md:text-sm mb-3",children:f?`Database connection issue: ${f.message}. Some features may not work properly.`:"No content sections found. You may need to initialize the database."}),a.jsx(U,{onClick:p,disabled:n,size:"sm",variant:"outline",className:"hover-lift",children:n?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"h-3 w-3 mr-1 animate-spin"}),a.jsx("span",{className:"text-xs",children:"Initializing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Initialize Database"})]})})]}),a.jsxs(Al,{defaultValue:"phone",className:"space-y-3 md:space-y-6 animate-scale-in",children:[a.jsx("div",{className:"block md:hidden",children:a.jsxs(Si,{className:"grid grid-cols-2 gap-2 mb-4 h-auto bg-transparent p-0",children:[a.jsxs(Ee,{value:"phone",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-blue-200 hover:bg-blue-50 transition-all duration-200 hover-scale data-[state=active]:bg-blue-100",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600 text-sm",children:"📞"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Phone"})]}),a.jsxs(Ee,{value:"hero",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-purple-200 hover:bg-purple-50 transition-all duration-200 hover-scale data-[state=active]:bg-purple-100",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-purple-600 text-sm",children:"🏠"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Hero"})]}),a.jsxs(Ee,{value:"logo",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-green-200 hover:bg-green-50 transition-all duration-200 hover-scale data-[state=active]:bg-green-100",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600 text-sm",children:"🎨"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Logo"})]}),a.jsxs(Ee,{value:"categories",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-orange-200 hover:bg-orange-50 transition-all duration-200 hover-scale data-[state=active]:bg-orange-100",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-orange-600 text-sm",children:"📂"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Categories"})]}),a.jsxs(Ee,{value:"category-pics",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-pink-200 hover:bg-pink-50 transition-all duration-200 hover-scale data-[state=active]:bg-pink-100",children:[a.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-pink-600 text-sm",children:"🖼️"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Pictures"})]}),a.jsxs(Ee,{value:"products",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-indigo-200 hover:bg-indigo-50 transition-all duration-200 hover-scale data-[state=active]:bg-indigo-100",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 text-sm",children:"🌸"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Products"})]}),a.jsxs(Ee,{value:"gallery",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-teal-200 hover:bg-teal-50 transition-all duration-200 hover-scale data-[state=active]:bg-teal-100",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-teal-600 text-sm",children:"🎭"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Gallery"})]}),a.jsxs(Ee,{value:"about",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-cyan-200 hover:bg-cyan-50 transition-all duration-200 hover-scale data-[state=active]:bg-cyan-100",children:[a.jsx("div",{className:"w-8 h-8 bg-cyan-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-cyan-600 text-sm",children:"ℹ️"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"About"})]}),a.jsxs(Ee,{value:"orders",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-red-200 hover:bg-red-50 transition-all duration-200 hover-scale data-[state=active]:bg-red-100",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-red-600 text-sm",children:"📋"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Orders"})]}),a.jsxs(Ee,{value:"shipping",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-yellow-200 hover:bg-yellow-50 transition-all duration-200 hover-scale data-[state=active]:bg-yellow-100",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-yellow-600 text-sm",children:"🚚"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Shipping"})]}),a.jsxs(Ee,{value:"stripe",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-violet-200 hover:bg-violet-50 transition-all duration-200 hover-scale data-[state=active]:bg-violet-100",children:[a.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-violet-600 text-sm",children:"💳"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Stripe"})]}),a.jsxs(Ee,{value:"notifications",className:"flex flex-col items-center gap-2 p-3 bg-white/90 rounded-lg shadow-sm border border-rose-200 hover:bg-rose-50 transition-all duration-200 hover-scale data-[state=active]:bg-rose-100",children:[a.jsx("div",{className:"w-8 h-8 bg-rose-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-rose-600 text-sm",children:"🎵"})}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Music"})]})]})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs(Si,{className:"grid grid-cols-6 lg:grid-cols-12 w-full gap-1 p-1 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg",children:[a.jsx(Ee,{value:"phone",className:"text-sm px-3 py-2 hover-scale",children:"Phone"}),a.jsx(Ee,{value:"hero",className:"text-sm px-3 py-2 hover-scale",children:"Hero"}),a.jsx(Ee,{value:"logo",className:"text-sm px-3 py-2 hover-scale",children:"Logo"}),a.jsx(Ee,{value:"categories",className:"text-sm px-3 py-2 hover-scale",children:"Categories"}),a.jsx(Ee,{value:"category-pics",className:"text-sm px-3 py-2 hover-scale",children:"Pictures"}),a.jsx(Ee,{value:"products",className:"text-sm px-3 py-2 hover-scale",children:"Products"}),a.jsx(Ee,{value:"gallery",className:"text-sm px-3 py-2 hover-scale",children:"Gallery"}),a.jsx(Ee,{value:"about",className:"text-sm px-3 py-2 hover-scale",children:"About"}),a.jsx(Ee,{value:"orders",className:"text-sm px-3 py-2 hover-scale",children:"Orders"}),a.jsx(Ee,{value:"shipping",className:"text-sm px-3 py-2 hover-scale",children:"Shipping"}),a.jsx(Ee,{value:"stripe",className:"text-sm px-3 py-2 hover-scale",children:"Stripe"}),a.jsx(Ee,{value:"notifications",className:"text-sm px-3 py-2 hover-scale",children:"Music"})]})}),a.jsx(Ke,{value:"phone",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-blue-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-blue-800 animate-fade-in-left",children:"Phone Number Update"}),a.jsx("div",{className:"animate-fade-in-right animate-stagger-1",children:a.jsx(U$,{})})]})}),a.jsx(Ke,{value:"hero",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-purple-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-purple-800 animate-fade-in-left",children:"Hero Section Content"}),a.jsxs("div",{className:"space-y-3 md:space-y-4 animate-fade-in-right",children:[a.jsx("div",{className:"animate-stagger-1",children:a.jsx(H$,{})}),a.jsx("div",{className:"animate-stagger-2",children:a.jsx(B$,{})}),a.jsx("div",{className:"animate-stagger-3",children:a.jsx(z$,{})})]})]})}),a.jsx(Ke,{value:"logo",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-green-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-green-800 animate-fade-in-left",children:"Logo Settings"}),a.jsx("div",{className:"animate-fade-in-right animate-stagger-1",children:a.jsx(k$,{})})]})}),a.jsx(Ke,{value:"categories",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-orange-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-orange-800 animate-fade-in-left",children:"Categories Content"}),a.jsx("div",{className:"space-y-3 md:space-y-4",children:(b=v==null?void 0:v.categories)==null?void 0:b.map((x,y)=>a.jsx("div",{className:`animate-fade-in-right animate-stagger-${Math.min(y+1,5)}`,children:a.jsx(Vf,{section:x,onSave:d,saving:t===x.id})},x.id))})]})}),a.jsx(Ke,{value:"category-pics",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-pink-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(O$,{})})})}),a.jsx(Ke,{value:"products",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-indigo-100",children:a.jsx("div",{className:"animate-slide-in-up",children:a.jsx(P$,{})})})}),a.jsx(Ke,{value:"gallery",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-teal-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(RM,{})})})}),a.jsx(Ke,{value:"about",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-cyan-100",children:[a.jsx("h2",{className:"text-base md:text-2xl font-semibold mb-2 md:mb-4 text-cyan-800 animate-fade-in-left",children:"About Section Content"}),a.jsx("div",{className:"space-y-3 md:space-y-4",children:(g=v==null?void 0:v.about)==null?void 0:g.map((x,y)=>a.jsx("div",{className:`animate-fade-in-right animate-stagger-${Math.min(y+1,5)}`,children:a.jsx(Vf,{section:x,onSave:d,saving:t===x.id})},x.id))})]})}),a.jsx(Ke,{value:"orders",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-red-100",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"📱 Dedicated Order Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Order management has been moved to a dedicated dashboard with enhanced features:"}),a.jsxs("ul",{className:"text-left text-sm text-gray-600 mb-6 space-y-2 max-w-md mx-auto",children:[a.jsx("li",{children:"✅ Real-time notifications even when screen is off"}),a.jsx("li",{children:"✅ Background processing and sync"}),a.jsx("li",{children:"✅ Comprehensive system testing"}),a.jsx("li",{children:"✅ Enhanced mobile experience"}),a.jsx("li",{children:"✅ Persistent notifications"})]}),a.jsx("a",{href:"/orders",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"🚀 Open Order Dashboard"})]})})}),a.jsx(Ke,{value:"shipping",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-yellow-100",children:a.jsx("div",{className:"animate-scale-in",children:a.jsx(R$,{})})})}),a.jsx(Ke,{value:"stripe",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-violet-100",children:a.jsx("div",{className:"animate-fade-in-right",children:a.jsx(F$,{})})})}),a.jsx(Ke,{value:"notifications",className:"space-y-2 md:space-y-4 animate-fade-in-up",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-3 md:p-6 shadow-lg border border-rose-100",children:a.jsx("div",{className:"animate-bounce-gentle",children:a.jsx($$,{})})})}),a.jsxs(Ke,{value:"all",className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"All Content Sections"}),l==null?void 0:l.map(x=>a.jsx(Vf,{section:x,onSave:d,saving:t===x.id},x.id))]})]})]})})})},V$=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState({customerName:"",customerEmail:"",customerPhone:"",category:"",productDescription:"",quantity:1,specialRequests:"",deliveryDate:"",billingAddress:{street:"",city:"",postalCode:"",country:"Italy"},shippingAddress:{street:"",city:"",postalCode:"",country:"Italy",sameAsBilling:!0}}),{toast:s}=De(),i=[{value:"matrimoni",label:"Matrimoni - Wedding Arrangements"},{value:"fiori_piante",label:"Fiori & Piante - Fresh Flowers & Plants"},{value:"fiori_finti",label:"Fiori Finti - Artificial Flowers"},{value:"funerali",label:"Funerali - Funeral Arrangements"}],o=(f,d)=>{if(f.includes(".")){const[m,p]=f.split(".");n(h=>({...h,[m]:{...h[m],[p]:d}}))}else n(m=>({...m,[f]:d}))},l=()=>{const f=Date.now().toString(),d=Math.random().toString(36).substring(2,8).toUpperCase();return`ORD-${f.slice(-6)}-${d}`},c=()=>({matrimoni:150,fiori_piante:50,fiori_finti:80,funerali:120}[r.category]||50)*r.quantity,u=async f=>{var d;f.preventDefault(),t(!0);try{if(!r.customerName||!r.customerEmail||!r.category)throw new Error("Please fill in all required fields");const m=l(),p=c(),h=r.billingAddress,v=r.shippingAddress.sameAsBilling?r.billingAddress:r.shippingAddress,{data:b,error:g}=await B.from("orders").insert({order_number:m,customer_name:r.customerName,customer_email:r.customerEmail,customer_phone:r.customerPhone||null,total_amount:p,status:"pending",billing_address:h,shipping_address:v,notes:`Category: ${r.category}
Product: ${r.productDescription}
Quantity: ${r.quantity}
Special Requests: ${r.specialRequests}
Delivery Date: ${r.deliveryDate}`}).select().single();if(g)throw g;const{error:x}=await B.from("order_items").insert({order_id:b.id,product_id:"custom-order",product_name:`${(d=i.find(w=>w.value===r.category))==null?void 0:d.label} - ${r.productDescription}`,quantity:r.quantity,price:p/r.quantity});if(x)throw x;const{error:y}=await B.from("order_notifications").insert({order_id:b.id,notification_type:"new_order",is_read:!1});y&&console.error("Failed to create notification:",y),s({title:"Order Submitted Successfully! 🎉",description:`Your order #${m} has been received. We'll contact you soon to confirm details.`}),n({customerName:"",customerEmail:"",customerPhone:"",category:"",productDescription:"",quantity:1,specialRequests:"",deliveryDate:"",billingAddress:{street:"",city:"",postalCode:"",country:"Italy"},shippingAddress:{street:"",city:"",postalCode:"",country:"Italy",sameAsBilling:!0}})}catch(m){console.error("Order submission error:",m),s({title:"Order Submission Failed",description:m.message||"Please try again or contact us directly.",variant:"destructive"})}finally{t(!1)}};return a.jsxs(ue,{className:"w-full max-w-4xl mx-auto",children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(di,{className:"h-6 w-6"}),"Place Your Order"]})}),a.jsx(de,{children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerName",className:"flex items-center gap-2",children:[a.jsx(fb,{className:"h-4 w-4"}),"Full Name *"]}),a.jsx(pe,{id:"customerName",value:r.customerName,onChange:f=>o("customerName",f.target.value),placeholder:"Enter your full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerEmail",className:"flex items-center gap-2",children:[a.jsx(ob,{className:"h-4 w-4"}),"Email Address *"]}),a.jsx(pe,{id:"customerEmail",type:"email",value:r.customerEmail,onChange:f=>o("customerEmail",f.target.value),placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(re,{htmlFor:"customerPhone",className:"flex items-center gap-2",children:[a.jsx(Ku,{className:"h-4 w-4"}),"Phone Number"]}),a.jsx(pe,{id:"customerPhone",type:"tel",value:r.customerPhone,onChange:f=>o("customerPhone",f.target.value),placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"category",children:"Category *"}),a.jsxs(iv,{value:r.category,onValueChange:f=>o("category",f),children:[a.jsx(Qd,{children:a.jsx(av,{placeholder:"Select a category"})}),a.jsx(Yd,{children:i.map(f=>a.jsx(Gt,{value:f.value,children:f.label},f.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"quantity",children:"Quantity"}),a.jsx(pe,{id:"quantity",type:"number",min:"1",value:r.quantity,onChange:f=>o("quantity",parseInt(f.target.value)||1)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"productDescription",children:"Product Description *"}),a.jsx(mn,{id:"productDescription",value:r.productDescription,onChange:f=>o("productDescription",f.target.value),placeholder:"Describe what you're looking for...",rows:3,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"deliveryDate",children:"Preferred Delivery Date"}),a.jsx(pe,{id:"deliveryDate",type:"date",value:r.deliveryDate,onChange:f=>o("deliveryDate",f.target.value),min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{children:"Estimated Price"}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["€",c().toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Final price will be confirmed"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"specialRequests",children:"Special Requests"}),a.jsx(mn,{id:"specialRequests",value:r.specialRequests,onChange:f=>o("specialRequests",f.target.value),placeholder:"Any special requirements or notes...",rows:2})]}),a.jsx(U,{type:"submit",disabled:e,className:"w-full",size:"lg",children:e?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Order..."]}):a.jsxs(a.Fragment,{children:[a.jsx(di,{className:"mr-2 h-4 w-4"}),"Submit Order"]})})]})})]})},W$=()=>a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Il,{}),a.jsx("main",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4 font-playfair",children:"Place Your Order"}),a.jsx("p",{className:"text-xl text-gray-600 font-inter max-w-2xl mx-auto",children:"Tell us about your floral needs and we'll create something beautiful for you. Our expert florists will contact you to confirm details and provide a final quote."})]}),a.jsx(V$,{}),a.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"📞"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Consultation"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"We'll call you within 24 hours to discuss your requirements and provide expert advice."})]}),a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"💰"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Transparent Pricing"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"The estimated price shown is preliminary. Final pricing will be confirmed before we proceed."})]}),a.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-peach-100",children:[a.jsx("div",{className:"w-12 h-12 bg-peach-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"🚚"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Flexible Delivery"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"We offer delivery throughout the region. Delivery costs will be calculated based on your location."})]})]}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 font-playfair",children:"Need Help?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Our team is here to help you create the perfect floral arrangement."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("a",{href:"tel:+393498851455",className:"inline-flex items-center justify-center px-6 py-3 bg-peach-500 text-white rounded-lg hover:bg-peach-600 transition-colors",children:"📞 Call Us: +393498851455"}),a.jsx("a",{href:"mailto:info@francescofiori.com",className:"inline-flex items-center justify-center px-6 py-3 bg-white text-peach-600 border border-peach-300 rounded-lg hover:bg-peach-50 transition-colors",children:"✉️ Email: info@francescofiori.com"})]})]})]})}),a.jsx(Rl,{})]}),c0=({order:e,onUpdate:t,onDelete:r})=>{const[n,s]=N.useState(!1),[i,o]=N.useState(e.status),[l,c]=N.useState(e.tracking_number||""),[u,f]=N.useState(""),{toast:d}=De(),m=async()=>{if(i){s(!0);try{const{error:y}=await B.rpc("update_order_status",{order_uuid:e.id,new_status:i,status_notes:u||null,tracking_num:l||null});if(y)throw y;d({title:"Order Updated",description:`Order status changed to ${i}`}),t()}catch(y){console.error("Update error:",y),d({title:"Update Failed",description:"Failed to update order status",variant:"destructive"})}finally{s(!1)}}},p=async y=>{s(!0);try{const{error:w}=await B.rpc("update_order_status",{order_uuid:e.id,new_status:y,status_notes:y==="accepted"?"Order accepted and will be prepared":"Order rejected",tracking_num:null});if(w)throw w;d({title:y==="accepted"?"Order Accepted":"Order Rejected",description:`Order #${e.order_number} has been ${y}`}),t()}catch(w){console.error("Quick update error:",w),d({title:"Update Failed",description:`Failed to ${y} order`,variant:"destructive"})}finally{s(!1)}},h=async()=>{if(confirm(`Are you sure you want to delete order #${e.order_number}? This action cannot be undone.`)){s(!0);try{console.log("Starting manual order deletion for order:",e.id),await v(),d({title:"Order Deleted",description:`Order #${e.order_number} has been permanently deleted`}),r?r():t()}catch(y){console.error("Delete error:",y);let w="Failed to delete order";y.message.includes("does not exist")?w="Order no longer exists":y.message.includes("permission")?w="You do not have permission to delete this order":y.message.includes("violates foreign key constraint")?w="Cannot delete order - it has related records that need to be removed first":y.message&&(w=`Failed to delete order: ${y.message}`),d({title:"Delete Failed",description:w,variant:"destructive"})}finally{s(!1)}}},v=async()=>{console.log("Starting manual deletion process for order:",e.id);try{console.log("Deleting order notifications...");const{error:y}=await B.from("order_notifications").delete().eq("order_id",e.id);y?console.warn("Failed to delete notifications:",y):console.log("✓ Order notifications deleted"),console.log("Deleting order status history...");const{error:w}=await B.from("order_status_history").delete().eq("order_id",e.id);w?console.warn("Failed to delete status history:",w):console.log("✓ Order status history deleted"),console.log("Deleting order items...");const{error:S}=await B.from("order_items").delete().eq("order_id",e.id);if(S)throw console.error("Failed to delete order items:",S),new Error(`Failed to delete order items: ${S.message}`);console.log("✓ Order items deleted"),console.log("Deleting order...");const{error:j}=await B.from("orders").delete().eq("id",e.id);if(j)throw console.error("Failed to delete order:",j),new Error(`Failed to delete order: ${j.message}`);console.log("✓ Order deleted successfully")}catch(y){throw console.error("Manual deletion failed:",y),y}},b=y=>{switch(y){case"pending":return a.jsx(ya,{className:"w-4 h-4"});case"processing":return a.jsx(Mr,{className:"w-4 h-4"});case"shipped":return a.jsx(Zp,{className:"w-4 h-4"});case"delivered":return a.jsx(gt,{className:"w-4 h-4"});default:return a.jsx(ya,{className:"w-4 h-4"})}},g=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);return a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:["Order #",e.order_number,a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsxs(at,{variant:"outline",children:[b(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),a.jsx(U,{onClick:h,disabled:n,variant:"destructive",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Ma,{className:"h-4 w-4"})})]})]})}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Customer Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.customer_name]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",e.customer_email]}),e.customer_phone&&a.jsxs("div",{children:[a.jsx("strong",{children:"Phone:"})," ",e.customer_phone]})]})]}),a.jsx(ui,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Order Information"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Total Amount:"})," ",x(Number(e.total_amount))]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Created:"})," ",g(e.created_at)]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Last Updated:"})," ",g(e.updated_at)]}),e.tracking_number&&a.jsxs("div",{children:[a.jsx("strong",{children:"Tracking Number:"})," ",e.tracking_number]}),e.shipped_at&&a.jsxs("div",{children:[a.jsx("strong",{children:"Shipped:"})," ",g(e.shipped_at)]}),e.delivered_at&&a.jsxs("div",{children:[a.jsx("strong",{children:"Delivered:"})," ",g(e.delivered_at)]})]})]}),a.jsx(ui,{}),e.status==="pending"&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(U,{onClick:()=>p("accepted"),disabled:n,className:"flex-1 bg-green-600 hover:bg-green-700",children:[n?a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(gt,{className:"mr-2 h-4 w-4"}),"Accept Order"]}),a.jsxs(U,{onClick:()=>p("rejected"),disabled:n,variant:"destructive",className:"flex-1",children:[n?a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(dn,{className:"mr-2 h-4 w-4"}),"Reject Order"]})]})]}),a.jsx(ui,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Update Order Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),a.jsxs(iv,{value:i,onValueChange:o,children:[a.jsx(Qd,{children:a.jsx(av,{placeholder:"Select status"})}),a.jsxs(Yd,{children:[a.jsx(Gt,{value:"pending",children:"Pending"}),a.jsx(Gt,{value:"accepted",children:"Accepted"}),a.jsx(Gt,{value:"rejected",children:"Rejected"}),a.jsx(Gt,{value:"preparing",children:"Preparing"}),a.jsx(Gt,{value:"ready",children:"Ready for Pickup/Delivery"}),a.jsx(Gt,{value:"out_for_delivery",children:"Out for Delivery"}),a.jsx(Gt,{value:"delivered",children:"Delivered"}),a.jsx(Gt,{value:"completed",children:"Completed"}),a.jsx(Gt,{value:"cancelled",children:"Cancelled"})]})]})]}),(i==="out_for_delivery"||i==="delivered")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tracking Number"}),a.jsx(pe,{value:l,onChange:y=>c(y.target.value),placeholder:"Enter tracking number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),a.jsx(mn,{value:u,onChange:y=>f(y.target.value),placeholder:"Add any notes about this status update...",rows:3})]}),a.jsx(U,{onClick:m,disabled:n||i===e.status,className:"w-full",children:n?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Order Status"})]})]})]})]})},G$=({notifications:e,count:t,onRefresh:r})=>{const[n,s]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(!0),[u,f]=N.useState({}),[d,m]=N.useState(null),p=N.useRef(null),{toast:h}=De();N.useEffect(()=>{t===0&&i&&b()},[t,l]),N.useEffect(()=>{e.length>0&&v()},[e]);const v=async()=>{try{const C=e.map(_=>_.order_id).filter(Boolean);if(C.length===0)return;const{data:E,error:T}=await B.from("orders").select("id, order_number, customer_name, status").in("id",C);if(T)throw T;const A={};E==null||E.forEach(_=>{A[_.id]=_}),f(A)}catch(C){console.error("Error fetching order details:",C)}},b=()=>{o(!1),p.current&&(clearInterval(p.current),p.current=null)},g=()=>{c(!l),l||b()};N.useEffect(()=>()=>{p.current&&clearInterval(p.current)},[]);const x=async C=>{try{const{error:E}=await B.from("order_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",C);if(E)throw E;r()}catch(E){console.error("Error marking notification as read:",E),h({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}},y=async()=>{try{const{error:C}=await B.from("order_notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("is_read",!1);if(C)throw C;b(),nt.stopRinging(),r(),s(!1),h({title:"Success",description:"All notifications marked as read"})}catch(C){console.error("Error marking all notifications as read:",C),h({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},w=async C=>{try{const{error:E}=await B.from("order_notifications").delete().eq("id",C);if(E)throw E;r()}catch(E){console.error("Error deleting notification:",E),h({title:"Error",description:"Failed to delete notification",variant:"destructive"})}},S=async(C,E)=>{var T;if(!C){console.error("No order ID provided");return}console.log(`Attempting to ${E} order:`,C),m(C);try{const{error:A}=await B.rpc("update_order_status",{order_uuid:C,new_status:E,status_notes:E==="accepted"?"Order accepted from notifications":"Order rejected from notifications",tracking_num:null});if(A)throw console.error("Supabase RPC error:",A),A;console.log(`Order ${C} successfully ${E}`),f(P=>({...P,[C]:{...P[C],status:E}})),h({title:E==="accepted"?"Order Accepted! ✅":"Order Rejected ❌",description:`Order #${(T=u[C])==null?void 0:T.order_number} has been ${E}`});const _=e.find(P=>P.order_id===C);_&&!_.is_read&&await x(_.id),b(),nt.stopRinging(),r()}catch(A){console.error(`Error ${E} order:`,A),h({title:"Error",description:`Failed to ${E} order`,variant:"destructive"})}finally{m(null)}},j=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:g,className:`${l?"text-green-600":"text-gray-400"}`,title:l?"Sound enabled":"Sound disabled",children:l?a.jsx(ba,{className:"w-4 h-4"}):a.jsx(pb,{className:"w-4 h-4"})}),a.jsxs(iN,{open:n,onOpenChange:s,children:[a.jsx(aN,{asChild:!0,children:a.jsxs(U,{variant:"outline",size:"sm",className:`relative ${i?"animate-pulse bg-red-50 border-red-300":""}`,children:[a.jsx(Kp,{className:`w-4 h-4 ${i?"text-red-600":""}`}),t>0&&a.jsx(at,{variant:"destructive",className:`absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs ${i?"animate-bounce":""}`,children:t>99?"99+":t})]})}),a.jsx(pg,{className:"w-80",align:"end",children:a.jsxs(ue,{className:"border-0 shadow-none",children:[a.jsx(Ne,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"text-lg",children:"Notifications"}),a.jsxs("div",{className:"flex items-center gap-2",children:[t>0&&a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:b,className:"text-xs text-orange-600",children:"Stop Ringing"}),a.jsx(U,{variant:"ghost",size:"sm",onClick:y,className:"text-xs",children:"Mark all read"})]}),!1]})]})}),a.jsx(de,{className:"space-y-2 max-h-64 overflow-y-auto",children:e.length>0?e.map(C=>{const E=u[C.order_id],T=d===C.order_id;return a.jsx("div",{className:`p-3 rounded border ${C.is_read?"bg-gray-50":"bg-blue-50 border-blue-200"}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium",children:C.notification_type==="new_order"&&"New Order Received"}),E&&a.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Order #",E.order_number," - ",E.customer_name]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j(C.created_at)}),E&&a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${E.status==="pending"?"bg-yellow-100 text-yellow-800":E.status==="payment_pending"?"bg-orange-100 text-orange-800":E.status==="accepted"?"bg-green-100 text-green-800":E.status==="rejected"?"bg-red-100 text-red-800":E.status==="paid"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.status.charAt(0).toUpperCase()+E.status.slice(1).replace("_"," ")})})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[!C.is_read&&a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>x(C.id),className:"h-6 w-6 p-0",title:"Mark as read",children:a.jsx(nb,{className:"w-3 h-3"})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(C.id),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",title:"Delete notification",children:a.jsx(dn,{className:"w-3 h-3"})})]})]}),(!E||E.status==="pending"||E.status==="payment_pending"||E.status==="paid")&&a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:[a.jsx(U,{size:"sm",onClick:()=>S(C.order_id,"accepted"),disabled:T,className:"flex-1 bg-green-600 hover:bg-green-700 text-white h-8",children:T?a.jsx(we,{className:"w-3 h-3 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"w-3 h-3 mr-1"}),"Accept"]})}),a.jsx(U,{size:"sm",variant:"destructive",onClick:()=>S(C.order_id,"rejected"),disabled:T,className:"flex-1 h-8",children:T?a.jsx(we,{className:"w-3 h-3 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(dn,{className:"w-3 h-3 mr-1"}),"Reject"]})})]}),!1]})},C.id)}):a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No notifications"})})]})})]})]})};class K${constructor(){ze(this,"settings");ze(this,"isRunning",!1);ze(this,"serviceWorker",null);ze(this,"realtimeChannel",null);ze(this,"heartbeatInterval",null);ze(this,"syncInterval",null);ze(this,"wakeLock",null);ze(this,"lastOrderCheck",new Date);ze(this,"retryCount",0);this.settings={enabled:!0,soundEnabled:!0,vibrationEnabled:!0,persistentNotifications:!0,backgroundSync:!0,wakeScreen:!0,maxRetries:5,retryInterval:3e4},this.loadSettings(),this.initializeService()}loadSettings(){try{const t=localStorage.getItem("backgroundOrderSettings");t&&(this.settings={...this.settings,...JSON.parse(t)})}catch(t){console.error("Failed to load background order settings:",t)}}saveSettings(){try{localStorage.setItem("backgroundOrderSettings",JSON.stringify(this.settings))}catch(t){console.error("Failed to save background order settings:",t)}}updateSettings(t){this.settings={...this.settings,...t},this.saveSettings(),this.isRunning&&this.restart()}getSettings(){return{...this.settings}}async initializeService(){try{console.log("🚀 Initializing Background Order Service..."),await this.registerServiceWorker(),await this.requestPermissions(),await this.setupWakeLock(),await this.start(),console.log("✅ Background Order Service initialized successfully")}catch(t){console.error("❌ Failed to initialize Background Order Service:",t)}}async registerServiceWorker(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");console.log("📦 Service Worker registered:",t),await navigator.serviceWorker.ready,this.serviceWorker=t.active,navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage.bind(this)),t.addEventListener("updatefound",()=>{console.log("🔄 Service Worker update found")})}catch(t){console.error("❌ Service Worker registration failed:",t)}}async requestPermissions(){if("Notification"in window){const t=await Notification.requestPermission();console.log("🔔 Notification permission:",t)}if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype&&console.log("🔄 Background sync supported"),"permissions"in navigator)try{const t=await navigator.permissions.query({name:"persistent-notification"});console.log("📱 Persistent notification permission:",t.state)}catch{console.log("📱 Persistent notification not supported")}}async setupWakeLock(){if(this.settings.wakeScreen&&"wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen"),console.log("📱 Screen wake lock acquired"),this.wakeLock.addEventListener("release",()=>{console.log("📱 Screen wake lock released")})}catch(t){console.error("❌ Failed to acquire wake lock:",t)}}handleServiceWorkerMessage(t){console.log("💬 Message from Service Worker:",t.data),t.data.type==="NEW_ORDER_NOTIFICATION"&&this.handleNewOrderFromServiceWorker(t.data)}handleNewOrderFromServiceWorker(t){const{orderNumber:r,customerName:n,amount:s,orderId:i}=t;this.triggerComprehensiveNotification(r,n,s,i)}async start(){if(this.isRunning){console.log("⚠️ Background Order Service already running");return}if(!this.settings.enabled){console.log("⚠️ Background Order Service disabled");return}console.log("🚀 Starting Background Order Service..."),this.isRunning=!0,await this.setupRealtimeMonitoring(),this.startHeartbeat(),this.settings.backgroundSync&&this.startPeriodicSync(),console.log("✅ Background Order Service started")}async stop(){this.isRunning&&(console.log("🛑 Stopping Background Order Service..."),this.isRunning=!1,this.realtimeChannel&&(await B.removeChannel(this.realtimeChannel),this.realtimeChannel=null),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),this.wakeLock&&(this.wakeLock.release(),this.wakeLock=null),console.log("✅ Background Order Service stopped"))}async restart(){await this.stop(),await this.start()}async setupRealtimeMonitoring(){try{this.realtimeChannel=B.channel("background-order-monitoring").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},t=>{console.log("🔔 New order detected in background service:",t),this.handleNewOrder(t.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},t=>{console.log("🔄 Order updated in background service:",t),this.handleOrderUpdate(t.new)}).subscribe(t=>{console.log("📡 Realtime subscription status:",t)})}catch(t){console.error("❌ Failed to setup realtime monitoring:",t),this.scheduleRetry()}}handleNewOrder(t){const{order_number:r,customer_name:n,total_amount:s,id:i}=t;console.log("🔔 Processing new order in background:",r),this.triggerComprehensiveNotification(r,n,`$${s}`,i),this.lastOrderCheck=new Date,this.retryCount=0}handleOrderUpdate(t){console.log("🔄 Order updated:",t.order_number,"Status:",t.status),t.status==="accepted"||t.status}triggerComprehensiveNotification(t,r,n,s){if(console.log("🚨 Triggering comprehensive notification for order:",t),this.settings.soundEnabled&&nt.notifyNewOrder(t,r),this.settings.persistentNotifications&&"Notification"in window&&Notification.permission==="granted"){const i=new Notification(`🔔 New Order #${t}`,{body:`Order from ${r} - ${n}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:"new-order",requireInteraction:!0,silent:!this.settings.soundEnabled,actions:[{action:"view",title:"View Order"},{action:"accept",title:"Accept"}],data:{orderId:s,orderNumber:t,url:"/orders"}});i.onclick=()=>{window.focus(),window.location.href="/orders",i.close()}}if(this.serviceWorker&&this.serviceWorker.postMessage({type:"NEW_ORDER",orderNumber:t,customerName:r,amount:n,orderId:s}),this.settings.vibrationEnabled&&"vibrate"in navigator&&navigator.vibrate([200,100,200,100,200,100,200]),this.wakeLock&&this.settings.wakeScreen&&console.log("📱 Screen should stay awake for notification"),window&&document.hidden)try{window.focus()}catch(i){console.log("Could not focus window:",i)}}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.isRunning&&(console.log("💓 Background Order Service heartbeat"),this.realtimeChannel&&this.realtimeChannel.state!=="joined"&&(console.log("🔄 Realtime connection lost, reconnecting..."),this.setupRealtimeMonitoring()))},6e4)}startPeriodicSync(){this.syncInterval=setInterval(async()=>{this.isRunning&&await this.syncOrders()},3e4)}async syncOrders(){try{console.log("🔄 Syncing orders in background...");const{data:t,error:r}=await B.from("orders").select("*").gte("created_at",this.lastOrderCheck.toISOString()).order("created_at",{ascending:!1});if(r)throw r;t&&t.length>0&&(console.log(`📦 Found ${t.length} new orders during sync`),t.forEach(n=>{new Date(n.created_at)>this.lastOrderCheck&&this.handleNewOrder(n)})),this.lastOrderCheck=new Date,this.retryCount=0}catch(t){console.error("❌ Order sync failed:",t),this.scheduleRetry()}}scheduleRetry(){this.retryCount<this.settings.maxRetries?(this.retryCount++,console.log(`🔄 Scheduling retry ${this.retryCount}/${this.settings.maxRetries} in ${this.settings.retryInterval}ms`),setTimeout(()=>{this.isRunning&&this.setupRealtimeMonitoring()},this.settings.retryInterval)):(console.error("❌ Max retries reached, stopping background service"),this.stop())}getStatus(){var t;return{isRunning:this.isRunning,hasServiceWorker:!!this.serviceWorker,hasWakeLock:!!this.wakeLock,hasRealtimeConnection:((t=this.realtimeChannel)==null?void 0:t.state)==="joined",lastOrderCheck:this.lastOrderCheck,retryCount:this.retryCount,settings:this.settings}}}const fs=new K$,Q$=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!1),[s,i]=N.useState({backgroundService:!1,phoneService:!1,realtimeConnection:!1,serviceWorker:!1,notifications:!1,wakeLock:!1,isOnline:navigator.onLine}),[o,l]=N.useState({customerName:"Test Customer",customerEmail:"test@example.com",customerPhone:"+1234567890",totalAmount:99.99,category:"Bouquets",productDescription:"Test Flower Arrangement",quantity:1,specialRequests:"This is a test order for system validation"}),[c,u]=N.useState(!1),[f,d]=N.useState(!1),{toast:m}=De();N.useEffect(()=>{p();const M=setInterval(p,5e3);return()=>clearInterval(M)},[]);const p=()=>{const M=fs.getStatus(),I=nt.getSettings();i({backgroundService:M.isRunning,phoneService:I.enabled,realtimeConnection:M.hasRealtimeConnection,serviceWorker:M.hasServiceWorker,notifications:Notification.permission==="granted",wakeLock:M.hasWakeLock,isOnline:navigator.onLine})},h=(M,I,F,z)=>{t(K=>[...K,{name:M,status:I,message:F,timestamp:new Date,duration:z}])},v=(M,I,F,z)=>{t(K=>K.map(V=>V.name===M?{...V,status:I,message:F,duration:z,timestamp:new Date}:V))},b=async()=>{n(!0),t([]);const M=[{name:"System Initialization",test:g},{name:"Database Connection",test:x},{name:"Real-time Subscription",test:y},{name:"Notification Permissions",test:w},{name:"Service Worker Registration",test:S},{name:"Phone Notification Service",test:j},{name:"Background Order Service",test:C},{name:"Order Creation",test:E},{name:"Order Notification Flow",test:T},{name:"Screen Off Notifications",test:A},{name:"Background Processing",test:_},{name:"Offline Handling",test:P},{name:"Recovery After Connection Loss",test:O}];for(const{name:I,test:F}of M){h(I,"running","Test in progress...");try{const z=Date.now();await F();const K=Date.now()-z;v(I,"passed","Test completed successfully",K)}catch(z){const K=Date.now()-Date.now();v(I,"failed",`Test failed: ${z}`,K)}await new Promise(z=>setTimeout(z,1e3))}n(!1),m({title:"🧪 Test Suite Completed",description:"All order system tests have been executed"})},g=async()=>{if(!s.backgroundService)throw new Error("Background service not initialized");if(!s.phoneService)throw new Error("Phone service not initialized")},x=async()=>{const{data:M,error:I}=await B.from("orders").select("count").limit(1);if(I)throw new Error(`Database connection failed: ${I.message}`)},y=async()=>{if(!s.realtimeConnection)throw new Error("Real-time subscription not active")},w=async()=>{if(Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted")throw new Error("Notification permission not granted")},S=async()=>{if(!("serviceWorker"in navigator))throw new Error("Service Worker not supported");if(!await navigator.serviceWorker.getRegistration())throw new Error("Service Worker not registered")},j=async()=>{nt.testNotificationSound(),await new Promise(M=>setTimeout(M,2e3))},C=async()=>{if(!fs.getStatus().isRunning)throw new Error("Background order service not running")},E=async()=>{const M=`TEST-${Date.now()}`,{data:I,error:F}=await B.from("orders").insert({order_number:M,customer_name:o.customerName,customer_email:o.customerEmail,customer_phone:o.customerPhone,total_amount:o.totalAmount,status:"pending",notes:`Test order created at ${new Date().toISOString()}`}).select().single();if(F)throw new Error(`Order creation failed: ${F.message}`);setTimeout(async()=>{await B.from("orders").delete().eq("id",I.id)},1e4)},T=async()=>new Promise((M,I)=>{const F=`NOTIFY-TEST-${Date.now()}`;let z=!1;const K=V=>{V instanceof CustomEvent&&V.detail.orderNumber===F&&(z=!0,document.removeEventListener("orderNotification",K),M(!0))};document.addEventListener("orderNotification",K),B.from("orders").insert({order_number:F,customer_name:"Notification Test",customer_email:"notify@test.com",total_amount:50,status:"pending",notes:"Notification flow test order"}).then(({data:V,error:ee})=>{if(ee){I(new Error(`Notification test order creation failed: ${ee.message}`));return}setTimeout(async()=>{V&&Array.isArray(V)&&V.length>0&&await B.from("orders").delete().eq("id",V[0].id),z||I(new Error("Notification not received within timeout"))},15e3)})}),A=async()=>{if(!c)throw new Error("Screen off test not enabled - please enable and test manually");m({title:"📱 Screen Off Test",description:"Turn off your screen now. A test notification will be sent in 5 seconds.",duration:5e3}),await new Promise(M=>setTimeout(M,5e3)),nt.notifyNewOrder("SCREEN-OFF-TEST","Screen Off Test Customer"),await new Promise(M=>setTimeout(M,1e4))},_=async()=>{if(!f)throw new Error("Background test not enabled - please enable and test manually");m({title:"🔄 Background Test",description:"Minimize this app now. A test order will be created in 10 seconds.",duration:1e4}),await new Promise(I=>setTimeout(I,1e4));const M=`BG-TEST-${Date.now()}`;await B.from("orders").insert({order_number:M,customer_name:"Background Test",customer_email:"bg@test.com",total_amount:75,status:"pending",notes:"Background processing test order"})},P=async()=>{if(!navigator.onLine)throw new Error("Already offline - cannot test offline handling");m({title:"📡 Offline Test",description:"Disconnect your internet now to test offline handling",duration:5e3}),await new Promise(M=>setTimeout(M,5e3))},O=async()=>{if(await fs.restart(),await new Promise(I=>setTimeout(I,3e3)),!fs.getStatus().isRunning)throw new Error("Service did not recover after restart")},R=async()=>{const M=`MANUAL-TEST-${Date.now()}`;try{const{data:I,error:F}=await B.from("orders").insert({order_number:M,customer_name:o.customerName,customer_email:o.customerEmail,customer_phone:o.customerPhone,total_amount:o.totalAmount,status:"pending",notes:`Manual test order: ${o.specialRequests}`}).select().single();if(F)throw F;m({title:"✅ Test Order Created",description:`Order #${M} created successfully`}),setTimeout(async()=>{await B.from("orders").delete().eq("id",I.id),m({title:"🗑️ Test Order Cleaned Up",description:`Order #${M} automatically deleted`})},3e4)}catch(I){m({title:"❌ Test Order Failed",description:`Failed to create test order: ${I}`,variant:"destructive"})}},$=M=>{switch(M){case"passed":return a.jsx(gt,{className:"w-4 h-4 text-green-600"});case"failed":return a.jsx(La,{className:"w-4 h-4 text-red-600"});case"running":return a.jsx(ya,{className:"w-4 h-4 text-blue-600 animate-spin"});default:return a.jsx(ya,{className:"w-4 h-4 text-gray-400"})}},L=(M,I)=>a.jsxs(at,{variant:M?"default":"secondary",className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${M?"bg-green-500":"bg-gray-400"}`}),I]});return a.jsx("div",{className:"space-y-6",children:a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(Mo,{className:"w-5 h-5"}),"Order System Tester"]})}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"System Status"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[L(s.backgroundService,"Background Service"),L(s.phoneService,"Phone Service"),L(s.realtimeConnection,"Real-time"),L(s.serviceWorker,"Service Worker"),L(s.notifications,"Notifications"),L(s.wakeLock,"Wake Lock"),L(s.isOnline,"Online")]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"customerName",children:"Customer Name"}),a.jsx(pe,{id:"customerName",value:o.customerName,onChange:M=>l(I=>({...I,customerName:M.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(re,{htmlFor:"totalAmount",children:"Total Amount"}),a.jsx(pe,{id:"totalAmount",type:"number",value:o.totalAmount,onChange:M=>l(I=>({...I,totalAmount:parseFloat(M.target.value)}))})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(re,{htmlFor:"specialRequests",children:"Special Requests"}),a.jsx(mn,{id:"specialRequests",value:o.specialRequests,onChange:M=>l(I=>({...I,specialRequests:M.target.value}))})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{id:"screenOffTest",checked:c,onCheckedChange:u}),a.jsx(re,{htmlFor:"screenOffTest",children:"Enable Screen Off Test"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_s,{id:"backgroundTest",checked:f,onCheckedChange:d}),a.jsx(re,{htmlFor:"backgroundTest",children:"Enable Background Test"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{onClick:b,disabled:r,className:"flex items-center gap-2",children:[r?a.jsx(ub,{className:"w-4 h-4"}):a.jsx(Yp,{className:"w-4 h-4"}),r?"Running Tests...":"Run All Tests"]}),a.jsxs(U,{onClick:R,variant:"outline",className:"flex items-center gap-2",children:[a.jsx(Kp,{className:"w-4 h-4"}),"Create Test Order"]}),a.jsxs(U,{onClick:()=>nt.testNotificationSound(),variant:"outline",className:"flex items-center gap-2",children:[a.jsx(ba,{className:"w-4 h-4"}),"Test Sound"]})]}),e.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Results"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map((M,I)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[$(M.status),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:M.name}),a.jsx("div",{className:"text-sm text-gray-600",children:M.message})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:M.duration&&`${M.duration}ms`})]},I))})]})]})]})})},Y$=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(0),[s,i]=N.useState(!1),[o,l]=N.useState(!0),[c,u]=N.useState(navigator.onLine),[f,d]=N.useState(new Date),[m,p]=N.useState({totalOrders:0,pendingOrders:0,acceptedOrders:0,completedOrders:0,totalRevenue:0,todayOrders:0}),{toast:h}=De(),{data:v,isLoading:b,refetch:g,error:x}=sl({queryKey:["orders-dashboard"],queryFn:async()=>{const{data:E,error:T}=await B.from("orders").select("*").order("created_at",{ascending:!1});if(T)throw T;return E},refetchInterval:3e4,refetchIntervalInBackground:!0}),{data:y,refetch:w}=sl({queryKey:["order-notifications-dashboard"],queryFn:async()=>{const{data:E,error:T}=await B.from("order_notifications").select("*").eq("is_read",!1).order("created_at",{ascending:!1});if(T)throw T;return E},refetchInterval:1e4,refetchIntervalInBackground:!0});N.useEffect(()=>{if(v){const E=new Date().toDateString(),T=v.filter(A=>new Date(A.created_at).toDateString()===E);p({totalOrders:v.length,pendingOrders:v.filter(A=>A.status==="pending").length,acceptedOrders:v.filter(A=>A.status==="accepted").length,completedOrders:v.filter(A=>A.status==="completed").length,totalRevenue:v.reduce((A,_)=>A+Number(_.total_amount),0),todayOrders:T.length}),d(new Date)}},[v]),N.useEffect(()=>{const E=B.channel("order-dashboard-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},T=>{console.log("🔔 New order received in dashboard:",T),window.location.pathname==="/orders"&&nt.notifyNewOrder(T.new.order_number,T.new.customer_name),h({title:"🔔 NEW ORDER RECEIVED!",description:`Order #${T.new.order_number} from ${T.new.customer_name}`,duration:15e3}),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Received!",{body:`Order #${T.new.order_number} from ${T.new.customer_name}`,icon:"/favicon.ico",tag:"new-order",requireInteraction:!0}),g(),w()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders"},()=>{g()}).subscribe();return()=>{B.removeChannel(E)}},[g,w,h]),N.useEffect(()=>{const E=()=>{u(!0),h({title:"🌐 Back Online",description:"Connection restored. Syncing data..."}),g(),w()},T=()=>{u(!1),h({title:"📡 Connection Lost",description:"Working offline. Will sync when connection is restored.",variant:"destructive"})};return window.addEventListener("online",E),window.addEventListener("offline",T),()=>{window.removeEventListener("online",E),window.removeEventListener("offline",T)}},[g,w,h]),N.useEffect(()=>{y&&n(y.length)},[y]),N.useEffect(()=>{const E=setInterval(()=>{i(nt.isCurrentlyRinging())},500);return()=>clearInterval(E)},[]),N.useEffect(()=>("Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(E=>{E==="granted"&&h({title:"🔔 Notifications Enabled",description:"You will receive browser notifications for new orders"})}),fs.updateSettings({...fs.getSettings(),soundEnabled:!1}),fs.start().then(()=>{h({title:"🚀 Background Service Started",description:"Background monitoring active (notifications handled by dashboard)"})}).catch(E=>{console.error("Failed to start background service:",E),h({title:"⚠️ Background Service Warning",description:"Some notification features may not work properly",variant:"destructive"})}),()=>{fs.stop()}),[h]);const S=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),j=E=>{const T={pending:{color:"bg-yellow-100 text-yellow-800",icon:ya},accepted:{color:"bg-blue-100 text-blue-800",icon:Mr},processing:{color:"bg-purple-100 text-purple-800",icon:Mr},shipped:{color:"bg-orange-100 text-orange-800",icon:Zp},delivered:{color:"bg-green-100 text-green-800",icon:gt},completed:{color:"bg-green-100 text-green-800",icon:gt},cancelled:{color:"bg-red-100 text-red-800",icon:lm},rejected:{color:"bg-red-100 text-red-800",icon:lm}},A=T[E]||T.pending,_=A.icon;return a.jsxs(at,{className:`${A.color} flex items-center gap-1 text-xs`,children:[a.jsx(_,{className:"w-3 h-3"}),E.charAt(0).toUpperCase()+E.slice(1)]})},C=()=>{l(!o),nt.updateSettings({...nt.getSettings(),enabled:!o}),h({title:o?"🔇 Sound Disabled":"🔊 Sound Enabled",description:o?"Order notifications will be silent":"Order notifications will play sound"})};return b?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading Order Dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"🌸 Order Dashboard"}),a.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:"Real-time order management and notifications"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(at,{variant:c?"default":"destructive",className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":"bg-red-500"}`}),c?"Online":"Offline"]}),a.jsxs(U,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-2",children:[o?a.jsx(ba,{className:"w-4 h-4"}):a.jsx(pb,{className:"w-4 h-4"}),o?"Sound On":"Sound Off"]}),s&&a.jsxs(U,{onClick:()=>nt.stopRinging(),variant:"destructive",size:"sm",className:"animate-pulse flex items-center gap-2",children:[a.jsx(Ku,{className:"w-4 h-4"}),"Stop Ringing"]}),a.jsx(G$,{notifications:y||[],count:r,onRefresh:()=>{g(),w()}}),a.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{g(),w()},className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4"}),"Refresh"]})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last updated: ",f.toLocaleTimeString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Orders"}),a.jsx("p",{className:"text-lg font-bold",children:m.totalOrders})]}),a.jsx(Mr,{className:"w-6 h-6 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-lg font-bold text-yellow-600",children:m.pendingOrders})]}),a.jsx(ya,{className:"w-6 h-6 text-yellow-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Accepted"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:m.acceptedOrders})]}),a.jsx(gt,{className:"w-6 h-6 text-blue-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:m.completedOrders})]}),a.jsx(gt,{className:"w-6 h-6 text-green-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Today"}),a.jsx("p",{className:"text-lg font-bold text-purple-600",children:m.todayOrders})]}),a.jsx(dE,{className:"w-6 h-6 text-purple-600"})]})})}),a.jsx(ue,{children:a.jsx(de,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Revenue"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:S(m.totalRevenue)})]}),a.jsx(iE,{className:"w-6 h-6 text-green-600"})]})})})]}),a.jsxs(Al,{defaultValue:"dashboard",className:"space-y-6",children:[a.jsxs(Si,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"dashboard",children:"Dashboard"}),a.jsx(Ee,{value:"orders",children:"Orders"}),a.jsx(Ee,{value:"testing",children:"System Testing"})]}),a.jsx(Ke,{value:"dashboard",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Recent Orders"}),a.jsxs(at,{variant:"secondary",children:[(v==null?void 0:v.length)||0," total"]})]})}),a.jsx(de,{children:v&&v.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:v.map(E=>a.jsx(ue,{className:`cursor-pointer transition-all hover:shadow-md ${(e==null?void 0:e.id)===E.id?"ring-2 ring-blue-500":""}`,onClick:()=>t(E),children:a.jsxs(de,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["#",E.order_number]}),j(E.status)]}),a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:E.customer_name}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:new Date(E.created_at).toLocaleDateString()}),a.jsx("span",{className:"font-medium",children:S(Number(E.total_amount))})]})]})},E.id))}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No orders found"})]})})]}),a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Order Details"})}),a.jsx(de,{children:e?a.jsx(c0,{order:e,onUpdate:()=>{g(),t(null)},onDelete:()=>{g(),t(null)}}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(gt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Select an order to view details"})]})})]})]})}),a.jsx(Ke,{value:"orders",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsxs(je,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"All Orders"}),a.jsxs(at,{variant:"secondary",children:[(v==null?void 0:v.length)||0," total"]})]})}),a.jsx(de,{children:v&&v.length>0?a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:v.map(E=>a.jsx(ue,{className:`cursor-pointer transition-all hover:shadow-md ${(e==null?void 0:e.id)===E.id?"ring-2 ring-blue-500":""}`,onClick:()=>t(E),children:a.jsxs(de,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"font-medium",children:["#",E.order_number]}),j(E.status)]}),a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:E.customer_name}),a.jsx("div",{className:"text-xs text-gray-500 mb-2",children:E.customer_email}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{children:new Date(E.created_at).toLocaleDateString()}),a.jsx("span",{className:"font-medium",children:S(Number(E.total_amount))})]}),E.notes&&a.jsx("div",{className:"text-xs text-gray-400 mt-2 truncate",children:E.notes})]})},E.id))}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No orders found"})]})})]}),a.jsxs(ue,{children:[a.jsx(Ne,{children:a.jsx(je,{children:"Order Details"})}),a.jsx(de,{children:e?a.jsx(c0,{order:e,onUpdate:()=>{g(),t(null)},onDelete:()=>{g(),t(null)}}):a.jsxs("div",{className:"text-center text-gray-500 py-8",children:[a.jsx(gt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Select an order to view details"})]})})]})]})}),a.jsx(Ke,{value:"testing",className:"space-y-6",children:a.jsx(Q$,{})})]})]})},Z$=()=>{const{t:e}=_S();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Il,{}),a.jsxs("main",{className:"pt-20",children:[a.jsx("section",{className:"py-16 bg-gradient-to-r from-emerald-500/10 to-peach-500/10",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-playfair font-bold mb-4 text-gray-800",children:e("ourMenu")}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:e("menuDescription")}),a.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-emerald-400 to-emerald-600 mx-auto rounded-full"})]})}),a.jsx(NN,{})]}),a.jsx(Rl,{})]})},X$=()=>a.jsx(Z$,{}),J$=()=>{const e=E2();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},e6=()=>{const[e]=I0(),t=D0(),{toast:r}=De(),[n,s]=N.useState(!0),[i,o]=N.useState(!1),[l,c]=N.useState(""),u=e.get("session_id"),f=e.get("order_id"),d=e.get("mock")==="true";return N.useEffect(()=>{(async()=>{if(!u||!f){r({title:"Invalid Payment Link",description:"Missing payment session information.",variant:"destructive"}),t("/");return}try{if(s(!0),d){const{supabase:p}=await vr(async()=>{const{supabase:v}=await Promise.resolve().then(()=>bi);return{supabase:v}},void 0);await p.from("orders").update({status:"paid",stripe_session_id:u,stripe_payment_intent_id:`pi_mock_${Date.now()}`,payment_status:"paid",paid_amount:25,paid_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",f);const{data:h}=await p.from("orders").select("order_number").eq("id",f).single();h&&c(h.order_number),r({title:"Mock Payment Successful! 🎉",description:"Test payment completed successfully. This was a mock transaction."})}else{const p=await Iu.verifyPayment(u);if(p.status==="paid"){await Iu.updateOrderAfterPayment(f,{stripeSessionId:u,paymentIntentId:p.paymentIntentId||"",status:p.status,amountPaid:(p.amountTotal||0)/100});const{supabase:h}=await vr(async()=>{const{supabase:b}=await Promise.resolve().then(()=>bi);return{supabase:b}},void 0),{data:v}=await h.from("orders").select("order_number").eq("id",f).single();v&&c(v.order_number),r({title:"Payment Successful! 🎉",description:"Your order has been confirmed and payment processed."})}else throw new Error("Payment not completed")}}catch(p){console.error("Payment verification error:",p),r({title:"Payment Verification Failed",description:"There was an issue verifying your payment. Please contact support.",variant:"destructive"})}finally{s(!1),o(!0)}})()},[u,f,r,t]),a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Il,{}),a.jsx("main",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(ue,{className:"text-center",children:[a.jsxs(Ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:n?a.jsx(we,{className:"h-16 w-16 text-emerald-600 animate-spin"}):a.jsx(gt,{className:"h-16 w-16 text-emerald-600"})}),a.jsx(je,{className:"text-2xl font-playfair",children:n?"Verifying Payment...":"Payment Successful!"})]}),a.jsx(de,{className:"space-y-6",children:n?a.jsx("div",{children:a.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your payment and update your order."})}):i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-emerald-800 mb-2",children:"Thank you for your purchase!"}),a.jsxs("p",{className:"text-emerald-700",children:["Your payment has been processed successfully.",l&&a.jsxs("span",{className:"block mt-1",children:["Order Number: ",a.jsxs("strong",{children:["#",l]})]})]})]}),a.jsxs("div",{className:"text-left space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"What happens next?"}),a.jsxs("ul",{className:"text-gray-600 space-y-1",children:[a.jsx("li",{children:"• You'll receive an email confirmation shortly"}),a.jsx("li",{children:"• Our team will contact you to confirm delivery details"}),a.jsx("li",{children:"• We'll prepare your beautiful floral arrangement"}),a.jsx("li",{children:"• Your order will be delivered on the specified date"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs(U,{onClick:()=>t("/products"),className:"flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:[a.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]}),a.jsxs(U,{onClick:()=>t("/"),variant:"outline",className:"flex-1",children:[a.jsx(ab,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]}):a.jsxs("div",{className:"text-gray-600",children:[a.jsx("p",{children:"There was an issue processing your payment verification."}),a.jsx("p",{children:"Please contact our support team for assistance."})]})})]})})})}),a.jsx(Rl,{})]})},t6=()=>{const[e]=I0(),t=D0(),{toast:r}=De(),n=e.get("order_id");N.useEffect(()=>{(async()=>{if(n)try{await Iu.handleFailedPayment(n,"Payment cancelled by user")}catch(o){console.error("Error handling cancelled payment:",o)}r({title:"Payment Cancelled",description:"Your payment was cancelled. Your order is still saved and you can complete payment later.",variant:"destructive"})})()},[n,r]);const s=()=>{t(n?`/order?retry=${n}`:"/products")};return a.jsxs("div",{className:"min-h-screen font-inter bg-gradient-to-br from-peach-50/30 via-white to-amber-50/30",children:[a.jsx(Il,{}),a.jsx("main",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs(ue,{className:"text-center",children:[a.jsxs(Ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(La,{className:"h-16 w-16 text-red-500"})}),a.jsx(je,{className:"text-2xl font-playfair text-red-600",children:"Payment Cancelled"})]}),a.jsx(de,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Payment was not completed"}),a.jsx("p",{className:"text-red-700",children:"You cancelled the payment process. Don't worry - your order information has been saved and you can complete the payment at any time."})]}),a.jsxs("div",{className:"text-left space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"What you can do:"}),a.jsxs("ul",{className:"text-gray-600 space-y-1",children:[a.jsx("li",{children:"• Try the payment process again"}),a.jsx("li",{children:"• Contact us directly to complete your order"}),a.jsx("li",{children:"• Browse more products and add them to a new order"}),a.jsx("li",{children:"• Your order details are saved for future reference"})]})]}),a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Need Help?"}),a.jsxs("p",{className:"text-amber-700 text-sm",children:["If you're experiencing issues with payment, please contact us at"," ",a.jsx("a",{href:"mailto:info@francescofiori.it",className:"underline",children:"info@francescofiori.it"})," ","or call us directly. We're here to help!"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[a.jsxs(U,{onClick:s,className:"flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",children:[a.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Try Payment Again"]}),a.jsxs(U,{onClick:()=>t("/products"),variant:"outline",className:"flex-1",children:[a.jsx(rb,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})]}),a.jsxs(U,{onClick:()=>t("/"),variant:"ghost",className:"w-full",children:[a.jsx(ab,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})})]})})})}),a.jsx(Rl,{})]})};async function r6(){try{console.log("[VerifyDB] Checking categories data...");const{data:e,error:t}=await B.from("categories").select("id, name, slug, is_active").eq("is_active",!0);if(t)return{success:!1,message:`Categories query error: ${t.message}`,details:t};if(!e||e.length===0)return{success:!1,message:"No active categories found in database"};const r=["matrimoni","fiori-piante","fiori-finti","funerali"],n=e.map(i=>i.slug),s=r.filter(i=>!n.includes(i));return s.length>0?{success:!1,message:`Missing required categories: ${s.join(", ")}`,details:{existing:n,missing:s}}:{success:!0,message:`Found all ${e.length} required categories`,details:{categories:e.map(i=>({name:i.name,slug:i.slug}))}}}catch(e){return{success:!1,message:`Categories verification error: ${e.message}`,details:e}}}async function n6(){try{console.log("[VerifyDB] Checking products data...");const{data:e,error:t}=await B.from("products").select(`
        id,
        name,
        price,
        is_active,
        is_featured,
        category_id,
        categories (
          id,
          name,
          slug
        )
      `).eq("is_active",!0);if(t)return{success:!1,message:`Products query error: ${t.message}`,details:t};if(!e||e.length===0)return{success:!1,message:"No active products found in database"};const r=e.reduce((c,u)=>{var d;const f=((d=u.categories)==null?void 0:d.slug)||"unknown";return c[f]||(c[f]=[]),c[f].push(u),c},{}),n=["matrimoni","fiori-piante","fiori-finti","funerali"],s=Object.keys(r),i=n.filter(c=>!s.includes(c)),o=e.filter(c=>!c.categories);let l=[];return i.length>0&&l.push(`Categories without products: ${i.join(", ")}`),o.length>0&&l.push(`${o.length} products missing category links`),{success:l.length===0,message:l.length===0?`Found ${e.length} active products across ${s.length} categories`:`Found ${e.length} products but with issues: ${l.join("; ")}`,details:{totalProducts:e.length,productsByCategory:Object.keys(r).map(c=>({category:c,count:r[c].length})),warnings:l}}}catch(e){return{success:!1,message:`Products verification error: ${e.message}`,details:e}}}async function s6(){console.log("[VerifyDB] Starting comprehensive database verification...");const e=await r6(),t=await n6(),r=e.success&&t.success;return console.log("[VerifyDB] Verification complete:",{categories:e.success,products:t.success,overall:r}),{categories:e,products:t,overall:r}}const i6=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),[s,i]=N.useState(null),{toast:o}=De(),l=async()=>{t(!0);try{console.log("[DatabaseSetup] Starting database initialization..."),await Nd()?(o({title:"Success! 🎉",description:"Database initialized successfully with all categories and products"}),await c()):o({title:"Initialization Failed",description:"Failed to initialize database. Check console for details.",variant:"destructive"})}catch(f){console.error("[DatabaseSetup] Initialization error:",f),o({title:"Error",description:`Database initialization failed: ${f.message}`,variant:"destructive"})}finally{t(!1)}},c=async()=>{n(!0);try{console.log("[DatabaseSetup] Verifying database state...");const f=await s6();i(f),f.overall?o({title:"Database Verified ✅",description:"All categories and products are properly configured"}):o({title:"Database Issues Found",description:"Some issues were found. Check the details below.",variant:"destructive"})}catch(f){console.error("[DatabaseSetup] Verification error:",f),o({title:"Verification Failed",description:`Failed to verify database: ${f.message}`,variant:"destructive"})}finally{n(!1)}},u=({success:f,label:d})=>a.jsxs(at,{variant:f?"default":"destructive",className:"flex items-center gap-1",children:[f?a.jsx(gt,{className:"h-3 w-3"}):a.jsx(La,{className:"h-3 w-3"}),d]});return a.jsxs(ue,{className:"w-full max-w-2xl mx-auto",children:[a.jsxs(Ne,{children:[a.jsxs(je,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"h-5 w-5"}),"Database Setup & Verification"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Initialize and verify the backend database for the Products section"})]}),a.jsxs(de,{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx(U,{onClick:l,disabled:e||r,className:"flex-1",children:e?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Initializing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cE,{className:"mr-2 h-4 w-4"}),"Initialize Database"]})}),a.jsx(U,{onClick:c,disabled:e||r,variant:"outline",className:"flex-1",children:r?a.jsxs(a.Fragment,{children:[a.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cn,{className:"mr-2 h-4 w-4"}),"Verify Database"]})})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Database Status"}),a.jsx(u,{success:s.overall,label:s.overall?"All Good":"Issues Found"})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Categories"})]}),a.jsx(u,{success:s.categories.success,label:s.categories.success?"OK":"Issues"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.categories.message}),s.categories.details&&a.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded",children:a.jsx("pre",{children:JSON.stringify(s.categories.details,null,2)})})]}),a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Products"})]}),a.jsx(u,{success:s.products.success,label:s.products.success?"OK":"Issues"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.products.message}),s.products.details&&a.jsx("div",{className:"text-xs bg-gray-50 p-2 rounded",children:a.jsx("pre",{children:JSON.stringify(s.products.details,null,2)})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Setup Instructions:"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:'1. Click "Initialize Database" to create categories and products'}),a.jsx("li",{children:'2. Click "Verify Database" to check the current state'}),a.jsx("li",{children:"3. Check that all 4 categories exist: Matrimoni, Fiori & Piante, Fiori Finti, Funerali"}),a.jsx("li",{children:"4. Verify that products are properly linked to categories"}),a.jsx("li",{children:"5. Go to the Products section to see the results"})]})]})]})]})},a6=new xA,o6=()=>a.jsx(zt,{componentName:"App",children:a.jsx(NA,{client:a6,children:a.jsx(tA,{children:a.jsxs(_A,{children:[a.jsx(zA,{}),a.jsx(QE,{}),a.jsx(WT,{}),a.jsx(P2,{children:a.jsxs(k2,{children:[a.jsx(yn,{path:"/",element:a.jsx(zt,{componentName:"Index",children:a.jsx(q4,{})})}),a.jsx(yn,{path:"/admin",element:a.jsx(zt,{componentName:"Admin",children:a.jsx(q$,{})})}),a.jsx(yn,{path:"/order",element:a.jsx(zt,{componentName:"Order",children:a.jsx(W$,{})})}),a.jsx(yn,{path:"/orders",element:a.jsx(zt,{componentName:"OrderDashboard",children:a.jsx(Y$,{})})}),a.jsx(yn,{path:"/menu",element:a.jsx(zt,{componentName:"MenuPage",children:a.jsx(X$,{})})}),a.jsx(yn,{path:"/payment/success",element:a.jsx(zt,{componentName:"PaymentSuccess",children:a.jsx(e6,{})})}),a.jsx(yn,{path:"/payment/cancel",element:a.jsx(zt,{componentName:"PaymentCancel",children:a.jsx(t6,{})})}),a.jsx(yn,{path:"/database-setup",element:a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:a.jsx(zt,{componentName:"DatabaseSetup",children:a.jsx(i6,{})})})}),a.jsx(yn,{path:"*",element:a.jsx(J$,{})})]})}),a.jsx($A,{})]})})})});A0(document.getElementById("root")).render(a.jsx(o6,{}));
